<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Spring--å››ã€Springä¸­çš„JdbcTemplateå’Œäº‹åŠ¡æŽ§åˆ¶]]></title>
    <url>%2F2019%2F11%2F08%2FSpring--%E5%9B%9B%E3%80%81Spring%E4%B8%AD%E7%9A%84JdbcTemplate%E5%92%8C%E4%BA%8B%E5%8A%A1%E6%8E%A7%E5%88%B6%2F</url>
    <content type="text"><![CDATA[Springâ€“å››ã€Springä¸­çš„JdbcTemplateå’Œäº‹åŠ¡æŽ§åˆ¶Springä¸­çš„JdbcTemplateJdbcTemplateæ¦‚è¿°å®ƒæ˜¯springæ¡†æž¶ä¸­æä¾›çš„ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯å¯¹åŽŸå§‹Jdbc APIå¯¹è±¡çš„ç®€å•å°è£…ã€‚springæ¡†æž¶ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šçš„æ“ä½œæ¨¡æ¿ç±»ã€‚ æ“ä½œå…³ç³»åž‹æ•°æ®çš„ï¼š JdbcTemplate HibernateTemplate æ“ä½œnosqlæ•°æ®åº“çš„ï¼š RedisTemplate æ“ä½œæ¶ˆæ¯é˜Ÿåˆ—çš„ï¼š JmsTemplate çŽ¯å¢ƒæ­å»ºéœ€è¦å¯¼å…¥çš„jaråŒ…ï¼ˆç‰ˆæœ¬å¯è‡ªè¡Œé€‰æ‹©ï¼‰ï¼š spring-jdbc-5.1.9.RELEASE.jarï¼ˆJDBCï¼‰ spring-tx-5.1.9.RELEASE.jarï¼ˆå…³äºŽäº‹åŠ¡çš„ï¼‰ spring-context-5.1.9.RELEASE.jarï¼ˆIOCï¼‰ ç¼–å†™é…ç½®æ–‡ä»¶123456&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;/beans&gt; é…ç½®æ•°æ®æºï¼ˆSpringå†…ç½®æ•°æ®æºï¼‰123456&lt;bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt; &lt;property name="driverClassName" value="com.mysql.cj.jdbc.Driver"&gt;&lt;/property&gt; &lt;property name="url" value="jdbc:mysql://localhost:3306/test?serverTimezone=UTC"&gt;&lt;/property&gt; &lt;property name="username" value="root"&gt;&lt;/property&gt; &lt;property name="password" value="password"&gt;&lt;/property&gt;&lt;/bean&gt; é…ç½®JdbcTemplate123&lt;bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate"&gt; &lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt; æ“ä½œç¤ºä¾‹1234567891011121314151617181920212223242526272829303132333435363738//å®žä½“ç±»public class UserManager &#123; String username, password; double money; @Override public String toString() &#123; return "UserManager&#123;" + "username='" + username + '\'' + ", password='" + password + '\'' + ", money=" + money + '&#125;'; &#125; public String getUsername() &#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125; public double getMoney() &#123; return money; &#125; public void setMoney(double money) &#123; this.money = money; &#125;&#125; 123456789101112131415//èŽ·å–Springå®¹å™¨ApplicationContext ac = new ClassPathXmlApplicationContext("bean.xml");//æ ¹æ®idèŽ·å–beanå¯¹è±¡JdbcTemplate jt = (JdbcTemplate)ac.getBean("jdbcTemplate");//æŸ¥è¯¢//BeanPropertyRowMapperæ˜¯å°†æŸ¥è¯¢çš„æ¯ä¸€è¡Œå°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œæ”¾åˆ°é›†åˆä¸­//è¿™é‡Œå°±æ˜¯å°†æŸ¥è¯¢åˆ°çš„usernameã€passwordã€moneyä¸‰ä¸ªå±žæ€§å°è£…æˆä¸€ä¸ªUserManagerç±»List&lt;UserManager&gt; userManagers = jt.query("select * from user", new BeanPropertyRowMapper&lt;UserManager(UserManager.class));//åˆ é™¤jt.update("delete from user where username = ?","aaa");//æ’å…¥jt.update("insert into user(username,password,money)values(?,?)","aaa","fff",5000);//æ›´æ–°jt.update("update user set money = money-? where username = ?",300,"aaa"); åœ¨DAOä¸­ä½¿ç”¨JdbcTemplateå®žä½“ç±»å¦‚ä¸Šæ‰€ç¤º ç¬¬ä¸€ç§æ–¹å¼åœ¨DAOç±»ä¸­å®šä¹‰JdbcTemplate UserManagerçš„DAOç±» 123456789101112131415161718192021222324252627public class UserManagerDao implements IUserManagerDao &#123; JdbcTemplate jdbcTemplate; public void setJdbcTemplate(JdbcTemplate jdbcTemplate) &#123; this.jdbcTemplate = jdbcTemplate; &#125; @Override public UserManager FindUserByName(String username) &#123; List&lt;UserManager&gt; userManagers = jdbcTemplate.query("select * from user where username=?", new BeanPropertyRowMapper&lt;UserManager&gt;(UserManager.class), username); return userManagers.isEmpty()?null:userManagers.get(0); &#125; @Override public List&lt;UserManager&gt; FindAll() &#123; return jdbcTemplate.query("select * from user", new BeanPropertyRowMapper&lt;UserManager&gt;(UserManager.class)); &#125; @Override public void UpdateUserByName(UserManager userManager) &#123; jdbcTemplate.update("update user set password=?, money=? where username=?", userManager.getPassword(), userManager.getMoney(), userManager.getUsername()); &#125;&#125; é€šè¿‡xmlæ–‡ä»¶é…ç½®è¯¥DAOç±»ï¼š 1234567891011121314&lt;bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt; &lt;property name="driverClassName" value="com.mysql.cj.jdbc.Driver"&gt;&lt;/property&gt; &lt;property name="url" value="jdbc:mysql://localhost:3306/test?serverTimezone=UTC"&gt;&lt;/property&gt; &lt;property name="username" value="root"&gt;&lt;/property&gt; &lt;property name="password" value="password"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean id="userManagerDao" class="com.dao.Impl.UserManagerDao"&gt; &lt;property name="jdbcTemplate" ref="jdbcTemplate"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate"&gt; &lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt; æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œå½“DAOç±»è¿‡å¤šæ—¶ä»¥ä¸‹ä»£ç ä¼šæœ‰å¾ˆå¤šé‡å¤ä»£ç ï¼š 1234JdbcTemplate jdbcTemplate;public void setJdbcTemplate(JdbcTemplate jdbcTemplate) &#123; this.jdbcTemplate = jdbcTemplate;&#125; ç¬¬äºŒç§æ–¹å¼è®©DAOç±»ç»§æ‰¿JdbcDaoSupport JdbcDaoSupportæ˜¯springæ¡†æž¶ä¸ºæˆ‘ä»¬æä¾›çš„ä¸€ä¸ªç±»ï¼Œè¯¥ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªJdbcTemplateå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥èŽ·å–ä½¿ç”¨ï¼Œåªéœ€è¦ç»§æ‰¿è¯¥ç±»å°±å¯ä»¥äº†ã€‚è€Œä¸”æ­¤æ—¶æˆ‘ä»¬ä¸éœ€è¦å†ç”¨xmlæ–‡ä»¶æ³¨å…¥jdbcTemplateäº†ï¼Œè€Œå¯ä»¥ç›´æŽ¥ç»™UserManagerDaoç±»æ³¨å…¥ä¸€ä¸ªdataSourceå¯¹è±¡ï¼ˆå› ä¸ºJdbcDaoSupportç±»æœ‰dataSourceçš„setæ–¹æ³•ï¼Œä»–ä¼šè‡ªåŠ¨ç”¨dataSourceåˆ›å»ºJdbcTemplateï¼‰ï¼Œå¯è§xmlæ–‡ä»¶é…ç½®æ–¹æ³• 12345678910111213141516171819public class UserManagerDao extends JdbcDaoSupport implements IUserManagerDao &#123; @Override public UserManager FindUserByName(String username) &#123; List&lt;UserManager&gt; userManagers = super.getJdbcTemplate().query("select * from user where username=?", new BeanPropertyRowMapper&lt;UserManager&gt;(UserManager.class), username); return userManagers.isEmpty()?null:userManagers.get(0); &#125; @Override public List&lt;UserManager&gt; FindAll() &#123; return super.getJdbcTemplate().query("select * from user", new BeanPropertyRowMapper&lt;UserManager&gt;(UserManager.class)); &#125; @Override public void UpdateUserByName(UserManager userManager) &#123; super.getJdbcTemplate().update("update user set password=?, money=? where username=?", userManager.getPassword(), userManager.getMoney(), userManager.getUsername()); &#125;&#125; 123456789&lt;bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt; &lt;property name="driverClassName" value="com.mysql.cj.jdbc.Driver"&gt;&lt;/property&gt; &lt;property name="url" value="jdbc:mysql://localhost:3306/test?serverTimezone=UTC"&gt;&lt;/property&gt; &lt;property name="username" value="root"&gt;&lt;/property&gt; &lt;property name="password" value="password"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;bean id="userManagerDao" class="com.dao.Impl.UserManagerDao"&gt; &lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt; å¯¹æ¯”å½“ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•æ—¶ç¡®å®žå‡å°‘äº†ä»£ç çš„å†—ä½™ï¼Œä½†æ˜¯å½“ä½¿ç”¨æ³¨è§£é…ç½®æ—¶ï¼Œç”±äºŽJdbcDaoSupportç±»æ˜¯Springçš„ç±»ï¼Œæˆ‘ä»¬æ— æ³•ä¿®æ”¹ï¼Œåˆ™ç¬¬äºŒç§æ–¹æ³•åªæœ‰å½“ä½¿ç”¨xmlæ–‡ä»¶é…ç½®æ—¶æ‰å¯ä»¥ä½¿ç”¨ï¼Œç¬¬ä¸€ç§æ–¹æ³•å¯ä»¥åœ¨ä½¿ç”¨æ³¨è§£æ—¶ä½¿ç”¨ã€‚ Springä¸­çš„äº‹åŠ¡æŽ§åˆ¶Springä¸­çš„äº‹åŠ¡æŽ§åˆ¶æ¦‚è¿°äº‹åŠ¡æŽ§åˆ¶å³è®©ç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆçš„äº‹åŠ¡ä¿æŒåŽŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ã€‚ åŽŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸€ä¸ªåŽŸå­æ“ä½œï¼Œç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆã€‚äº‹åŠ¡çš„åŽŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨ã€‚ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šä¸€æ—¦äº‹åŠ¡å®Œæˆï¼ˆä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰ï¼Œç³»ç»Ÿå¿…é¡»ç¡®ä¿å®ƒæ‰€å»ºæ¨¡çš„ä¸šåŠ¡å¤„äºŽä¸€è‡´çš„çŠ¶æ€ï¼Œè€Œä¸ä¼šæ˜¯éƒ¨åˆ†å®Œæˆéƒ¨åˆ†å¤±è´¥ã€‚åœ¨çŽ°å®žä¸­çš„æ•°æ®ä¸åº”è¯¥è¢«ç ´åã€‚ éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¯èƒ½æœ‰è®¸å¤šäº‹åŠ¡ä¼šåŒæ—¶å¤„ç†ç›¸åŒçš„æ•°æ®ï¼Œå› æ­¤æ¯ä¸ªäº‹åŠ¡éƒ½åº”è¯¥ä¸Žå…¶ä»–äº‹åŠ¡éš”ç¦»å¼€æ¥ï¼Œé˜²æ­¢æ•°æ®æŸåã€‚ æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€æ—¦äº‹åŠ¡å®Œæˆï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆç³»ç»Ÿé”™è¯¯ï¼Œå®ƒçš„ç»“æžœéƒ½ä¸åº”è¯¥å—åˆ°å½±å“ï¼Œè¿™æ ·å°±èƒ½ä»Žä»»ä½•ç³»ç»Ÿå´©æºƒä¸­æ¢å¤è¿‡æ¥ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œäº‹åŠ¡çš„ç»“æžœè¢«å†™åˆ°æŒä¹…åŒ–å­˜å‚¨å™¨ä¸­ã€‚ ä¸¾ä¸€ä¸ªç»å…¸çš„ä¾‹å­å°±æ˜¯é“¶è¡Œè½¬è´¦ï¼Œé“¶è¡Œè½¬è´¦åˆ†ä¸ºå‡ æ­¥ï¼šè½¬è´¦å¼€å§‹ï¼Œè´¦æˆ·ä¸€æ‰£é’±ï¼Œè´¦æˆ·äºŒåŠ é’±ï¼Œè½¬è´¦ç»“æŸã€‚ä½†æ˜¯å½“è´¦æˆ·ä¸€æ‰£è¿‡é’±ä¹‹åŽç³»ç»Ÿå‡ºçŽ°äº†æŸç§å¼‚å¸¸è½¬è´¦è¡Œä¸ºä¸èƒ½ç»§ç»­è¿›è¡Œã€‚å¦‚æžœæ²¡æœ‰äº‹åŠ¡æŽ§åˆ¶è¿™æ¬¡è½¬è´¦å°†ä¼šè¢«å¼ºè¡Œç»“æŸï¼Œè€Œäº‹åŠ¡æŽ§åˆ¶åˆ™ä¼šä¿æŒå…¶ä¸€è‡´æ€§ï¼Œå¼€å¯å›žæ»šäº‹åŠ¡ï¼Œè®©æ‰€æœ‰ä¿¡æ¯æ¢å¤åˆ°è½¬è´¦å¼€å§‹å‰çš„çŠ¶æ€ã€‚ Springçš„äº‹åŠ¡æŽ§åˆ¶éƒ½æ˜¯åŸºäºŽAOPçš„ï¼Œåˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯å£°æ˜Žå¼äº‹åŠ¡æŽ§åˆ¶ï¼ˆå³ç”¨é…ç½®çš„æ–¹å¼æ¥å®žçŽ°ï¼‰ï¼Œä¸€ç§æ˜¯ç¼–ç¨‹å¼äº‹åŠ¡æŽ§åˆ¶ï¼ˆå³ç”¨ç¼–ç¨‹çš„æ–¹å¼æ¥å®žçŽ°ï¼‰ã€‚ Springäº‹åŠ¡æŽ§åˆ¶APIä»‹ç» PlatformTransactionManageräº‹åŠ¡ç®¡ç†å™¨ 123TransactionStatus getTransaction();//èŽ·å–äº‹åŠ¡çš„çŠ¶æ€ä¿¡æ¯void commit();//æäº¤äº‹åŠ¡void rollback();//å›žæ»šäº‹åŠ¡ TransactionDefinitionäº‹åŠ¡çš„å®šä¹‰ä¿¡æ¯å¯¹è±¡ 12345String getName();//èŽ·å–äº‹åŠ¡å¯¹è±¡åint getIsolationLevel();//èŽ·å–äº‹åŠ¡éš”ç¦»çº§int getPropagationBehavior();//èŽ·å–äº‹åŠ¡ä¼ æ’­è¡Œä¸ºint getTimeout();//èŽ·å–äº‹åŠ¡è¶…æ—¶æ—¶é—´boolean isReadOnly();//èŽ·å–äº‹åŠ¡æ˜¯å¦åªè¯» è¯»å†™åž‹äº‹åŠ¡ï¼šå¢žã€åˆ ã€æ”¹ åªè¯»åž‹äº‹åŠ¡ï¼šæŸ¥è¯¢ äº‹åŠ¡çš„éš”ç¦»çº§åˆ« äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º REQUIRED:å¦‚æžœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æžœå·²ç»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ã€‚ä¸€èˆ¬çš„é€‰æ‹©ï¼ˆé»˜è®¤å€¼ï¼‰ SUPPORTS:æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æžœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éžäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼ˆæ²¡æœ‰äº‹åŠ¡ï¼‰ MANDATORYï¼šä½¿ç”¨å½“å‰çš„äº‹åŠ¡ï¼Œå¦‚æžœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ REQUERS_NEW:æ–°å»ºäº‹åŠ¡ï¼Œå¦‚æžœå½“å‰åœ¨äº‹åŠ¡ä¸­ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ NOT_SUPPORTED:ä»¥éžäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æžœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ· NEVER:ä»¥éžäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æžœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠ›å‡ºå¼‚å¸¸ NESTED:å¦‚æžœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æžœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡ŒREQUIREDç±»ä¼¼çš„æ“ä½œã€‚ è¶…æ—¶æ—¶é—´é»˜è®¤å€¼æ˜¯-1ï¼Œæ²¡æœ‰è¶…æ—¶é™åˆ¶ã€‚å¦‚æžœæœ‰ï¼Œä»¥ç§’ä¸ºå•ä½è¿›è¡Œè®¾ç½®ã€‚ æ˜¯å¦æ˜¯åªè¯»äº‹åŠ¡å»ºè®®æŸ¥è¯¢æ—¶è®¾ç½®ä¸ºåªè¯»ã€‚ TransactionStatusæè¿°äº†æŸä¸ªæ—¶é—´ç‚¹ä¸Šåäº”å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯ 123456void flush();//åˆ·æ–°äº‹åŠ¡boolean hasSavepoint();//èŽ·å–æ˜¯å¦å­˜åœ¨å­˜å‚¨ç‚¹boolean isCompleted();//èŽ·å–äº‹åŠ¡æ˜¯å¦å®Œæˆboolean isNewTransaction();//èŽ·å–äº‹åŠ¡æ˜¯å¦ä¸ºæ–°äº‹åŠ¡boolean isRollbackOnly();//èŽ·å–äº‹åŠ¡æ˜¯å¦å›žæ»švoid setRollbackOnly();//è®¾ç½®äº‹åŠ¡å›žæ»š åŸºäºŽXMLçš„å£°æ˜Žå¼äº‹åŠ¡æŽ§åˆ¶çŽ¯å¢ƒæ­å»ºè®¾ç½®æ‰“åŒ…æ–¹å¼å’Œå¯¼åŒ…å…ˆè®¾ç½®æ‰“åŒ…æ–¹å¼ä¸ºjaråŒ…ï¼Œå¯¼å…¥jaråŒ…ï¼š spring-jdbc spring-tx spring-context æ•°æ®åº“é©±åŠ¨ åˆ›å»ºSpringé…ç½®æ–‡ä»¶å¹¶å¯¼å…¥çº¦æŸï¼ˆæ­¤å¤„éœ€è¦å¯¼å…¥txå’Œaopçš„å‘½åç©ºé—´ï¼‰123456789101112&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"&gt; &lt;/beans&gt; å‡†å¤‡æ•°æ®åº“å’Œå®žä½“ç±»12345create table account( id int primary key auto_increment, name varchar(40), money float )character set utf8 collate utf8_general_ci; 12345678910111213141516171819202122232425262728293031public class Account implements Serializable &#123; private Integer id; private String name; private Float money; @Override public String toString() &#123; return "Account&#123;" + "id=" + id + ", name='" + name + '\'' + ", money=" + money + '&#125;'; &#125; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Float getMoney() &#123; return money; &#125; public void setMoney(Float money) &#123; this.money = money; &#125;&#125; å‡†å¤‡Daoå±‚æŽ¥å£å’Œå®žçŽ°ç±»æŽ¥å£ï¼š 12345public interface IAccountDao &#123; Account findAccountById(Integer id); Account findAccountByName(String name); void updateAccount(Account account);&#125; å®žçŽ°ç±»ï¼š 123456789101112131415161718192021222324public class AccountDaoImpl extends JdbcDaoSupport implements IAccountDao &#123; public Account findAccountById(Integer id) &#123; List&lt;Account&gt; list = getJdbcTemplate().query("select * from account where id = ?", new BeanPropertyRowMapper&lt;Account&gt;(Account.class), id); return list.isEmpty()?null:list.get(0); &#125; public Account findAccountByName(String name) &#123; List&lt;Account&gt; list = getJdbcTemplate().query("select * from account where name = ?", new BeanPropertyRowMapper&lt;Account&gt;(Account.class), name); if (list.isEmpty())&#123; return null; &#125; if (list.size()&gt;1)&#123; throw new RuntimeException("ç»“æžœä¸å”¯ä¸€"); &#125; return list.get(0); &#125; public void updateAccount(Account account) &#123; getJdbcTemplate().update("update account set money = ? where id = ?", account.getMoney(), account.getId()); &#125;&#125; å‡†å¤‡ä¸šåŠ¡å±‚æŽ¥å£åŠå®žçŽ°ç±»æŽ¥å£ï¼š 1234public interface IAccountService &#123; Account findAccountById(Integer id); void transfer(String sourceName, String targetName, Float money);&#125; å®žçŽ°ç±»ï¼š 1234567891011121314151617181920212223public class AccountServiceImpl implements IAccountService &#123; private IAccountDao accountDao; public void setAccountDao(IAccountDao accountDao) &#123; this.accountDao = accountDao; &#125; public Account findAccountById(Integer id) &#123; return accountDao.findAccountById(id); &#125; public void transfer(String sourceName, String targetName, Float money) &#123; Account source = accountDao.findAccountByName(sourceName); Account target = accountDao.findAccountByName(targetName); source.setMoney(source.getMoney()-money); target.setMoney(target.getMoney()+money); accountDao.updateAccount(source); accountDao.updateAccount(target); &#125;&#125; åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®æºï¼Œä¸šåŠ¡å±‚åŠæŒä¹…å±‚1234567891011121314151617&lt;!--é…ç½®æ•°æ®æº--&gt;&lt;bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt; &lt;property name="driverClassName" value="com.mysql.cj.jdbc.Driver"&gt;&lt;/property&gt; &lt;property name="url" value="jdbc:mysql://localhost:3306/test?serverTimezone=UTC"&gt;&lt;/property&gt; &lt;property name="username" value="root"&gt;&lt;/property&gt; &lt;property name="password" value="password"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!--é…ç½®Dao--&gt;&lt;bean id="accountDao" class="com.dao.Impl.AccountDaoImpl"&gt; &lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!--é…ç½®service--&gt;&lt;bean id="accountService" class="com.service.Impl.AccountServiceImpl"&gt; &lt;property name="accountDao" ref="accountDao"&gt;&lt;/property&gt;&lt;/bean&gt; åŸºäºŽXMLçš„é…ç½®æ­¥éª¤é…ç½®äº‹åŠ¡ç®¡ç†å™¨1234&lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;&lt;bean id="transactionManager"class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;&lt;/bean&gt; é…ç½®äº‹åŠ¡çš„é€šçŸ¥åŠå±žæ€§1234567891011&lt;!--é…ç½®äº‹åŠ¡çš„é€šçŸ¥--&gt;&lt;tx:advice id="txAdvice" transaction-manager="transactionManager"&gt; &lt;!--é…ç½®äº‹åŠ¡çš„å±žæ€§ nameä¸ºä¸šåŠ¡çš„æ ¸å¿ƒæ–¹æ³•åç§°ï¼Œå¯ä»¥ç”¨é€šé…ç¬¦*ä»£æ›¿ find*å³è¡¨ç¤ºä»¥findå¼€å¤´çš„æ–¹æ³•ï¼Œä»–æ¯”å•ç”¨é€šé…ç¬¦ä¼˜å…ˆçº§æ›´é«˜ --&gt; &lt;tx:attributes&gt; &lt;tx:method name="*" read-only="false" propagation="REQUIRED"/&gt; &lt;tx:method name="find*" read-only="true" propagation="SUPPORTS"&gt;&lt;/tx:method&gt; &lt;/tx:attributes&gt;&lt;/tx:advice&gt; read-onlyï¼šæ˜¯å¦æ˜¯åªè¯»äº‹åŠ¡ã€‚é»˜è®¤falseï¼Œä¸åªè¯»ã€‚ isolationï¼šæŒ‡å®šäº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚é»˜è®¤å€¼æ˜¯ä½¿ç”¨æ•°æ®åº“çš„é»˜è®¤éš”ç¦»çº§åˆ«ã€‚ propagationï¼šæŒ‡å®šäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºã€‚ timeoutï¼šæŒ‡å®šè¶…æ—¶æ—¶é—´ã€‚é»˜è®¤å€¼ä¸ºï¼š-1ã€‚æ°¸ä¸è¶…æ—¶ã€‚ rollback-forï¼šç”¨äºŽæŒ‡å®šä¸€ä¸ªå¼‚å¸¸ï¼Œå½“æ‰§è¡Œäº§ç”Ÿè¯¥å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡å›žæ»šã€‚äº§ç”Ÿå…¶ä»–å¼‚å¸¸ï¼Œäº‹åŠ¡ä¸å›žæ»šã€‚æ²¡æœ‰é»˜è®¤å€¼ï¼Œä»»ä½•å¼‚å¸¸éƒ½å›žæ»šã€‚ no-rollback-forï¼šç”¨äºŽæŒ‡å®šä¸€ä¸ªå¼‚å¸¸ï¼Œå½“äº§ç”Ÿè¯¥å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡ä¸å›žæ»šï¼Œäº§ç”Ÿå…¶ä»–å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡å›žæ»šã€‚æ²¡æœ‰é»˜è®¤å€¼ï¼Œä»»ä½•å¼‚å¸¸éƒ½å›žæ»šã€‚ é…ç½®AOPåˆ‡å…¥ç‚¹è¡¨è¾¾å¼åŠåˆ‡å…¥ç‚¹è¡¨è¾¾å¼å’Œäº‹åŠ¡é€šçŸ¥çš„å¯¹åº”å…³ç³»12345&lt;aop:config&gt; &lt;aop:pointcut id="pt1" expression="execution(* com.service.Impl.*.*(..))"/&gt; &lt;!--å»ºç«‹åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å’Œäº‹åŠ¡é€šçŸ¥çš„å¯¹åº”å…³ç³»--&gt; &lt;aop:advisor advice-ref="txAdvice" pointcut-ref="pt1"&gt;&lt;/aop:advisor&gt;&lt;/aop:config&gt; åŸºäºŽæ³¨è§£çš„å£°æ˜Žå¼äº‹åŠ¡æŽ§åˆ¶]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>æ¡†æž¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring--ä¸‰ã€Springçš„AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰]]></title>
    <url>%2F2019%2F10%2F28%2FSpring--%E4%B8%89%E3%80%81Spring%E7%9A%84AOP%EF%BC%88%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B%EF%BC%89%2F</url>
    <content type="text"><![CDATA[Springâ€“ä¸‰ã€Springçš„AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰AOPæ¦‚è¿°ä»€ä¹ˆæ˜¯AOP åœ¨è½¯ä»¶ä¸šï¼ŒAOPä¸ºAspect Oriented Programmingçš„ç¼©å†™ï¼Œæ„ä¸ºï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œé€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®žçŽ°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æž¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒåž‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»Žè€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½Žï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆçŽ‡ã€‚ ç®€å•çš„è¯´å®ƒå°±æ˜¯æŠŠæˆ‘ä»¬ç¨‹åºé‡å¤çš„ä»£ç æŠ½å–å‡ºæ¥ï¼Œåœ¨éœ€è¦æ‰§è¡Œçš„æ—¶å€™ï¼Œä½¿ç”¨åŠ¨æ€ä»£ç†çš„æŠ€æœ¯ï¼Œåœ¨ä¸ä¿®æ”¹æºç çš„åŸºç¡€ä¸Šï¼Œå¯¹æˆ‘ä»¬çš„å·²æœ‰æ–¹æ³•è¿›è¡Œå¢žå¼ºã€‚ AOPçš„ä½œç”¨åŠä¼˜åŠ¿ ä½œç”¨ï¼š åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œä¸ä¿®æ”¹æºç å¯¹å·²æœ‰æ–¹æ³•è¿›è¡Œå¢žå¼ºã€‚ ä¼˜åŠ¿ï¼š å‡å°‘é‡å¤ä»£ç  æé«˜å¼€å‘æ•ˆçŽ‡ ç»´æŠ¤æ–¹ä¾¿ ä¸¾ä¾‹è¯´æ˜Žå…ˆä¸¾ä¸ªå°æ —å­ï¼Œå³è‡ªäº§è‡ªé”€ï¼Œåœ¨å¾ˆä¹…ä»¥å‰æˆ‘ä»¬è´­ä¹°ç”µè„‘éƒ½æ˜¯ç›´æŽ¥ä»ŽåŽ‚å®¶æ‰‹é‡Œè´­ä¹°ï¼Œä½†æ˜¯å½“ç”Ÿäº§åŽ‚å®¶é€æ¸æ‰©å¤§ï¼Œé”€å”®ç½‘ç»œä¹Ÿé€æ¸æ‰©å¤§ï¼Œç”Ÿäº§åŽ‚å®¶åˆ™æ— æ³•é¡¾åŠè¶Šæ¥è¶Šå¤§çš„é”€å”®ä¸šåŠ¡ï¼Œè¿™æ—¶å€™ä»£ç†å•†å°±å‡ºçŽ°äº†ã€‚ä»–ä»¬é€šè¿‡èµšå–å·®ä»·æ¥å¸®åŠ©ç”Ÿäº§åŽ‚å®¶é”€å”®äº§å“ï¼Œç”Ÿäº§åŽ‚å®¶å°±èƒ½ä¸“å¿ƒç”Ÿäº§ï¼Œè€Œä¸­é—´èµšå–å·®ä»·å’Œé”€å”®è¿™ä¸ªæ“ä½œå°±æ˜¯å¯¹åŽŸæœ‰ç”Ÿäº§å•†åŠŸèƒ½çš„åŠ å¼ºã€‚ æ‰€ä»¥æˆ‘ä»¬çŽ°åœ¨çŸ¥é“ï¼Œè¦æƒ³å®žçŽ°AOPï¼Œå°±éœ€è¦æ¥çœ‹ä¸€çœ‹ä»£ç†æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚ ä»£ç†Proxyä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æŽ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå¯¹è±¡ä¸é€‚åˆæˆ–è€…ä¸èƒ½ç›´æŽ¥å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ï¼Œä»£ç†ä¹Ÿå¯ä»¥å¯¹è¢«ä»£ç†ç±»è¿›è¡Œå¢žå¼ºã€‚ æŒ‰ç…§ä»£ç†çš„åˆ›å»ºæ—¶æœŸï¼Œä»£ç†ç±»å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š é™æ€ï¼šç”±ç¨‹åºå‘˜åˆ›å»ºä»£ç†ç±»æˆ–ç‰¹å®šå·¥å…·è‡ªåŠ¨ç”Ÿæˆæºä»£ç å†å¯¹å…¶ç¼–è¯‘ã€‚åœ¨ç¨‹åºè¿è¡Œå‰ä»£ç†ç±»çš„.classæ–‡ä»¶å°±å·²ç»å­˜åœ¨äº†ã€‚ åŠ¨æ€ï¼šåœ¨ç¨‹åºè¿è¡Œæ—¶è¿ç”¨åå°„æœºåˆ¶åŠ¨æ€åˆ›å»ºè€Œæˆã€‚ æ³¨æ„ï¼šè¢«ä»£ç†ç±»å¿…é¡»ç»§æ‰¿ä¸€ä¸ªæŽ¥å£ï¼Œæˆ–ç»§æ‰¿ä¸€ä¸ªç±»ï¼ˆä½†æ˜¯éœ€è¦ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆCGLibï¼Œè¢«ä»£ç†ç±»ä¸èƒ½ç”¨finalä¿®é¥°ï¼‰æ”¯æŒæ¥ä»£ç†ï¼‰ é™æ€ä»£ç†é™æ€ä»£ç†å°±æ˜¯ç¨‹åºå‘˜è‡ªå·±æ‰‹åŠ¨ç¼–å†™çš„æºä»£ç æ¥å¯¹è¢«ä»£ç†å¯¹è±¡è¿›è¡Œå¢žå¼ºã€‚ä¸‹é¢è®²ä¸€ä¸ªä¾‹å­ï¼š IUserManageræŽ¥å£æ˜¯ç”¨äºŽè§„èŒƒUserManagerç±»çš„ä¸€ä¸ªæŽ¥å£ã€‚ UserManagerç±»æ˜¯è¢«ä»£ç†ç±»ï¼Œä»–æœ‰åˆ›å»ºç”¨æˆ·å’Œåˆ é™¤ç”¨æˆ·ä¸¤ä¸ªæ–¹æ³•ã€‚ UserManagerProxyç±»æ˜¯ä»£ç†ç±»ï¼Œä»–å°†UserManagerç±»çš„ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œå¢žå¼ºï¼ˆå³åœ¨ä¸ä¿®æ”¹æºç çš„åŸºç¡€ä¸Šæ·»åŠ äº†ä¸€äº›åŠŸèƒ½ï¼‰ã€‚ IUserManagerï¼š 12345public interface IUserManager &#123; public abstract void addUser(String name); public abstract void deleteUser(String name);&#125; UserManagerï¼š 123456789public class UserManager implements IUserManager &#123; public void addUser(String name) &#123; System.out.println("æ·»åŠ äº†ç”¨æˆ·ï¼š" + name); &#125; public void deleteUser(String name) &#123; System.out.println("åˆ é™¤äº†ç”¨æˆ·ï¼š" + name); &#125;&#125; UserManagerProxyï¼š 12345678910111213141516171819202122232425262728public class UserManagerProxy implements IUserManager &#123; private UserManager usr; public UserManagerProxy(UserManager usr) &#123; this.usr = usr; &#125; public void addUser(String name) &#123; try &#123; System.out.println("start...addUser"); this.usr.addUser(name); System.out.println("end...addUser"); &#125;catch (Exception e)&#123; System.out.println("error...addUser"); &#125; &#125; public void deleteUser(String name) &#123; try &#123; System.out.println("start...deleteUser"); this.usr.deleteUser(name); System.out.println("end...deleteUser"); &#125;catch (Exception e)&#123; System.out.println("error..deleteUser"); &#125; &#125;&#125; mainå‡½æ•°è°ƒç”¨ï¼š 12345public static void main(String[] args) &#123; IUserManager userManager = new UserManagerProxy(new UserManager()); userManager.addUser("zzz"); userManager.deleteUser("zzz"); &#125; è¾“å‡ºï¼š æ·»åŠ äº†ç”¨æˆ·ï¼šzzz endâ€¦addUser startâ€¦deleteUser åˆ é™¤äº†ç”¨æˆ·ï¼šzzz endâ€¦deleteUser çœ‹å®Œæºç ä¸éš¾å‘çŽ°ï¼Œå…¶å®žä¹Ÿå°±æ˜¯ç»§æ‰¿ç›¸åŒçš„æŽ¥å£ï¼Œæ¥å®žçŽ°ç›¸åŒçš„æ–¹æ³•ï¼Œåœ¨æ–°ç±»é‡Œé¢æ¥å¯¹åŽŸæœ‰çš„æ–¹æ³•è¿›è¡Œå¢žæ·»å¹¶è°ƒç”¨åŽŸæœ‰çš„æ–¹æ³•ã€‚ ç¼ºç‚¹ï¼š ä»£ç†ç±»å’Œå§”æ‰˜ç±»å®žçŽ°äº†ç›¸åŒçš„æŽ¥å£ï¼Œä»£ç†ç±»é€šè¿‡å§”æ‰˜ç±»å®žçŽ°äº†ç›¸åŒçš„æ–¹æ³•ã€‚è¿™æ ·å°±å‡ºçŽ°äº†å¤§é‡çš„ä»£ç é‡å¤ã€‚å¦‚æžœæŽ¥å£å¢žåŠ ä¸€ä¸ªæ–¹æ³•ï¼Œé™¤äº†æ‰€æœ‰å®žçŽ°ç±»éœ€è¦å®žçŽ°è¿™ä¸ªæ–¹æ³•å¤–ï¼Œæ‰€æœ‰ä»£ç†ç±»ä¹Ÿéœ€è¦å®žçŽ°æ­¤æ–¹æ³•ã€‚å¢žåŠ äº†ä»£ç ç»´æŠ¤çš„å¤æ‚åº¦ã€‚ ä»£ç†å¯¹è±¡åªæœåŠ¡äºŽä¸€ç§ç±»åž‹çš„å¯¹è±¡ï¼Œå¦‚æžœè¦æœåŠ¡å¤šç±»åž‹çš„å¯¹è±¡ã€‚åŠ¿å¿…è¦ä¸ºæ¯ä¸€ç§å¯¹è±¡éƒ½è¿›è¡Œä»£ç†ï¼Œé™æ€ä»£ç†åœ¨ç¨‹åºè§„æ¨¡ç¨å¤§æ—¶å°±æ— æ³•èƒœä»»äº†ã€‚ é™æ€ä»£ç†ç±»åªèƒ½ä¸ºç‰¹å®šçš„æŽ¥å£(Service)æœåŠ¡ã€‚å¦‚æƒ³è¦ä¸ºå¤šä¸ªæŽ¥å£æœåŠ¡åˆ™éœ€è¦å»ºç«‹å¾ˆå¤šä¸ªä»£ç†ç±»ã€‚ åŠ¨æ€ä»£ç†é™æ€ä»£ç†ä¸€ä¸ªç±»åªèƒ½ä¸ºä¸€ä¸ªæŽ¥å£æœåŠ¡ï¼Œé‚£ä¹ˆå¿…å®šä¼šäº§ç”Ÿå¾ˆå¤šä»£ç†ç±»ï¼Œæ‰€ä»¥èƒ½ä¸èƒ½è®©ä¸€ä¸ªä»£ç†ç±»å®Œæˆå…¨éƒ¨ä»£ç†åŠŸèƒ½å‘¢ï¼Œè¿™æ—¶å€™å°±éœ€è¦åŠ¨æ€ä»£ç†æ¥å®žçŽ°äº†ã€‚ åŠ¨æ€ä»£ç†æ˜¯åˆ©ç”¨Javaçš„åå°„æœºåˆ¶åœ¨è¿è¡Œæ—¶åŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œå¯¹äºŽè¦æ‰§è¡Œç›¸åŒæ‰©å±•æ“ä½œçš„ç±»æˆ–æ–¹æ³•ç”±ä¸€ä¸ªç»Ÿä¸€çš„ç±»çš„invokeæ–¹æ³•æ¥å®žçŽ°ã€‚åŠ¨æ€ä»£ç†éœ€è¦ç”¨åˆ°java.lang.reflect.InvocationHandleræŽ¥å£å’Œjava.lang.reflect.Proxyç±»çš„newProxyInstance()æ–¹æ³•ã€‚ InvocationHandleræŽ¥å£çš„å®žçŽ°ç±»æ˜¯ç”¨äºŽå¯¹è¢«ä»£ç†å¯¹è±¡ï¼ˆä¾‹å¦‚UserManagerç±»ï¼‰åŠŸèƒ½è¿›è¡Œæ‰©å±•çš„ç±»ï¼Œå½“è¢«ä»£ç†å¯¹è±¡ä½¿ç”¨æŸä¸ªæ–¹æ³•ï¼ˆä¾‹å¦‚addUseræ–¹æ³•ï¼‰æ—¶ï¼Œä¼šè¢«InvocationHandleræŽ¥å£çš„å®žçŽ°ç±»æ‹¦æˆªï¼Œåœ¨InvocationHandlerå®žçŽ°ç±»çš„invokeæ–¹æ³•ä¸­è°ƒç”¨è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œå¹¶è¿›è¡Œä¸€äº›ä»£ç çš„æ‰©å……ã€‚é‚£ä¹ˆProxyçš„newProxyInstanceæ–¹æ³•å°±æ˜¯å°†è¢«ä»£ç†å¯¹è±¡å’Œä»£ç†å¯¹è±¡ç»‘å®šèµ·æ¥çš„æ–¹æ³•ï¼Œå°†è¢«ä»£ç†å¯¹è±¡çš„ç±»åŠ è½½å™¨å’Œè¢«ä»£ç†ç±»å®žçŽ°çš„æŽ¥å£å¯¹è±¡è¿˜æœ‰InvocationHandlerå®žçŽ°ç±»ä¼ å…¥è¯¥æ–¹æ³•ä¸­å°±èƒ½è¿›è¡Œç»‘å®šã€‚ java.lang.reflect.InvocationHandleræŽ¥å£ï¼š 1234567891011public interface InvocationHandler &#123; /** * è¯¥æŽ¥å£çš„å®žçŽ°ç±»ç”¨äºŽæ‹¦æˆªè¢«ä»£ç†å¯¹è±¡ * @param proxy è¢«ä»£ç†çš„å¯¹è±¡ * @param method éœ€è¦è°ƒç”¨çš„æ–¹æ³•ï¼Œ * Methodç±»æ˜¯ä¸€ä¸ªæ–¹æ³•ç±»ï¼Œå¯ä»¥æŽ¥æ”¶æ–¹æ³•å¯¹è±¡ * @param args æ–¹æ³•è°ƒç”¨æ—¶æ‰€éœ€è¦çš„å‚æ•° */ public Object invoke(Object proxy, Method method, Object[] args) throws Throwable;&#125; java.lang.reflect.Proxyç±»çš„newProxyInstanceæ–¹æ³•ï¼š 12345678910111213141516171819/*** è¯¥æ–¹æ³•ç”¨äºŽæŒ‡å®šè¢«ä»£ç†å¯¹è±¡å…³è”åˆ°å“ªä¸ªInvocationHandlerä¸Š** @param loader ä¸€ä¸ªClassLoaderï¼ˆç±»åŠ è½½å™¨ï¼‰å¯¹è±¡ï¼Œ* å®šä¹‰äº†ç”±å“ªä¸ªClassLoaderå¯¹è±¡æ¥å¯¹ç”Ÿæˆçš„ä»£ç†å¯¹è±¡è¿›è¡ŒåŠ è½½** @param interfaces ä¸€ä¸ªInterfaceå¯¹è±¡çš„æ•°ç»„ï¼Œ* è¡¨ç¤ºçš„æ˜¯æˆ‘å°†è¦ç»™æˆ‘éœ€è¦ä»£ç†çš„å¯¹è±¡æä¾›ä¸€ç»„ä»€ä¹ˆæŽ¥å£ï¼Œ* å¦‚æžœæˆ‘æä¾›äº†ä¸€ç»„æŽ¥å£ç»™å®ƒï¼Œ* é‚£ä¹ˆè¿™ä¸ªä»£ç†å¯¹è±¡å°±å®£ç§°å®žçŽ°äº†è¯¥æŽ¥å£(å¤šæ€)ï¼Œ* è¿™æ ·æˆ‘å°±èƒ½è°ƒç”¨è¿™ç»„æŽ¥å£ä¸­çš„æ–¹æ³•äº†** @param h ä¸€ä¸ªInvocationHandlerå¯¹è±¡ï¼Œ* è¡¨ç¤ºçš„æ˜¯å½“æˆ‘è¿™ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œ* ä¼šå…³è”åˆ°å“ªä¸€ä¸ªInvocationHandlerå¯¹è±¡ä¸Š*/public static Object newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h) è¿™é‡Œç”¨åˆ°çš„UserManagerç±»å’ŒIUserManageræŽ¥å£å’Œé™æ€ä»£ç†éƒ¨åˆ†ç›¸åŒï¼š 123456789101112131415public interface IUserManager &#123; public abstract void addUser(String name); public abstract void deleteUser(String name);&#125;public class UserManager implements IUserManager &#123; public void addUser(String name) &#123; System.out.println("æ·»åŠ äº†ç”¨æˆ·ï¼š" + name); &#125; public void deleteUser(String name) &#123; System.out.println("åˆ é™¤äº†ç”¨æˆ·ï¼š" + name); &#125;&#125; æŽ¥ä¸‹æ¥è¦å®žçŽ°java.lang.reflect.InvocationHandleræŽ¥å£ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * åŠ¨æ€ä»£ç†ç±»åªèƒ½ä»£ç†æŽ¥å£ï¼ˆä¸æ”¯æŒæŠ½è±¡ç±»ï¼‰ï¼Œä»£ç†ç±»éƒ½éœ€è¦å®žçŽ°InvocationHandlerç±»ï¼Œ * å®žçŽ°invokeæ–¹æ³•ã€‚è¯¥invokeæ–¹æ³•å°±æ˜¯è°ƒç”¨è¢«ä»£ç†æŽ¥å£çš„æ‰€æœ‰æ–¹æ³•æ—¶éœ€è¦è°ƒç”¨çš„ï¼Œ * è¯¥invokeæ–¹æ³•è¿”å›žçš„å€¼æ˜¯è¢«è°ƒç”¨æ–¹æ³•çš„è¿”å›žå€¼ */public class LogHandler implements InvocationHandler &#123; //è¢«ä»£ç†çš„ç›®æ ‡å¯¹è±¡ private Object targetObject; /** * ç»‘å®šå…³ç³»ï¼Œä¹Ÿå°±æ˜¯å…³è”åˆ°å“ªä¸ªæŽ¥å£ï¼ˆä¸Žå…·ä½“çš„å®žçŽ°ç±»ç»‘å®šï¼‰çš„å“ªäº›æ–¹æ³•å°†è¢«è°ƒç”¨æ—¶ï¼Œ * æ‰§è¡Œinvokeæ–¹æ³•ã€‚ */ public Object newProxyInstance(Object targetObject)&#123; this.targetObject = targetObject; /** * è¯¥æ–¹æ³•ç”¨äºŽæŒ‡å®šç±»åŠ è½½å™¨ï¼Œè¢«ä»£ç†æŽ¥å£ï¼Œ * åŠå…³è”çš„InvocationHandlerå¯¹è±¡ï¼Œ * è¿”å›žä¸€ä¸ªä»£ç†å¯¹è±¡ */ return Proxy.newProxyInstance(targetObject.getClass().getClassLoader(), targetObject.getClass().getInterfaces(),this); &#125; //å°±æ˜¯å‰é¢çš„InvocationHandleræŽ¥å£çš„invokeæ–¹æ³• @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; Object ret = null; try &#123; System.out.println("start..." + method.getName()); /** * è¿™é‡Œçš„invokeæ–¹æ³•ä¸æ˜¯InvocationHandleræŽ¥å£ä¸­çš„æ–¹æ³•äº† * ä»–æ˜¯Methodç±»ä¸­çš„invokeæ–¹æ³• * @å‚æ•°ä¸€ è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ï¼ˆä¾‹å¦‚å½“è°ƒç”¨addUseræ—¶å°±æ˜¯UserManagerå¯¹è±¡ï¼‰ * @å‚æ•°äºŒ è°ƒç”¨æ–¹æ³•æ—¶çš„å‚æ•°åˆ—è¡¨ * @return è¿”å›žè¢«è°ƒç”¨æ–¹æ³•çš„è¿”å›žå€¼ */ ret = method.invoke(targetObject, args); System.out.println("end..." + method.getName()); &#125;catch (Exception e)&#123; e.printStackTrace(); System.out.println("error..." + method.getName()); throw e; &#125; return ret; &#125;&#125; mainå‡½æ•°è°ƒç”¨ï¼š 12345678910111213141516public static void main(String[] args) &#123; LogHandler logHandler = new LogHandler(); /** * æ­¤å¤„æ˜¯åˆ›å»ºä¸€ä¸ªIUserManageræŽ¥å£ï¼Œ * ç”¨newProxyInstanceæ–¹æ³•åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œ * ç”¨å¼ºåˆ¶ç±»åž‹è½¬æ¢å°†å…¶è½¬æ¢ä¸ºIUserManagerç±»åž‹ã€‚ * * æ³¨æ„ï¼šè¿™é‡Œè¦å®šä¹‰æŽ¥å£ï¼ˆIUserManagerï¼‰ï¼Œ * ä¸èƒ½å®šä¹‰è¢«ä»£ç†ç±»ï¼ˆUserManagerï¼‰ï¼Œ * å› ä¸ºè¿™é‡Œåˆ›å»ºçš„ä»£ç†å¯¹è±¡æ˜¯ç»§æ‰¿è‡ªæŽ¥å£ï¼ˆIUserManagerï¼‰çš„Objectå¯¹è±¡ */ IUserManager iUserManager = (IUserManager)logHandler.newProxyInstance(new UserManager()); iUserManager.addUser("zzz"); iUserManager.deleteUser("zzz"); &#125; è¾“å‡ºï¼š startâ€¦addUser æ·»åŠ äº†ç”¨æˆ·ï¼šzzz endâ€¦addUser startâ€¦deleteUser åˆ é™¤äº†ç”¨æˆ·ï¼šzzz endâ€¦deleteUser åŠ¨æ€ä»£ç†çš„ä¼˜ç‚¹ï¼š åŠ¨æ€ä»£ç†ä¸Žé™æ€ä»£ç†ç›¸æ¯”è¾ƒï¼Œæœ€å¤§çš„å¥½å¤„æ˜¯æŽ¥å£ä¸­å£°æ˜Žçš„æ‰€æœ‰æ–¹æ³•éƒ½è¢«è½¬ç§»åˆ°è°ƒç”¨å¤„ç†å™¨ä¸€ä¸ªé›†ä¸­çš„æ–¹æ³•ä¸­å¤„ç†ï¼ˆInvocationHandler.invokeï¼‰ã€‚è¿™æ ·ï¼Œåœ¨æŽ¥å£æ–¹æ³•æ•°é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œçµæ´»å¤„ç†ï¼Œè€Œä¸éœ€è¦åƒé™æ€ä»£ç†é‚£æ ·æ¯ä¸€ä¸ªæ–¹æ³•è¿›è¡Œä¸­è½¬ã€‚è€Œä¸”åŠ¨æ€ä»£ç†çš„åº”ç”¨ä½¿æˆ‘ä»¬çš„ç±»èŒè´£æ›´åŠ å•ä¸€ï¼Œå¤ç”¨æ€§æ›´å¼ºã€‚ ç¼ºç‚¹ï¼š æ€§èƒ½ä½Žä¸‹ï¼Œåº”å°½é‡é¿å…åœ¨æ€§èƒ½æ•æ„Ÿç³»ç»Ÿä¸­ä½¿ç”¨ AOPï¼ˆAspectOrientedProgrammingï¼‰ï¼šå°†æ—¥å¿—è®°å½•ï¼Œæ€§èƒ½ç»Ÿè®¡ï¼Œå®‰å…¨æŽ§åˆ¶ï¼Œäº‹åŠ¡å¤„ç†ï¼Œå¼‚å¸¸å¤„ç†ç­‰ä»£ç ä»Žä¸šåŠ¡é€»è¾‘ä»£ç ä¸­åˆ’åˆ†å‡ºæ¥ï¼Œé€šè¿‡å¯¹è¿™äº›è¡Œä¸ºçš„åˆ†ç¦»ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å°†å®ƒä»¬ç‹¬ç«‹åˆ°éžæŒ‡å¯¼ä¸šåŠ¡é€»è¾‘çš„æ–¹æ³•ä¸­ï¼Œè¿›è€Œæ”¹å˜è¿™äº›è¡Œä¸ºçš„æ—¶å€™ä¸å½±å“ä¸šåŠ¡é€»è¾‘çš„ä»£ç â€”è§£è€¦ã€‚ æ­£æ˜¯å› ä¸ºåœ¨æ‰€æœ‰çš„ç±»é‡Œï¼Œæ ¸å¿ƒä»£ç ä¹‹å‰çš„æ“ä½œå’Œæ ¸å¿ƒä»£ç ä¹‹åŽçš„æ“ä½œéƒ½åšçš„æ˜¯åŒæ ·çš„é€»è¾‘ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å®ƒä»¬æå–å‡ºæ¥ï¼Œå•ç‹¬åˆ†æžï¼Œè®¾è®¡å’Œç¼–ç ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„AOPæ€æƒ³ã€‚ä¸€å¥è¯è¯´ï¼ŒAOPåªæ˜¯åœ¨å¯¹OOPçš„åŸºç¡€ä¸Šè¿›è¡Œè¿›ä¸€æ­¥æŠ½è±¡ï¼Œä½¿æˆ‘ä»¬çš„ç±»çš„èŒè´£æ›´åŠ å•ä¸€ã€‚ Springä¸­çš„AOPSpringä¸­AOPçš„ç»†èŠ‚è¯´æ˜Žæˆ‘ä»¬å­¦ä¹ springçš„aopï¼Œå°±æ˜¯é€šè¿‡é…ç½®çš„æ–¹å¼ï¼Œå®žçŽ°åŠ¨æ€ä»£ç†ã€‚ AOPç›¸å…³æœ¯è¯­ Joinpoint(è¿žæŽ¥ç‚¹): æ‰€è°“è¿žæŽ¥ç‚¹æ˜¯æŒ‡é‚£äº›è¢«æ‹¦æˆªåˆ°çš„ç‚¹ã€‚åœ¨springä¸­,è¿™äº›ç‚¹æŒ‡çš„æ˜¯æ–¹æ³•,å› ä¸ºspringåªæ”¯æŒæ–¹æ³•ç±»åž‹çš„è¿žæŽ¥ç‚¹ã€‚ Pointcut(åˆ‡å…¥ç‚¹): æ‰€è°“åˆ‡å…¥ç‚¹æ˜¯æŒ‡æˆ‘ä»¬è¦å¯¹å“ªäº›Joinpointè¿›è¡Œæ‹¦æˆªçš„å®šä¹‰ã€‚ Advice(é€šçŸ¥/å¢žå¼º): æ‰€è°“é€šçŸ¥æ˜¯æŒ‡æ‹¦æˆªåˆ°Joinpointä¹‹åŽæ‰€è¦åšçš„äº‹æƒ…å°±æ˜¯é€šçŸ¥ã€‚ é€šçŸ¥çš„ç±»åž‹ï¼šå‰ç½®é€šçŸ¥(äº‹åŠ¡å¼€å§‹å‰),åŽç½®é€šçŸ¥ï¼ˆäº‹åŠ¡å¼€å§‹åŽï¼‰,å¼‚å¸¸é€šçŸ¥ï¼ˆå‘ç”Ÿå¼‚å¸¸æ—¶ï¼‰,æœ€ç»ˆé€šçŸ¥ï¼ˆåœ¨finallyé‡Œé¢çš„ï¼‰,çŽ¯ç»•é€šçŸ¥ï¼ˆæ•´ä¸ªinvokeæ–¹æ³•ï¼‰ã€‚ Introduction(å¼•ä»‹): å¼•ä»‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„é€šçŸ¥åœ¨ä¸ä¿®æ”¹ç±»ä»£ç çš„å‰æä¸‹, Introductionå¯ä»¥åœ¨è¿è¡ŒæœŸä¸ºç±»åŠ¨æ€åœ°æ·»åŠ ä¸€äº›æ–¹æ³•æˆ–Fieldã€‚ Target(ç›®æ ‡å¯¹è±¡): ä»£ç†çš„ç›®æ ‡å¯¹è±¡ã€‚ Weaving(ç»‡å…¥): æ˜¯æŒ‡æŠŠå¢žå¼ºåº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡æ¥åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚ springé‡‡ç”¨åŠ¨æ€ä»£ç†ç»‡å…¥ï¼Œè€ŒAspectJé‡‡ç”¨ç¼–è¯‘æœŸç»‡å…¥å’Œç±»è£…è½½æœŸç»‡å…¥ã€‚ Proxyï¼ˆä»£ç†ï¼‰: ä¸€ä¸ªç±»è¢«AOPç»‡å…¥å¢žå¼ºåŽï¼Œå°±äº§ç”Ÿä¸€ä¸ªç»“æžœä»£ç†ç±»ã€‚ Aspect(åˆ‡é¢): æ˜¯åˆ‡å…¥ç‚¹å’Œé€šçŸ¥ï¼ˆå¼•ä»‹ï¼‰çš„ç»“åˆã€‚ å­¦ä¹ springä¸­çš„AOPè¦æ˜Žç¡®çš„äº‹ å¼€å‘é˜¶æ®µï¼ˆæˆ‘ä»¬åšçš„ï¼‰ ç¼–å†™æ ¸å¿ƒä¸šåŠ¡ä»£ç ï¼ˆå¼€å‘ä¸»çº¿ï¼‰ï¼šå¤§éƒ¨åˆ†ç¨‹åºå‘˜æ¥åšï¼Œè¦æ±‚ç†Ÿæ‚‰ä¸šåŠ¡éœ€æ±‚ã€‚ æŠŠå…¬ç”¨ä»£ç æŠ½å–å‡ºæ¥ï¼Œåˆ¶ä½œæˆé€šçŸ¥ã€‚ï¼ˆå¼€å‘é˜¶æ®µæœ€åŽå†åšï¼‰ï¼šAOPç¼–ç¨‹äººå‘˜æ¥åšã€‚ åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå£°æ˜Žåˆ‡å…¥ç‚¹ä¸Žé€šçŸ¥é—´çš„å…³ç³»ï¼Œå³åˆ‡é¢ã€‚ï¼šAOPç¼–ç¨‹äººå‘˜æ¥åšã€‚ è¿è¡Œé˜¶æ®µï¼ˆSpringæ¡†æž¶å®Œæˆçš„ï¼‰ï¼š Springæ¡†æž¶ç›‘æŽ§åˆ‡å…¥ç‚¹æ–¹æ³•çš„æ‰§è¡Œã€‚ä¸€æ—¦ç›‘æŽ§åˆ°åˆ‡å…¥ç‚¹æ–¹æ³•è¢«è¿è¡Œï¼Œä½¿ç”¨ä»£ç†æœºåˆ¶ï¼ŒåŠ¨æ€åˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œæ ¹æ®é€šçŸ¥ç±»åˆ«ï¼Œåœ¨ä»£ç†å¯¹è±¡çš„å¯¹åº”ä½ç½®ï¼Œå°†é€šçŸ¥å¯¹åº”çš„åŠŸèƒ½ç»‡å…¥ï¼Œå®Œæˆå®Œæ•´çš„ä»£ç é€»è¾‘è¿è¡Œã€‚ åŸºäºŽXMLçš„AOPé…ç½®åœ¨å­¦ä¹ åŸºäºŽXMLçš„AOPé…ç½®ä¹‹å‰å…ˆæ¥çœ‹çœ‹æˆ‘ä»¬çš„æŽ¥å£åŠå…¶å®žçŽ°ç±»å’Œå…¬å…±ä»£ç éƒ¨åˆ†ï¼š æŽ¥å£12345public interface IUserManager &#123; void addUser(); void deleteUser(int i); int updateUser();&#125; å®žçŽ°ç±»123456789101112public class UserManager implements IUserManager &#123; public void addUser() &#123; System.out.println("æ·»åŠ äº†è´¦æˆ·"); &#125; public void deleteUser(int i) &#123; System.out.println("åˆ é™¤äº†è´¦æˆ·" + i); &#125; public int updateUser() &#123; System.out.println("æ›´æ–°äº†è´¦æˆ·"); return 0; &#125;&#125; å…¬å…±ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344public class Logger &#123; void beforePringLog()&#123; System.out.println("å‰ç½®é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"); &#125; void afterReturningPrintLog()&#123; System.out.println("åŽç½®é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"); &#125; void afterThrowingPringLog()&#123; System.out.println("å¼‚å¸¸é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"); &#125; void afterPringLog()&#123; System.out.println("æœ€ç»ˆé€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"); &#125; /** * çŽ¯ç»•é€šçŸ¥ * é—®é¢˜ï¼š * å½“æˆ‘ä»¬é…ç½®äº†çŽ¯ç»•é€šçŸ¥ä¹‹åŽï¼Œåˆ‡å…¥ç‚¹æ–¹æ³•æ²¡æœ‰æ‰§è¡Œï¼Œè€Œé€šçŸ¥æ–¹æ³•æ‰§è¡Œäº†ã€‚ * åˆ†æžï¼š * é€šè¿‡å¯¹æ¯”åŠ¨æ€ä»£ç†ä¸­çš„çŽ¯ç»•é€šçŸ¥ä»£ç ï¼Œ * å‘çŽ°åŠ¨æ€ä»£ç†çš„çŽ¯ç»•é€šçŸ¥æœ‰æ˜Žç¡®çš„åˆ‡å…¥ç‚¹æ–¹æ³•è°ƒç”¨ï¼Œè€Œæˆ‘ä»¬çš„ä»£ç ä¸­æ²¡æœ‰ã€‚ * è§£å†³ï¼š * Springæ¡†æž¶ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæŽ¥å£ï¼šProceedingJoinPointã€‚ * è¯¥æŽ¥å£æœ‰ä¸€ä¸ªæ–¹æ³•proceed()ï¼Œæ­¤æ–¹æ³•å°±ç›¸å½“äºŽæ˜Žç¡®è°ƒç”¨åˆ‡å…¥ç‚¹æ–¹æ³•ã€‚ * è¯¥æŽ¥å£å¯ä»¥ä½œä¸ºçŽ¯ç»•é€šçŸ¥çš„æ–¹æ³•å‚æ•°ï¼Œåœ¨ç¨‹åºæ‰§è¡Œæ—¶ï¼Œ * springæ¡†æž¶ä¼šä¸ºæˆ‘ä»¬æä¾›è¯¥æŽ¥å£çš„å®žçŽ°ç±»ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚ * springä¸­çš„çŽ¯ç»•é€šçŸ¥ï¼š * å®ƒæ˜¯springæ¡†æž¶ä¸ºæˆ‘ä»¬æä¾›çš„ä¸€ç§å¯ä»¥åœ¨ä»£ç ä¸­æ‰‹åŠ¨æŽ§åˆ¶å¢žå¼ºæ–¹æ³•ä½•æ—¶æ‰§è¡Œçš„æ–¹å¼ã€‚ */ Object aroundPrintLog(ProceedingJoinPoint proceedingJoinPoint)&#123; Object rtValue = null; try &#123; this.beforePringLog(); Object args[] = proceedingJoinPoint.getArgs();//å¾—åˆ°æ–¹æ³•æ‰§è¡Œæ‰€éœ€çš„å‚æ•° rtValue = proceedingJoinPoint.proceed(args);//æ˜Žç¡®è°ƒç”¨ä¸šåŠ¡å±‚æ–¹æ³•ï¼ˆåˆ‡å…¥ç‚¹æ–¹æ³•ï¼‰ this.afterReturningPrintLog(); return rtValue; &#125;catch (Throwable a)&#123; this.afterThrowingPringLog(); throw new RuntimeException(a); &#125;finally &#123; this.afterPringLog(); &#125; &#125;&#125; XMLæ–‡ä»¶é…ç½®1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"&gt; &lt;!--ä¸Šé¢è¿™éƒ¨åˆ†åœ¨springçš„æŸä¸ªé¡µé¢ä¸­å¤åˆ¶çš„--&gt; &lt;!--é…ç½®UserManagerç±»--&gt; &lt;bean id="UserManager" class="UserManager"&gt;&lt;/bean&gt; &lt;!--springä¸­åŸºäºŽXMLçš„AOPé…ç½®æ­¥éª¤ï¼ˆæ­¤å¤„ç›´æŽ¥å¼•ç”¨é»‘é©¬æ•™ç¨‹ä¸­çš„æ³¨é‡Šï¼Œè‡ªå·±å†™çš„ä¾‹å­æ²¡å†™ä»€ä¹ˆåŒ…ï¼‰ 1ã€æŠŠé€šçŸ¥Beanä¹Ÿäº¤ç»™springæ¥ç®¡ç† 2ã€ä½¿ç”¨aop:configæ ‡ç­¾è¡¨æ˜Žå¼€å§‹AOPçš„é…ç½® 3ã€ä½¿ç”¨aop:aspectæ ‡ç­¾è¡¨æ˜Žé…ç½®åˆ‡é¢ idå±žæ€§ï¼šæ˜¯ç»™åˆ‡é¢æä¾›ä¸€ä¸ªå”¯ä¸€æ ‡è¯† refå±žæ€§ï¼šæ˜¯æŒ‡å®šé€šçŸ¥ç±»beançš„Idã€‚ 4ã€åœ¨aop:aspectæ ‡ç­¾çš„å†…éƒ¨ä½¿ç”¨å¯¹åº”æ ‡ç­¾æ¥é…ç½®é€šçŸ¥çš„ç±»åž‹ æˆ‘ä»¬çŽ°åœ¨ç¤ºä¾‹æ˜¯è®©printLogæ–¹æ³•åœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œä¹‹å‰ä¹‹å‰ï¼šæ‰€ä»¥æ˜¯å‰ç½®é€šçŸ¥ aop:beforeï¼šè¡¨ç¤ºé…ç½®å‰ç½®é€šçŸ¥ methodå±žæ€§ï¼šç”¨äºŽæŒ‡å®šLoggerç±»ä¸­å“ªä¸ªæ–¹æ³•æ˜¯å‰ç½®é€šçŸ¥ pointcutå±žæ€§ï¼šç”¨äºŽæŒ‡å®šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼çš„å«ä¹‰æŒ‡çš„æ˜¯å¯¹ä¸šåŠ¡å±‚ä¸­å“ªäº›æ–¹æ³•å¢žå¼º åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„å†™æ³•ï¼š å…³é”®å­—ï¼šexecution(è¡¨è¾¾å¼) è¡¨è¾¾å¼ï¼š è®¿é—®ä¿®é¥°ç¬¦ è¿”å›žå€¼ åŒ…å.åŒ…å.åŒ…å...ç±»å.æ–¹æ³•å(å‚æ•°åˆ—è¡¨) æ ‡å‡†çš„è¡¨è¾¾å¼å†™æ³•ï¼š public void com.itheima.service.impl.AccountServiceImpl.saveAccount() è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥çœç•¥ void com.itheima.service.impl.AccountServiceImpl.saveAccount() è¿”å›žå€¼å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œè¡¨ç¤ºä»»æ„è¿”å›žå€¼ * com.itheima.service.impl.AccountServiceImpl.saveAccount() åŒ…åå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œè¡¨ç¤ºä»»æ„åŒ…ã€‚ä½†æ˜¯æœ‰å‡ çº§åŒ…ï¼Œå°±éœ€è¦å†™å‡ ä¸ª*. * *.*.*.*.AccountServiceImpl.saveAccount()) åŒ…åå¯ä»¥ä½¿ç”¨..è¡¨ç¤ºå½“å‰åŒ…åŠå…¶å­åŒ… * *..AccountServiceImpl.saveAccount() ç±»åå’Œæ–¹æ³•åéƒ½å¯ä»¥ä½¿ç”¨*æ¥å®žçŽ°é€šé… * *..*.*() å‚æ•°åˆ—è¡¨ï¼š å¯ä»¥ç›´æŽ¥å†™æ•°æ®ç±»åž‹ï¼š åŸºæœ¬ç±»åž‹ç›´æŽ¥å†™åç§° int å¼•ç”¨ç±»åž‹å†™åŒ…å.ç±»åçš„æ–¹å¼ java.lang.String å¯ä»¥ä½¿ç”¨é€šé…ç¬¦è¡¨ç¤ºä»»æ„ç±»åž‹ï¼Œä½†æ˜¯å¿…é¡»æœ‰å‚æ•° å¯ä»¥ä½¿ç”¨..è¡¨ç¤ºæœ‰æ— å‚æ•°å‡å¯ï¼Œæœ‰å‚æ•°å¯ä»¥æ˜¯ä»»æ„ç±»åž‹ å…¨é€šé…å†™æ³•ï¼š * *..*.*(..) å®žé™…å¼€å‘ä¸­åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„é€šå¸¸å†™æ³•ï¼š åˆ‡åˆ°ä¸šåŠ¡å±‚å®žçŽ°ç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³• * com.itheima.service.impl.*.*(..) --&gt; &lt;!--é…ç½®Loggerç±»--&gt; &lt;bean id="Logger" class="Logger"&gt;&lt;/bean&gt; &lt;!--é…ç½®AOP--&gt; &lt;aop:config&gt; &lt;!--é…ç½®åˆ‡é¢ --&gt; &lt;aop:aspect id="logAdvice" ref="Logger"&gt; &lt;!-- é…ç½®é€šçŸ¥çš„ç±»åž‹ï¼Œå¹¶ä¸”å»ºç«‹é€šçŸ¥æ–¹æ³•å’Œåˆ‡å…¥ç‚¹æ–¹æ³•çš„å…³è”--&gt; &lt;!-- é…ç½®å‰ç½®é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œ--&gt; &lt;aop:before method="pringLog" pointcut="execution(* *..*.*(..))"&gt;&lt;/aop:before&gt; &lt;!-- é…ç½®åŽç½®é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œä¹‹åŽå€¼ã€‚å®ƒå’Œå¼‚å¸¸é€šçŸ¥æ°¸è¿œåªèƒ½æ‰§è¡Œä¸€ä¸ª--&gt; &lt;aop:after-returning method="afterReturningPrintLog" pointcut="execution(* *..*.*(..))"&gt;&lt;/aop:after-returning&gt; &lt;!-- é…ç½®å¼‚å¸¸é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œäº§ç”Ÿå¼‚å¸¸ä¹‹åŽæ‰§è¡Œã€‚å®ƒå’ŒåŽç½®é€šçŸ¥æ°¸è¿œåªèƒ½æ‰§è¡Œä¸€ä¸ª--&gt; &lt;aop:after-throwing method="afterThrowingPringLog" pointcut="execution(* *..*.*(..))"&gt;&lt;/aop:after-throwing&gt; &lt;!-- é…ç½®æœ€ç»ˆé€šçŸ¥ï¼šæ— è®ºåˆ‡å…¥ç‚¹æ–¹æ³•æ˜¯å¦æ­£å¸¸æ‰§è¡Œå®ƒéƒ½ä¼šåœ¨å…¶åŽé¢æ‰§è¡Œ--&gt; &lt;aop:after method="afterPringLog" pointcut="execution(* *..*.*(..))"&gt;&lt;/aop:after&gt; &lt;/aop:aspect&gt; &lt;/aop:config&gt;&lt;/beans&gt; é€šç”¨åŒ–åˆ‡å…¥ç‚¹è¡¨è¾¾å¼1234567891011121314151617181920&lt;aop:config&gt; &lt;!--é…ç½®åˆ‡é¢ --&gt; &lt;aop:aspect id="logAdvice" ref="Logger"&gt; &lt;!-- é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ idå±žæ€§ç”¨äºŽæŒ‡å®šè¡¨è¾¾å¼çš„å”¯ä¸€æ ‡è¯†ã€‚expressionå±žæ€§ç”¨äºŽæŒ‡å®šè¡¨è¾¾å¼å†…å®¹ æ­¤æ ‡ç­¾å†™åœ¨aop:aspectæ ‡ç­¾å†…éƒ¨åªèƒ½å½“å‰åˆ‡é¢ä½¿ç”¨ã€‚ å®ƒè¿˜å¯ä»¥å†™åœ¨aop:aspectå¤–é¢ï¼Œæ­¤æ—¶å°±å˜æˆäº†æ‰€æœ‰åˆ‡é¢å¯ç”¨ --&gt; &lt;aop:pointcut id="pt" expression="execution(* *..*.*(..))"/&gt; &lt;!-- é…ç½®é€šçŸ¥çš„ç±»åž‹ï¼Œå¹¶ä¸”å»ºç«‹é€šçŸ¥æ–¹æ³•å’Œåˆ‡å…¥ç‚¹æ–¹æ³•çš„å…³è”--&gt; &lt;aop:before method="beforePringLog" pointcut-ref="pt"&gt;&lt;/aop:before&gt; &lt;!-- é…ç½®åŽç½®é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œä¹‹åŽå€¼ã€‚å®ƒå’Œå¼‚å¸¸é€šçŸ¥æ°¸è¿œåªèƒ½æ‰§è¡Œä¸€ä¸ª--&gt; &lt;aop:after-returning method="afterReturningPrintLog" pointcut-ref="pt"&gt;&lt;/aop:after-returning&gt; &lt;!-- é…ç½®å¼‚å¸¸é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œäº§ç”Ÿå¼‚å¸¸ä¹‹åŽæ‰§è¡Œã€‚å®ƒå’ŒåŽç½®é€šçŸ¥æ°¸è¿œåªèƒ½æ‰§è¡Œä¸€ä¸ª--&gt; &lt;aop:after-throwing method="afterThrowingPringLog" pointcut-ref="pt"&gt;&lt;/aop:after-throwing&gt; &lt;!-- é…ç½®æœ€ç»ˆé€šçŸ¥ï¼šæ— è®ºåˆ‡å…¥ç‚¹æ–¹æ³•æ˜¯å¦æ­£å¸¸æ‰§è¡Œå®ƒéƒ½ä¼šåœ¨å…¶åŽé¢æ‰§è¡Œ--&gt; &lt;aop:after method="afterPringLog" pointcut-ref="pt"&gt;&lt;/aop:after&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; çŽ¯ç»•é€šçŸ¥é…ç½®123456789101112&lt;aop:config&gt; &lt;!--é…ç½®åˆ‡é¢ --&gt; &lt;aop:aspect id="logAdvice" ref="Logger"&gt; &lt;!-- é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ idå±žæ€§ç”¨äºŽæŒ‡å®šè¡¨è¾¾å¼çš„å”¯ä¸€æ ‡è¯†ã€‚expressionå±žæ€§ç”¨äºŽæŒ‡å®šè¡¨è¾¾å¼å†…å®¹ æ­¤æ ‡ç­¾å†™åœ¨aop:aspectæ ‡ç­¾å†…éƒ¨åªèƒ½å½“å‰åˆ‡é¢ä½¿ç”¨ã€‚ å®ƒè¿˜å¯ä»¥å†™åœ¨aop:aspectå¤–é¢ï¼Œæ­¤æ—¶å°±å˜æˆäº†æ‰€æœ‰åˆ‡é¢å¯ç”¨ --&gt; &lt;aop:pointcut id="pt" expression="execution(* *..*.*(..))"/&gt; &lt;!-- é…ç½®çŽ¯ç»•é€šçŸ¥ è¯¦ç»†çš„æ³¨é‡Šè¯·çœ‹Loggerç±»ä¸­ é…ç½®çŽ¯ç»•é€šçŸ¥åŽæ— éœ€å†é…ç½®å…¶ä»–é€šçŸ¥--&gt; &lt;aop:around method="aroundPrintLog" pointcut-ref="pt"&gt;&lt;/aop:around&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; æµ‹è¯•ä»£ç 123456789public class test &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("bean.xml"); IUserManager userManager = (IUserManager) ac.getBean("UserManager");//æ³¨æ„è¿™é‡Œè¦å®šä¹‰æŽ¥å£ç±»åž‹ userManager.addUser(); userManager.deleteUser(1); System.out.println(userManager.updateUser()); &#125;&#125; åŸºäºŽæ³¨è§£çš„AOPé…ç½® é…ç½®springå®¹å™¨ä¸­è¦æ‰«æçš„åŒ… åœ¨ä¸šåŠ¡å±‚ç±»æ·»åŠ æ³¨è§£@Service åœ¨é€šçŸ¥ç±»æ·»åŠ æ³¨è§£@Componentå¹¶æ·»åŠ @Aspectæ³¨è§£ï¼ˆè¡¨ç¤ºå½“å‰æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»ï¼‰ å¼€å¯Springå¯¹æ³¨è§£AOPçš„æ”¯æŒï¼ˆè§xmlæ–‡ä»¶ï¼‰ é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼ˆè§é€šçŸ¥ç±»ä»£ç ï¼‰ åœ¨å„ä¸ªé€šçŸ¥æ–¹æ³•ä¸Šåˆ†åˆ«æ·»åŠ æ³¨è§£ï¼ˆè§é€šçŸ¥ç±»ä»£ç ï¼‰ï¼ˆå»ºè®®åªå¯¹çŽ¯ç»•é€šçŸ¥æ·»åŠ æ³¨è§£ï¼Œå…¶ä»–é€šçŸ¥ä¸æ·»åŠ æ³¨è§£ï¼Œä½†æ˜¯ç»™å‡ºçš„ä»£ç ä¸­æ‰€æœ‰é€šçŸ¥éƒ½åŠ ä¸Šäº†æ³¨è§£ï¼‰ å®žçŽ°ç±»123456789101112131415@Service("UserManager")public class UserManager implements IUserManager &#123; public void addUser() &#123; System.out.println("æ·»åŠ äº†è´¦æˆ·"); &#125; public void deleteUser(int i) &#123; System.out.println("åˆ é™¤äº†è´¦æˆ·" + i); &#125; public int updateUser() &#123; System.out.println("æ›´æ–°äº†è´¦æˆ·"); return 0; &#125;&#125; é€šçŸ¥ç±»1234567891011121314151617181920212223242526272829303132333435363738@Component("Logger")@Aspectpublic class Logger &#123; @Pointcut("execution(* *..*.*(..))") private void pt()&#123;&#125; //@Before("pt()") void beforePringLog()&#123; System.out.println("å‰ç½®é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"); &#125; //@AfterReturning("pt()") void afterReturningPrintLog()&#123; System.out.println("åŽç½®é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"); &#125; //@AfterThrowing("pt()") void afterThrowingPringLog()&#123; System.out.println("å¼‚å¸¸é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"); &#125; //@After("pt()") void afterPringLog()&#123; System.out.println("æœ€ç»ˆé€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"); &#125; @Around("pt()") Object aroundPrintLog(ProceedingJoinPoint proceedingJoinPoint)&#123; Object rtValue = null; try &#123; this.beforePringLog(); Object args[] = proceedingJoinPoint.getArgs(); rtValue = proceedingJoinPoint.proceed(args); this.afterReturningPrintLog(); return rtValue; &#125;catch (Throwable a)&#123; this.afterThrowingPringLog(); throw new RuntimeException(a); &#125;finally &#123; this.afterPringLog(); &#125; &#125;&#125; XMLæ–‡ä»¶é…ç½® 123456789101112131415161718&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!-- é…ç½®springåˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ…--&gt; &lt;context:component-scan base-package="com.cla"&gt;&lt;/context:component-scan&gt; &lt;!-- é…ç½®springå¼€å¯æ³¨è§£AOPçš„æ”¯æŒ --&gt; &lt;aop:aspectj-autoproxy&gt;&lt;/aop:aspectj-autoproxy&gt;&lt;/beans&gt; ä¸ä½¿ç”¨XMLæ–‡ä»¶é…ç½®1234@Configuration @ComponentScan(basePackages="com.cla") @EnableAspectJAutoProxy public class SpringConfiguration &#123; &#125; æŽ¥ä¸‹æ¥è¯·çœ‹ä¸‹ä¸€ç¯‡ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>æ¡†æž¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C#æ‚è®°]]></title>
    <url>%2F2019%2F10%2F16%2FC%20Sharp%E6%9D%82%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[C Sharpæ‚è®°å†™ä¸€äº›åœ¨å­¦C#æ—¶ä¸ä¼šçš„ä¸€äº›ç”¨æ³•ï¼Œåœ¨ç™¾åº¦ä¸Šæœå‡ºæ¥çš„ç­”æ¡ˆè¦ä¸æ²¡æ­£ç¡®çš„ï¼Œè¦ä¸æ˜¯å°±æ˜¯çžŽxxè¯´ï¼Œè¦ä¸å°±æ˜¯è¯´çš„ä¸æ¸…ä¸æ¥šçš„ã€‚ Wpflabellabelæ ‡ç­¾çš„å†…å®¹å±…ä¸­æ˜¾ç¤ºæ³¨æ„ï¼Œæ˜¯å†…å®¹ã€å†…å®¹ã€å†…å®¹ã€‚ã€‚ã€‚å¦‚å›¾ï¼š 1&lt;Label Name=&quot;alb&quot; Content=&quot;20&quot; FontSize=&quot;60&quot; Margin=&quot;10,10,-2.333,-12.333&quot; Height=&quot;163&quot; HorizontalContentAlignment=&quot;Center&quot; VerticalContentAlignment=&quot;Center&quot;/&gt; æ˜¯HorizontalContentAlignmentå’ŒVerticalContentAlignmentä¸¤ä¸ªå±žæ€§ï¼Œä¸€ä¸ªæ˜¯æ°´å¹³å±…ä¸­ï¼Œä¸€ä¸ªæ˜¯åž‚ç›´å±…ä¸­ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å…¶ä»–å¯¹é½æ–¹å¼ã€‚ MessageBoxMessageBox.Show(&lt;å­—ç¬¦ä¸²&gt; Text, &lt;å­—ç¬¦ä¸²&gt; Title, &lt;æ•´åž‹&gt; nTypeï¼ŒMessageBoxIcon); ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ String ç±»åž‹ï¼Œè¡¨ç¤ºæç¤ºæ¡†é‡Œé¢çš„ å†…å®¹ï¼› ç¬¬äºŒä¸ªå‚æ•°æ˜¯String ç±»åž‹ï¼Œè¡¨ç¤ºæç¤ºæ¡†çš„ æ ‡é¢˜ï¼› ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ•´æ•°ç±»åž‹ï¼Œè¡¨ç¤ºæ¶ˆæ¯æ¡†çš„ ç±»åž‹ ï¼Œä¸€èˆ¬çš„éƒ½ä½¿ç”¨ç³»ç»Ÿæä¾›çš„å‡ ç§ç±»åž‹ï¼› ç¬¬å››ä¸ªå‚æ•°æ˜¯æç¤ºæ¡†çš„ å›¾æ ‡ï¼Œæ¯”å¦‚è¯´è­¦å‘Šã€æç¤ºã€é—®é¢˜ç­‰ç­‰ã€‚ Fileåˆ¤æ–­æ–‡ä»¶/æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ï¼ˆå‚æ•°ä¸ºå­—ç¬¦ä¸²ï¼‰ï¼š 12File.Exists(path);//æ–‡ä»¶Directory.Exists(path);//æ–‡ä»¶å¤¹ æµè§ˆæ–‡ä»¶çš„çª—ä½“ï¼š 12OpenFileDialog dialog = new OpenFileDialog();dialog.ShowDialog();// è¯¥æ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªboolç±»åž‹ï¼Œå½“æˆåŠŸæµè§ˆæ—¶è¿”å›žtrueï¼Œå¦åˆ™è¿”å›žfalseã€‚ æ•°å­—ä¿ç•™nä½å°æ•°è¿™é‡Œä»¥ä¸¤ä½å°æ•°ä¸ºä¾‹ 12double x;x.ToString(&quot;0.00&quot;); å¦‚ä»£ç æ‰€ç¤ºï¼Œæƒ³ä¿ç•™å‡ ä½å°±åœ¨å°æ•°ç‚¹åŽé¢æ”¾å‡ ä¸ª0ã€‚ æˆ–è€…è¿™æ ·ï¼š 12345double a = 10.9876544;int b;b = Convert.ToInt32(a * 100);a = Convert.ToDouble(b);a /= 100; å°±æ˜¯å…ˆå°†aä¹˜100åŽè½¬åŒ–ä¹˜æ•´åž‹ï¼Œè¿™æ ·å®ƒçš„å°æ•°éƒ¨åˆ†å°±ä¸¢å¼ƒäº†ï¼Œä¹‹åŽå†è½¬åŒ–æˆdoubleï¼Œå†é™¤ä»¥100ã€‚]]></content>
      <categories>
        <category>C#</category>
      </categories>
      <tags>
        <tag>C#æ–¹æ³•</tag>
        <tag>Wpf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitæ•™ç¨‹]]></title>
    <url>%2F2019%2F10%2F15%2FGit%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Gitæ•™ç¨‹ æœ¬æ•™ç¨‹å‚è€ƒå»–é›ªå³°çš„Gitæ•™ç¨‹ Gitæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æŽ§åˆ¶ç³»ç»Ÿ Gitå®‰è£…å®‰è£…è¿‡ç¨‹è¯·è‡ªè¡Œç™¾åº¦ðŸ‘€ å®‰è£…ä¹‹åŽè¦åœ¨å‘½ä»¤è¡Œä¸­è®¾ç½®è‡ªå·±çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼Œéœ€è¦åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š 12git config --global user.name &quot;Your Name&quot;git config --global user.email &quot;email@example.com&quot; ç‰ˆæœ¬åº“(repository)ç‰ˆæœ¬åº“ï¼šä½ å¯ä»¥ç®€å•ç†è§£æˆä¸€ä¸ªç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥è¢«Gitç®¡ç†èµ·æ¥ï¼Œæ¯ä¸ªæ–‡ä»¶çš„ä¿®æ”¹ã€åˆ é™¤ï¼ŒGitéƒ½èƒ½è·Ÿè¸ªï¼Œä»¥ä¾¿ä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥è¿½è¸ªåŽ†å²ï¼Œæˆ–è€…åœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å¯ä»¥â€œè¿˜åŽŸâ€ã€‚ åˆ›å»ºç‰ˆæœ¬åº“å¾ˆç®€å•ï¼Œå³ç”¨gitæ‰“å¼€ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œè¾“å…¥ï¼š 1git init //åˆå§‹åŒ–ä¸€ä¸ªä»“åº“ è¦æƒ³å°†æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­ï¼Œéœ€è¦åˆ†ä¸¤æ­¥ ç¬¬ä¸€æ­¥å…ˆæŠŠæ–‡ä»¶æ”¾åˆ°ä»“åº“ç›®å½•æˆ–å­ç›®å½•ä¸­ï¼Œç„¶åŽè¾“å…¥å¦‚ä¸‹å‘½ä»¤(ä¾‹å¦‚æ–‡ä»¶åä¸ºï¼šreadme.txt)ï¼š 1git add readme.txt //å°†readme.txtæ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­ ç¬¬äºŒæ­¥éœ€è¦ç”¨git commitæäº¤åˆ°ä»“åº“ 1git commit -m &quot;wrote a readme file&quot; //å°†ä¿®æ”¹æäº¤åˆ°ä»“åº“å¹¶è¯´æ˜Ž å…¶ä¸­- m â€œxxxâ€æ˜¯å¯¹æœ¬æ¬¡æäº¤çš„è¯´æ˜Žï¼Œç­‰åŒäºŽæ³¨é‡Šï¼Œæœ‰åŠ©äºŽåˆ«äººå¯¹ä½ æäº¤çš„ç†è§£ã€‚ ç‰ˆæœ¬æŽ§åˆ¶æŸ¥çœ‹å½“å‰ä»“åº“çš„çŠ¶æ€(ä¾‹å¦‚ä»€ä¹ˆæ–‡ä»¶è¢«ä¿®æ”¹äº†)ï¼š 1git status è‹¥æƒ³æŸ¥çœ‹å“ªä¸ªæ–‡ä»¶å…·ä½“ä¿®æ”¹äº†ä»€ä¹ˆï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1git diff readme.txt //æŸ¥çœ‹readme.txtæ–‡ä»¶å…·ä½“ä¿®æ”¹äº†ä»€ä¹ˆå†…å®¹ ç‰ˆæœ¬å›žé€€ç‰ˆæœ¬é€€å›žæœ‰å¦‚ä¸‹å‡ ä¸ªå‘½ä»¤ç”¨äºŽæŸ¥çœ‹åŽ†å²ï¼š 123git log//1.git log --pretty=oneline//2.git reflog//3. æŸ¥çœ‹è¯¦ç»†åŽ†å²æäº¤è®°å½•(åŒ…æ‹¬commit_idã€ä½œè€…ã€æ—¥æœŸã€æäº¤æ³¨é‡Š)ï¼Œç¡®å®šè¦é€€å›žå“ªä¸ªç‰ˆæœ¬ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½æœ‰ä¸€ä¸ªcommit_id å¯ä»¥è®©æ¯ä¸ªç‰ˆæœ¬åªè¾“å‡ºä¸€è¡Œï¼Œç®€åŒ–è¾“å‡ºä¿¡æ¯(åªæ˜¾ç¤ºcommit_idå’Œæäº¤æ³¨é‡Š) æŸ¥çœ‹åŽ†å²å‘½ä»¤ ç‰ˆæœ¬é€€å›žå‘½ä»¤ï¼š 1git reset --hard HEAD^//1. é€€å›žåˆ°å½“å‰ç‰ˆæœ¬çš„ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œå¦‚æžœæƒ³é€€å›žä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯â€¦ HEAD^^ï¼Œå‰ä¸€ç™¾ä¸ªç‰ˆæœ¬å¯ä»¥ç”¨HEAD~100è¡¨ç¤ºã€‚â€“hardå‚æ•°æš‚ä¸è®²è§£ã€‚è¿™é‡Œçš„HEAD^ä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºæƒ³è¦é€€å›žç‰ˆæœ¬çš„commit_idï¼Œç”±äºŽcommit_idå¾ˆé•¿ï¼Œåªç”¨å†™å‰å‡ ä½èƒ½åŒºåˆ«äºŽåˆ«çš„ç‰ˆæœ¬å°±è¡Œã€‚ ä¾‹ï¼š â€‹ 1094adb7b9b3807259d8cb349e7df1d4d6477073 (HEAD -&gt; master) append GPL â€‹ e475afc93c209a690c39c13a46716e8fa000c366 add distributed â€‹ eaadf4e385e865d25c48e7ca9c8395c3f7dfaef0 wrote a readme file è¿™æ˜¯æˆ‘å½“å‰æœ‰çš„ç‰ˆæœ¬ï¼Œæˆ‘æƒ³å›žåˆ°add distributedç‰ˆæœ¬ï¼Œæˆ‘å¯ä»¥å†commit_idå¤„å¡«å†™â€HEAD^â€æˆ–è€…â€e4751fcâ€ å¸¦æœ‰(HEAD -&gt; master)çš„å³ä¸ºå½“å‰ç‰ˆæœ¬ å½“é€€å›žæŸä¸€ä¸ªç‰ˆæœ¬ä¹‹åŽå†ç”¨git logå°±ä¸èƒ½çœ‹åˆ°åŽŸæ¥ç‰ˆæœ¬çš„commit_idäº†ï¼Œæ­¤æ—¶å¯ä»¥ç”¨git reflogæ¥æŸ¥çœ‹åŽ†å²å‘½ä»¤ï¼Œæ‰¾åˆ°commit_id å·¥ä½œåŒºå’Œæš‚å­˜åŒºå·¥ä½œåŒºå°±æ˜¯æˆ‘ä»¬åˆ›å»ºçš„ä»“åº“æ–‡ä»¶å¤¹ã€‚å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—æ–‡ä»¶å¤¹æ˜¯.gitï¼Œè¿™é‡Œæ˜¯ç‰ˆæœ¬åº“ã€‚ç‰ˆæœ¬åº“é‡Œé¢æœ‰ä¸€ä¸ªstageï¼ˆæˆ–indexï¼‰å«æš‚å­˜åŒºï¼Œè¿˜æœ‰ä¸€ä¸ªgitè‡ªåŠ¨åˆ›å»ºçš„masteråˆ†æ”¯ï¼Œä»¥åŠæŒ‡å‘masteråˆ†æ”¯çš„æŒ‡é’ˆHEAD ã€‚ å½“æˆ‘ä»¬git addæ—¶æ˜¯æŠŠæ–‡ä»¶æäº¤åˆ°stageä¸­ï¼Œgit commitæ—¶æ˜¯æŠŠstageä¸­çš„æ‰€æœ‰ä¿®æ”¹ä¸€æ¬¡æ€§æäº¤åˆ°åˆ†æ”¯ä¸­ å½“ä½ commitè¿‡ä¹‹åŽï¼Œæ²¡æœ‰å¯¹å·¥ä½œåŒºçš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆç‰ˆæœ¬åº“å°±å˜æˆè¿™æ ·ï¼š ç®¡ç†ä¿®æ”¹Gitç®¡ç†çš„æ˜¯ä¿®æ”¹è€Œéžæ–‡ä»¶ å½“ä½ å¯¹æ–‡ä»¶readme.txtè¿›è¡Œå¦‚ä¸‹æ“ä½œæ—¶ï¼šç¬¬ä¸€æ¬¡ä¿®æ”¹readme.txt-&gt;git add-&gt;ç¬¬äºŒæ¬¡ä¿®æ”¹readme.txt-&gt;git commitã€‚ä¼šå‘çŽ°masterä¸­çš„readme.txtæ–‡ä»¶æ˜¯ç¬¬ä¸€æ¬¡ä¿®æ”¹è¿‡çš„è€Œéžç¬¬äºŒæ­¤ä¿®æ”¹è¿‡çš„ã€‚ å¦‚æžœæƒ³è®©masterä¸­çš„readme.txtæ–‡ä»¶æ˜¯ç¬¬äºŒæ¬¡ä¿®æ”¹çš„ï¼šç¬¬ä¸€æ¬¡ä¿®æ”¹readme.txt-&gt;git add(æœ‰æ²¡æœ‰éƒ½è¡Œ)-&gt;ç¬¬äºŒæ¬¡ä¿®æ”¹readme.txt-&gt;git add-&gt;git commit æ’¤é”€ä¿®æ”¹ä¾‹å¦‚æ’¤é”€å¯¹readme.txtæ–‡ä»¶çš„ä¿®æ”¹ï¼š å½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æŽ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶1git checkout -- readme.txt//1. æŠŠreadme.txtæ–‡ä»¶åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ å½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹åœ¨commitä¹‹å‰å¯ä»¥å…ˆç”¨git statusæŸ¥çœ‹å“ªä¸ªæ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œæ’¤é”€å¯ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1git reset HEAD readme.txt å·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤ç›´æŽ¥ä½¿ç”¨ç‰ˆæœ¬é€€å›žå°±å¥½äº†å‘€ åˆ é™¤æ–‡ä»¶ä¾‹å¦‚åˆ é™¤å·¥ä½œåŒºä¸­çš„readme.txtæ–‡ä»¶ï¼š 12git rm test.txt//åˆ é™¤git commit//æäº¤ åœ¨æäº¤ä¹‹å‰å¦‚æžœå‘çŽ°åˆ é”™äº†å¯ä»¥ç”¨ï¼š 1git checkout -- readme.txt è¿œç¨‹ä»“åº“gitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æŽ§åˆ¶ï¼ŒåŒä¸€ä¸ªgitä»“åº“å¯ä»¥åˆ†å¸ƒåˆ°ä¸åŒçš„æœºå™¨ä¸Šé¢ã€‚è€Œæ‹¿ä¸€ä¸ªæœºå™¨æ¥å½“ä½œæœåŠ¡å™¨ï¼Œå…¨å¤©24å°æ—¶å¼€æœºï¼Œå…¶ä»–äººä¹…éƒ½å¯ä»¥ä»Žè¿™å°æœåŠ¡å™¨ä¸ŠæŠŠä»“åº“å…‹éš†åˆ°è‡ªå·±çš„ç”µè„‘ä¸Šäº†ï¼Œå¹¶ä¸”å¯ä»¥æŠŠå„è‡ªçš„æäº¤æŽ¨é€åˆ°æœåŠ¡å™¨ä»“åº“ä¸­ï¼Œä¹Ÿå¯ä»¥ä»ŽæœåŠ¡å™¨ä»“åº“æ‹‰å–åˆ«äººçš„æäº¤ã€‚ çŽ°åœ¨æˆ‘ä»¬ä¸éœ€è¦è‡ªå·±æ­å»ºæœåŠ¡å™¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨GitHubæˆ–è€…ç äº‘ï¼Œä½†æ˜¯åœ¨å›½å†…GitHubé€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚ã€‚ã€‚ä¸‹é¢å…ˆä»¥GitHubä¸ºä¾‹è®²è§£è¿œç¨‹ä»“åº“ã€‚ï¼ˆç äº‘çš„ç”¨æ³•ä¼šåœ¨åŽé¢è¯´åˆ°ï¼‰ åˆ›å»ºSSH Keyï¼šåœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰ï¼ˆ.sshï¼‰ç›®å½•ï¼Œå¦‚æžœæœ‰å†çœ‹çœ‹è¿™ä¸ªç›®å½•ä¸‹æœ‰æ²¡æœ‰ï¼ˆid_rsaï¼‰å’Œï¼ˆid_rsa.pubï¼‰è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚æžœéƒ½æœ‰åˆ™å¯ä»¥ç›´æŽ¥è·³åˆ°ä¸‹ä¸€æ­¥ã€‚å¦‚æžœæ²¡æœ‰ï¼Œåˆ™åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ç”¨git bash hereï¼ˆWindowsï¼‰æˆ–è€…ç”¨shellï¼ˆLinuxï¼‰æ‰“å¼€ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤åˆ›å»ºSSH Keyï¼š 1ssh-keygen -t rsa -C &quot;youremail@example.com&quot; è¿™é‡Œè¦æŠŠé‚®ç®±æ¢æˆè‡ªå·±çš„é‚®ç®±ï¼Œç„¶åŽä¸€è·¯å›žè½¦ï¼Œä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼Œç”±äºŽè¿™ä¸ªKeyä¹Ÿä¸æ˜¯ç”¨äºŽå†›äº‹ç›®çš„ï¼Œæ‰€ä»¥ä¹Ÿæ— éœ€è®¾ç½®å¯†ç ã€‚ å¦‚æžœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•é‡Œæ‰¾åˆ°ï¼ˆ.sshï¼‰ç›®å½•ï¼Œé‡Œé¢æœ‰ï¼ˆid_rsaï¼‰å’Œï¼ˆid_rsa.pubï¼‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯SSH Keyçš„ç§˜é’¥å¯¹ï¼Œï¼ˆid_rsaï¼‰æ˜¯ç§é’¥ï¼Œä¸èƒ½æ³„éœ²å‡ºåŽ»ï¼Œï¼ˆid_rsa.pubï¼‰æ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚ â€‹ ç™»é™†GitHubï¼Œæ‰“å¼€â€œAccount settingsâ€ï¼Œâ€œSSH Keysâ€é¡µé¢ï¼Œç„¶åŽï¼Œç‚¹â€œNew SSH Keyâ€ï¼Œå¡«ä¸Šä»»æ„Titleï¼Œåœ¨Keyæ–‡æœ¬æ¡†é‡Œç²˜è´´ï¼ˆid_rsa.pubï¼‰æ–‡ä»¶çš„å†…å®¹ï¼Œç„¶åŽå°±å¯ä»¥åœ¨SSH keysç•Œé¢çœ‹åˆ°ä½ æ·»åŠ çš„å¯†é’¥ã€‚ SSH Keyç”¨äºŽç»‘å®šå°†ä½ çš„ç”µè„‘å’ŒGitHubç»‘å®šï¼ŒGitHubæ˜¯å¼€æºä»“åº“ï¼Œä½ åœ¨ä¸Šé¢æäº¤çš„ä»£ç å¯ä»¥è¢«åˆ«äººçœ‹åˆ°ã€‚ æ·»åŠ è¿œç¨‹ä»“åº“å…ˆåœ¨GitHubåˆ›å»ºä¸€ä¸ªä»“åº“ï¼š ï¼ˆè¿™æ˜¯ä»“åº“åˆ›å»ºå¥½çš„æ ·å­ï¼‰æˆ‘åˆ›å»ºäº†ä¸€ä¸ªåå«testçš„ä»“åº“ï¼Œåˆšåˆšåˆ›å»ºçš„ä»“åº“æ˜¯ç©ºçš„ã€‚çŽ°åœ¨GitHubå‘Šè¯‰æˆ‘ä»¬å¯ä»¥ä»Žè¿™ä¸ªä»“åº“å…‹éš†å‡ºæ–°çš„ä»“åº“ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªå·²æœ‰çš„ä»“åº“ä¸Žä¹‹å…³è”ï¼Œç„¶åŽæŠŠæœ¬åœ°ä»“åº“çš„å†…å®¹æŽ¨é€åˆ°GitHubä»“åº“ã€‚ æˆ‘è¿™é‡Œæ˜¯åœ¨æœ¬åœ°ä¹Ÿæ–°å»ºäº†ä¸€ä¸ªå«testçš„ä»“åº“ï¼Œå¹¶ä¸”åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»ºäº†ä¸€ä¸ªï¼ˆREADME.mdï¼‰çš„æ–‡ä»¶ã€‚ä¹‹åŽæ ¹æ®å‰é¢è®²è¿‡çš„å‘½ä»¤ï¼Œæˆ–è€…GitHubä¸Šé¢æç¤ºçš„å‘½ä»¤å°†æœ¬åœ°testä»“åº“ä¸ŽGitHubä¸Šçš„è¿œç¨‹ä»“åº“ç›¸å…³è”ï¼Œéœ€è¦åœ¨æ–°å»ºçš„ç©ºæ–‡ä»¶å¤¹ä¸‹ä¾æ¬¡è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 12345git initgit add README.mdgit commit -m &quot;wrote a readme file&quot; //1.git remote add origin https://github.com/ZhangZef/test.git //2.git push -u origin master //3. è¿™é‡ŒåŒå¼•å·é‡Œé¢ä¸ºæäº¤æ³¨è§£ï¼Œå‰é¢è®²è¿‡ è¿™é‡Œè¦æŠŠç½‘å€æ¢æˆè‡ªå·±çš„GitHubä»“åº“åœ°å€ï¼Œæç¤ºé¡µé¢ä¸­ç»™å‡ºäº†ã€‚originå°±æ˜¯è¿œç¨‹ä»“åº“çš„åå­—ï¼Œåœ¨gitä¸­é»˜è®¤è¿™æ ·å«ï¼Œä¹Ÿå¯ä»¥æ”¹æˆåˆ«çš„ï¼Œä¸è¿‡ä¸æŽ¨èï¼Œä¿®æ”¹ä¸åˆ©äºŽä»¥åŽå’Œåˆ«äººåˆä½œæˆ–è€…è‡ªå·±å¿˜äº†ã€‚ git pushæ˜¯æŠŠå½“å‰åˆ†æ”¯masteræŽ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚ç”±äºŽè¿œç¨‹åº“æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æŽ¨é€æ—¶åŠ ä¸Š-uå‚æ•°ï¼Œgitä¸ä½†ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å†…å®¹æŽ¨é€åˆ°è¿œç¨‹æ–°çš„masteråˆ†æ”¯ï¼Œè¿˜ä¼šæŠŠæœ¬åœ°masteråˆ†æ”¯å’Œè¿œç¨‹masteråˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åŽçš„æŽ¨é€å’Œæ‹‰å–æ—¶å¯ä»¥ç®€åŒ–å‘½ä»¤ã€‚ å¦‚æžœå·²æœ‰æœ¬åœ°ä»“åº“å¯ç›´æŽ¥æ‰§è¡ŒåŽä¸¤ä¸ªå‘½ä»¤ã€‚ è¿™æ˜¯æŽ¨é€æˆåŠŸåŽçš„æ ·å­ï¼š ä»¥åŽåªè¦æœ¬åœ°æäº¤è¿‡ï¼Œç›´æŽ¥è¿è¡Œï¼šï¼ˆgit push origin masterï¼‰å‘½ä»¤å°±å¯ä»¥æäº¤ ä»Žè¿œç¨‹ä»“åº“å…‹éš†å°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1git clone git@github.com:ZhangZef/test.git æ³¨æ„è¦æŠŠä»“åº“åœ°å€æ¢æˆè‡ªå·±çš„åœ°å€ åˆ†æ”¯ç®¡ç†åˆ›å»ºå¹¶åˆå¹¶åˆ†æ”¯åœ¨gitä¸­ï¼Œmasteræ˜¯ä¸»åˆ†æ”¯ã€‚masteræ˜¯æŒ‡å‘æäº¤çš„åˆ†æ”¯ï¼Œè€ŒHEADæ˜¯æŒ‡å‘å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆã€‚ ä¸€å¼€å§‹ï¼Œmasteråˆ†æ”¯æ˜¯ä¸€æ¡çº¿ï¼Œgitç”¨masteræŒ‡å‘æœ€æ–°æäº¤ï¼Œå†ç”¨HEADæŒ‡å‘masterï¼Œå°±èƒ½ç¡®å®šå½“å‰åˆ†æ”¯ï¼Œä»¥åŠå½“å‰åˆ†æ”¯çš„æäº¤ç‚¹ï¼Œæ¯æ¬¡æäº¤ï¼Œmasterå°±å‘å‰ç§»åŠ¨ä¸€æ­¥ã€‚ å½“æˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯devï¼ˆè‡ªå·±å‘½åï¼‰çš„æ—¶å€™ï¼Œgitå°±ä¼šæ–°å»ºä¸€ä¸ªå«devçš„æŒ‡é’ˆï¼ŒæŒ‡å‘masterç›¸åŒçš„æäº¤ã€‚å†æŠŠHEADæŒ‡å‘devå°±è¡¨ç¤ºå½“å‰åˆ†æ”¯åœ¨devï¼š ä»ŽçŽ°åœ¨å¼€å§‹ï¼Œä½ å¯¹å·¥ä½œåŒºçš„ä¿®æ”¹å’Œæäº¤å°±æ˜¯é’ˆå¯¹devåˆ†æ”¯çš„äº†ï¼Œæ¯æäº¤ä¸€æ¬¡ï¼Œdevåˆ†æ”¯å°±å‘å‰æŒªä¸€æ­¥ï¼š æˆ‘ä»¬è¦æƒ³æŠŠdevåˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šï¼Œå°±æ˜¯æŠŠmasteræŒ‡é’ˆæŒ‡å‘devçš„ä½ç½®å°±å¯ä»¥äº†ï¼š è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥æŠŠdevåˆ†æ”¯ç»™åˆ åŽ»ï¼Œä»–ä¸ä¼šä¿®æ”¹å·¥ä½œåŒºçš„ä»»ä½•å†…å®¹ï¼Œåªä¼šå°†devæŒ‡é’ˆåˆ æŽ‰ï¼š ä¸‹é¢æ¥å®žé™…è¿›è¡Œä¸Šè¿°æ“ä½œï¼Œåˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1234git checkout -b dev //1.git branch dev //2.git checkout dev //3.git branch //4. git checkoutå‘½ä»¤åŠ ä¸Š-bå‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œdevå¤„å¯æ¢æˆä½ èµ·çš„åˆ†æ”¯å git branch + nameè¡¨ç¤ºåˆ›å»ºåˆ†æ”¯ åˆ‡æ¢åˆ°åˆ†æ”¯ æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼Œåå­—å‰é¢å¸¦*å·çš„è¡¨ç¤ºå½“å‰HEADæŒ‡å‘çš„åˆ†æ”¯ æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯devï¼Œå¹¶è½¬å‘devåˆ†æ”¯ï¼Œå¹¶åœ¨devåˆ†æ”¯ä¸­åšä¿®æ”¹ç„¶åŽæäº¤ï¼š ä¹‹åŽæˆ‘ä»¬å°†devçš„æ”¹å˜åˆå¹¶åˆ°masteråˆ†æ”¯ä¸Šï¼Œå…ˆå°†è½¬å‘masteråˆ†æ”¯ï¼Œä¹‹åŽç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1git merge dev æ³¨æ„åˆ°ä¸Šé¢çš„Fast-forwardä¿¡æ¯ï¼ŒGitå‘Šè¯‰æˆ‘ä»¬ï¼Œè¿™æ¬¡åˆå¹¶æ˜¯â€œå¿«è¿›æ¨¡å¼â€ï¼Œä¹Ÿå°±æ˜¯ç›´æŽ¥æŠŠmasteræŒ‡å‘devçš„å½“å‰æäº¤ï¼Œæ‰€ä»¥åˆå¹¶é€Ÿåº¦éžå¸¸å¿«ã€‚å½“ç„¶ï¼Œä¹Ÿä¸æ˜¯æ¯æ¬¡åˆå¹¶éƒ½èƒ½Fast-forwardï¼Œæˆ‘ä»¬åŽé¢ä¼šè®²å…¶ä»–æ–¹å¼çš„åˆå¹¶ã€‚ ä¹‹åŽæˆ‘ä»¬å°±å¯ä»¥å°†devåˆ é™¤äº†ï¼Œä¹‹åŽè¿è¡Œbranchå‘½ä»¤å°±çœ‹åˆ°åªæœ‰masteråˆ†æ”¯äº†ï¼š 1git branch -d dev è¿˜æœ‰switchå‘½ä»¤ï¼š 12git switch -c dev //1.git switch master //2. è¿™ä¸ªä¹Ÿæ˜¯åˆ›å…ˆå¹¶è½¬å‘æ–°åˆ†æ”¯ è¿™ä¸ªæ˜¯è½¬å‘åˆ†æ”¯ï¼Œå’Œcheckoutç”¨æ³•ç±»ä¼¼ å°ç»“12345678git branch //1.git branch &lt;name&gt; //2.git checkout &lt;name&gt; //3.git switch &lt;name&gt; //4.git checkout -b &lt;name&gt; //5.git switch -c &lt;name&gt; //6.git merge &lt;name&gt; //7.git branch -d &lt;name&gt; //8. æŸ¥çœ‹åˆ†æ”¯ åˆ›å»ºåˆ†æ”¯ è½¬å‘åˆ†æ”¯ è½¬å‘åˆ†æ”¯ åˆ›å»ºå¹¶è½¬å‘åˆ†æ”¯ åˆ›å»ºå¹¶è½¬å‘åˆ†æ”¯ åˆå¹¶åˆ†æ”¯ åˆ é™¤åˆ†æ”¯ è§£å†³å†²çªå½“æ–°å»ºçš„åˆ†æ”¯å’ŒåŽŸæ¥çš„åˆ†æ”¯åŒæ—¶å‘å‰æŽ¨è¿›ï¼Œå¯¼è‡´ç”Ÿæˆäº†åˆ†å‰ï¼Œè¿™æ—¶å€™å°±å‘ç”Ÿäº†å†²çªï¼Œè¿™èŠ‚è¦æ¥è§£å†³å†²çªã€‚ æˆ‘ä»¬å…ˆæ–°å»ºä¸€ä¸ªåˆ†æ”¯devï¼Œå¹¶åœ¨devåˆ†æ”¯ä¿®æ”¹æ–‡ä»¶å¹¶æäº¤ï¼Œè¿™æ ·devåˆ†æ”¯å°±æ¯”masteråˆ†æ”¯è¶…å‰äº†ä¸€ä¸ªæäº¤ï¼š ä¹‹åŽæˆ‘ä»¬å†åˆ‡æ¢å›žmasteråˆ†æ”¯ï¼Œç³»ç»Ÿå°±æç¤ºæˆ‘ä»¬å½“å‰åˆ†æ”¯æ¯”masteråˆ†æ”¯è¶…å‰äº†ä¸€ä¸ªåˆ†æ”¯ï¼ˆè¿™é‡Œä»–æ˜¾ç¤ºçš„è¶…å‰ä¸¤æ¬¡ï¼Œæ˜¯å› ä¸ºæˆ‘çš„masteråˆ†æ”¯ä¿®æ”¹è¿‡ä¹‹åŽæ²¡æœ‰å¯¹è¿œç¨‹ä»“åº“æäº¤ï¼Œå®ƒæ˜¾ç¤ºçš„â€˜origin/masterâ€™æ„æ€æ˜¯è¿œç¨‹ä»“åº“çš„masteråˆ†æ”¯ï¼‰ï¼š ä¹‹åŽæˆ‘ä»¬å†åœ¨masterä¿®æ”¹ä¸€æ¬¡å¹¶æäº¤ï¼š ä¼šå‘çŽ°åˆå¹¶çš„æ—¶å€™gitä¼šæç¤ºæˆ‘ä»¬å‘ç”Ÿå†²çªï¼ˆconflictï¼‰ï¼Œè¿™æ—¶åˆ†æ”¯çš„çŠ¶æ€æ˜¯è¿™æ ·çš„ï¼š æˆ‘ä»¬å¯ä»¥ç”¨ï¼ˆgit statusï¼‰æ¥æŸ¥çœ‹å“ªäº›æ–‡ä»¶å‘ç”Ÿäº†å†²çªï¼š è¿™æ—¶gitæç¤ºæˆ‘ä»¬README.mdæ–‡ä»¶å‘ç”Ÿäº†å†²çªï¼Œè¦æˆ‘ä»¬æ‰‹åŠ¨è§£å†³å†²çªï¼Œä¹‹åŽæˆ‘ä»¬æ‰“å¼€README.mdæ–‡ä»¶æŸ¥çœ‹ï¼š ä¼šå‘çŽ°ä¸¤ä¸ªåˆ†æ”¯ä¸­çš„æäº¤åˆ†åˆ«åœ¨æ–‡ä»¶ä¸­æç¤ºå‡ºæ¥ï¼Œæˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹åŽå†æäº¤å³å¯ï¼š è¿™æ˜¯ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†ä¿®æ”¹è¿‡çš„æ–‡ä»¶æäº¤åŽå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹åˆ†æ”¯åˆå¹¶çŠ¶æ€ï¼š 1git log --graph --pretty=oneline --abbrev-commit å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„åˆ†æ”¯å·²ç»åˆå¹¶å®Œæˆï¼Œè¿™æ—¶å¯ä»¥å°†devåˆ†æ”¯åˆ é™¤ã€‚ å°ç»“gitæ— æ³•è‡ªåŠ¨åˆå¹¶å†²çªåˆ†æ”¯ï¼Œåˆå¹¶åŽå¿…é¡»æ‰‹åŠ¨è§£å†³å†²çªï¼Œå†æäº¤ï¼Œç”¨å¦‚ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ†æ”¯åˆå¹¶å›¾ï¼š 1git log --graph åˆ†æ”¯ç®¡ç†ç­–ç•¥åœ¨ä¸€èˆ¬æƒ…å†µï¼Œåˆå¹¶åˆ†æ”¯æ—¶gitä¼šä½¿ç”¨Fast forwardæ¨¡å¼è¿›è¡Œåˆå¹¶ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹åˆ é™¤åˆ†æ”¯åŽä¼šä¸¢æŽ‰åˆ†æ”¯ä¿¡æ¯ã€‚ fast forwardé‚£ä¹ˆä»€ä¹ˆæ˜¯fast forwardæ¨¡å¼å‘¢ï¼Ÿå‡è®¾çŽ°åœ¨æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä¸€ä¸ªæ˜¯ä¸»åˆ†æ”¯masterï¼Œå¦ä¸€ä¸ªæ˜¯devåˆ†æ”¯ã€‚ å½“æˆ‘ä»¬åœ¨devåˆ†æ”¯åšäº†ä¸€ä¸ªæäº¤ä¸ºâ€œnew 444444â€ï¼šå½“HEADæŒ‡å‘devæ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€œnew 444444â€è¿™æ¬¡æäº¤ï¼Œå½“æˆ‘ä»¬å°†HEADæŒ‡å‘masteræ—¶åˆ™çœ‹ä¸åˆ°è¿™ä¸ªâ€œnew 444444â€æäº¤ï¼š è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨fast forwardæ¨¡å¼è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶ä¹‹åŽçš„åˆ†æ”¯å›¾å¦‚å›¾æ‰€ç¤ºï¼šå¯ä»¥çœ‹å‡ºgitå°†â€œnew 444444â€è¿™æ¬¡æäº¤å’Œmasteråˆ†æ”¯å¼ºè¡Œç³…åˆåˆ°äº†ä¸€å—å„¿ã€‚ æŽ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹å…³é—­ fast forwardæ¨¡å¼çš„åˆå¹¶æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œè¿™æ¬¡æˆ‘å…ˆåˆ é™¤äº†devåˆ†æ”¯ï¼Œåˆåˆ›å»ºäº†æ–°çš„devåˆ†æ”¯ï¼Œä»¥é¿å…å’Œå‰é¢çš„æ··æ·†ï¼Œå…¶ä»–æ“ä½œç±»ä¼¼ï¼Œè¿™æ¬¡åœ¨devçš„æäº¤æ¢æˆäº†â€œnew 666666â€ï¼š å¯çœ‹å‡ºè¿™æ¬¡åˆå¹¶ä¹‹åŽgitå¹¶æ²¡æœ‰å°†â€œnew 666666â€è¿™æ¬¡æäº¤å’Œmasteråˆ†æ”¯å¼ºè¡Œç³…åˆåœ¨ä¸€èµ·ã€‚ å¯ç”¨ä¸¤å¼ å›¾æ€»ç»“ä¸€ä¸‹ï¼Œç¬¬ä¸€å¼ ä¸ºfast forwardåˆå¹¶ï¼Œç¬¬äºŒå¼ ä¸ºéžfast forwardåˆå¹¶ï¼š çœ‹åˆ°å»–é›ªå³°è€å¸ˆå¯¹fast forwardè¿™é‡Œè®²è§£çš„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæˆ‘å¯¹è¿™é‡Œä¹Ÿæœ‰ç‚¹è¿·ï¼Œå°±åŠ¨æ‰‹å®žè·µäº†ä¸€ä¸‹ï¼Œå” å¨å” å¨ã€‚å…³é—­fast forwardå¯ä»¥é¿å…ä¸¢å¤±ä¿¡æ¯ï¼Œå¯¹ä»¥åŽçš„ä»£ç åˆ†æžå¾ˆæœ‰ç”¨ï¼ˆçœ‹ç½‘ä¸Šè¯´çš„ðŸ‘€ï¼‰ï¼Œä¸è¿‡fast forwardæ¨¡å¼ç¡®å®žå°†ä¸€éƒ¨åˆ†ä¿¡æ¯ç»™æŠ¹åŽ»äº†ï¼Œæ¯”å¦‚ä¸Šé¢ç¬¬ä¸€ä¸ªå›¾ï¼Œæˆ‘ä»¬å°±çœ‹ä¸å‡ºæ›¾ç»æœ‰è¿‡devçš„ç—•è¿¹ï¼Œè€Œç¬¬äºŒå¼ å›¾åˆ™å¯ä»¥çœ‹å‡ºåŽŸæ¥æœ‰æŸä¸ªåˆ†æ”¯æäº¤äº†è¿™ä¸ªåŠŸèƒ½ã€‚ åˆ†æ”¯ç­–ç•¥åœ¨å®žé™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§å‡ ä¸ªåŸºæœ¬åŽŸåˆ™è¿›è¡Œåˆ†æ”¯ç®¡ç†ï¼š é¦–å…ˆï¼Œmasteråˆ†æ”¯åº”è¯¥æ˜¯éžå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ä»…ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå¹³æ—¶ä¸èƒ½åœ¨ä¸Šé¢å¹²æ´»ï¼› é‚£åœ¨å“ªå¹²æ´»å‘¢ï¼Ÿå¹²æ´»éƒ½åœ¨devåˆ†æ”¯ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œdevåˆ†æ”¯æ˜¯ä¸ç¨³å®šçš„ï¼Œåˆ°æŸä¸ªæ—¶å€™ï¼Œæ¯”å¦‚1.0ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œå†æŠŠdevåˆ†æ”¯åˆå¹¶åˆ°masterä¸Šï¼Œåœ¨masteråˆ†æ”¯å‘å¸ƒ1.0ç‰ˆæœ¬ï¼› ä½ å’Œä½ çš„å°ä¼™ä¼´ä»¬æ¯ä¸ªäººéƒ½åœ¨devåˆ†æ”¯ä¸Šå¹²æ´»ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„åˆ†æ”¯ï¼Œæ—¶ä¸æ—¶åœ°å¾€devåˆ†æ”¯ä¸Šåˆå¹¶å°±å¯ä»¥äº†ã€‚ æ‰€ä»¥ï¼Œå›¢é˜Ÿåˆä½œçš„åˆ†æ”¯çœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼š å¦‚å›¾michaelåœ¨ä»–è‡ªå·±çš„åˆ†æ”¯ä¸Šå·¥ä½œï¼Œbobåœ¨ä»–è‡ªå·±çš„åˆ†æ”¯ä¸Šå·¥ä½œï¼Œä»–ä»¬æ¯æ¬¡å®Œæˆå·¥ä½œéƒ½æŠŠè‡ªå·±çš„åˆ†æ”¯åˆå¹¶åˆ°devåˆ†æ”¯ï¼Œå½“devåˆ†æ”¯ä¸Šçš„é¡¹ç›®ç¨³å®šä¸‹æ¥ï¼Œåˆ™å°†devåˆå¹¶åˆ°masterä¸Šã€‚ Bugåˆ†æ”¯å½“ä½ æ­£åœ¨devåˆ†æ”¯ä¸­åšæŸé¡¹å·¥ä½œæ—¶ï¼Œçªç„¶é€šçŸ¥è®©ä½ åŽ»ä¿®å¤masteråˆ†æ”¯ä¸­çš„ä¸€ä¸ªéžå¸¸ç´§æ€¥bug-001ï¼Œä½†æ˜¯ä½ æ‰‹å¤´çš„å·¥ä½œä¸€æ—¶åŠä¼šå„¿ä¹Ÿåšä¸å®Œã€‚è¿™æ—¶å€™è¦å…ˆä¿æŠ¤å·¥ä½œçŽ°åœºï¼Œå°±åƒè°ƒç”¨å‡½æ•°æ—¶ï¼Œç³»ç»Ÿä¼šå…ˆä¿æŠ¤å·¥ä½œçŽ°åœºï¼Œå°†å„å¯„å­˜å™¨ä¸­çš„å€¼åŽ‹å…¥æ ˆä¸­ï¼Œå†åŽ»è°ƒç”¨åˆ«çš„å‡½æ•°ã€‚ gitä¹Ÿæä¾›äº†ä¸€ä¸ªä¿æŠ¤å·¥ä½œçŽ°åœºçš„åŠŸèƒ½ï¼š 1git stash å¯ä»¥å°†å½“å‰æœªæäº¤çš„ä¿®æ”¹å…ˆå­˜èµ·æ¥ï¼Œä»¥ä¾¿bugä¿®å¤å®ŒæˆåŽæ¢å¤çŽ°åœºã€‚æ¢å¤çŽ°åœºçš„å‘½ä»¤å¦‚ä¸‹ï¼š 123git stash list //1.git stash apply //2.git stash pop //3. è¿™ä¸ªå‘½ä»¤ç”¨äºŽæŸ¥çœ‹å½“å‰æœ‰å“ªäº›è¢«ä¿å­˜èµ·æ¥çš„å·¥ä½œçŽ°åœºï¼Œè¿™ä¸ªlistå…¶å®žæ˜¯ä¸€ä¸ªæ ˆç»“æž„ï¼Œå³åŽè¿›å…ˆå‡ºã€‚ ç¬¬äºŒæ¡å’Œç¬¬ä¸‰æ¡å‘½ä»¤éƒ½æ˜¯æ¢å¤å·¥ä½œçŽ°åœºï¼Œä½†æ˜¯applyä¸ä¼šåˆ é™¤listä¸­çš„è®°å½•ï¼Œæƒ³è¦åˆ é™¤è¿˜è¦ç”¨ï¼ˆgit stash dropï¼‰ï¼Œè€Œpopæ˜¯åº”ç”¨å¹¶åˆ é™¤ã€‚ masteråˆ†æ”¯ä¸­å­˜åœ¨bugï¼Œé‚£ä¹ˆè¯´æ˜Ždevåˆ†æ”¯ä¸­ä¸€å®šä¹Ÿå­˜åœ¨bugã€‚é‚£ä¹ˆæ€Žä¹ˆæ–¹ä¾¿å¿«æ·åœ°ä¿®å¤devä¸Šçš„bugå‘¢ï¼Ÿ è¦å…ˆå†masteråˆ†æ”¯ä¸­æŸ¥çœ‹é‚£ä¸ªbugåˆ†æ”¯çš„commit_idï¼ˆä¾‹å¦‚æ˜¯aadbd3dâ€¦â€¦ï¼Œå–å‰å‡ ä½å°±è¡Œï¼‰ï¼Œç„¶åŽè½¬åˆ°è½¬åˆ°devåˆ†æ”¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1git cherry-pick aadbd3e è¿™æ ·å°±å¯ä»¥å°†é‚£æ¬¡bugä¿®å¤ç›´æŽ¥åˆå¹¶åˆ°devåˆ†æ”¯ä¸­ï¼Œä¸è¿‡è¿˜éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªå¹¶æäº¤ã€‚ Featureåˆ†æ”¯å½“æ–°å¼€å‘åŠŸèƒ½æ—¶ï¼Œè‚¯å®šä¸èƒ½ä»Žmasteråˆ†æ”¯ä¸­ä¿®æ”¹ã€‚è¿™æ—¶å€™è¦ä»Ždevåˆ†æ”¯æ–°å»ºä¸€ä¸ªfeatureåˆ†æ”¯æ¥å¼€å‘æ–°åŠŸèƒ½ï¼Œä½†æ˜¯å½“ä½ å¼€å‘å®Œæ–°åŠŸèƒ½æäº¤è¿‡è¿˜æœªåˆå¹¶æ—¶åˆè¢«è¦æ±‚å–æ¶ˆè¿™ä¸ªåŠŸèƒ½ï¼Œè¿™æ—¶å€™ç”¨ï¼ˆgit branch -d + åˆ†æ”¯åï¼‰æ˜¯åˆ é™¤ä¸äº†çš„ï¼Œå› ä¸ºåˆ†æ”¯è¿˜æœªåˆå¹¶ã€‚gitä¼šæç¤ºä½ è¦ç”¨ï¼ˆ-Dï¼‰æ¥åˆ é™¤ï¼ˆä¾‹å¦‚åˆ†æ”¯åä¸ºfeatureï¼‰ï¼š 1git branch -D feature å¤šäººåä½œå½“ä½ ä»Žè¿œç¨‹ä»“åº“å…‹éš†æ—¶ï¼Œå®žé™…ä¸ŠGitè‡ªåŠ¨æŠŠæœ¬åœ°çš„masteråˆ†æ”¯å’Œè¿œç¨‹çš„masteråˆ†æ”¯å¯¹åº”èµ·æ¥äº†ï¼Œå¹¶ä¸”ï¼Œè¿œç¨‹ä»“åº“çš„é»˜è®¤åç§°æ˜¯originã€‚æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„ä¿¡æ¯ï¼ˆç¬¬ä¸€ä¸ªæ˜¯æŸ¥çœ‹ä¿¡æ¯ï¼Œç¬¬äºŒä¸ªæ˜¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œremoteä¸­æ–‡ç¿»è¯‘æ˜¯ååƒ»çš„ã€åè¿œçš„ðŸ˜ï¼‰ï¼š 12git remotegit remote -v æŽ¨é€åˆ†æ”¯æŽ¨é€åˆ†æ”¯ï¼Œå°±æ˜¯æŠŠè¯¥åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æœ¬åœ°æäº¤æŽ¨é€åˆ°è¿œç¨‹åº“ã€‚æŽ¨é€æ—¶ï¼Œè¦æŒ‡å®šæœ¬åœ°åˆ†æ”¯ï¼Œè¿™æ ·ï¼ŒGitå°±ä¼šæŠŠè¯¥åˆ†æ”¯æŽ¨é€åˆ°è¿œç¨‹åº“å¯¹åº”çš„è¿œç¨‹åˆ†æ”¯ä¸Šï¼ˆæ¯”å¦‚è¯´è¦æŽ¨é€masteråˆ†æ”¯ï¼Œoriginæ˜¯è¿œç¨‹ä»“åº“çš„æ„æ€ï¼‰ï¼š 1git push origin master ä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯ä¸€å®šè¦æŠŠæœ¬åœ°åˆ†æ”¯å¾€è¿œç¨‹æŽ¨é€ï¼Œé‚£ä¹ˆï¼Œå“ªäº›åˆ†æ”¯éœ€è¦æŽ¨é€ï¼Œå“ªäº›ä¸éœ€è¦å‘¢ï¼Ÿ masteråˆ†æ”¯æ˜¯ä¸»åˆ†æ”¯ï¼Œå› æ­¤è¦æ—¶åˆ»ä¸Žè¿œç¨‹åŒæ­¥ï¼› devåˆ†æ”¯æ˜¯å¼€å‘åˆ†æ”¯ï¼Œå›¢é˜Ÿæ‰€æœ‰æˆå‘˜éƒ½éœ€è¦åœ¨ä¸Šé¢å·¥ä½œï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦ä¸Žè¿œç¨‹åŒæ­¥ï¼› bugåˆ†æ”¯åªç”¨äºŽåœ¨æœ¬åœ°ä¿®å¤bugï¼Œå°±æ²¡å¿…è¦æŽ¨åˆ°è¿œç¨‹äº†ï¼Œé™¤éžè€æ¿è¦çœ‹çœ‹ä½ æ¯å‘¨åˆ°åº•ä¿®å¤äº†å‡ ä¸ªbugï¼› featureåˆ†æ”¯æ˜¯å¦æŽ¨åˆ°è¿œç¨‹ï¼Œå–å†³äºŽä½ æ˜¯å¦å’Œä½ çš„å°ä¼™ä¼´åˆä½œåœ¨ä¸Šé¢å¼€å‘ã€‚ æŠ“å–åˆ†æ”¯æƒ³è¦æŠ“å–åˆ†æ”¯ï¼Œå…ˆè¦èŽ·å–ä½ çš„å·¥ç¨‹åœ¨GitHubä¸Šçš„åœ°å€ï¼Œå…ˆåœ¨GitHubä¸­æ‰“å¼€ä½ çš„å·¥ç¨‹ï¼Œä¹‹åŽï¼ˆè¿™ä¸ªæŒ‰é’®æ˜¯å°†åœ°å€ä¿¡æ¯å¤åˆ¶åˆ°ç²˜è´´æ¿ï¼‰ï¼š ä¹‹åŽä½¿ç”¨ï¼ˆgit cloneï¼‰å‘½ä»¤ï¼Œä¾‹å¦‚ä¸Šå›¾ä¸­çš„å·¥ç¨‹ï¼š 1git clone git@github.com:ZhangZef/test.git ä½†æ˜¯åœ¨GitHubä¸Šæˆ‘çš„å·¥ç¨‹æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä¸€ä¸ªæ˜¯masteråˆ†æ”¯ï¼Œä¸€ä¸ªæ˜¯devåˆ†æ”¯ï¼Œå½“ä½ cloneä¹‹åŽä½¿ç”¨ï¼ˆgit branchï¼‰å‘½ä»¤æ—¶ä¼šå‘çŽ°åªæœ‰ä¸€ä¸ªmasteråˆ†æ”¯ï¼Œè¿™æ—¶å€™æƒ³å°†devåˆ†æ”¯ä¹ŸæŠ“å–ä¸‹æ¥è¦ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1git checkout -b dev origin/dev åŽé¢å¸¦ä¸Šï¼ˆorigin/devï¼‰æ„æ€æ˜¯å°†æœ¬åœ°ä»“çš„devåˆ†æ”¯å’Œè¿œç¨‹ä»“åº“çš„devåˆ†æ”¯ç›¸å…³è”ï¼Œä»¥åŽæŽ¨é€æ‹‰å–çš„æ—¶å€™gitä¼šè‡ªåŠ¨å¯»æ‰¾è¿œç¨‹ä»“åº“å’Œå½“å‰æŽ¨é€æ‹‰å–åˆ†æ”¯ç›¸å…³è”çš„åˆ†æ”¯ï¼Œå¦‚æžœè¿œç¨‹ä»“åº“æ²¡æœ‰å…³è”åˆ†æ”¯ï¼š æ‹‰å–æ—¶åˆ™ä¼šæ‹‰å–å¤±è´¥ è€ŒæŽ¨é€æ—¶æ²¡æœ‰å…³è”åˆ†æ”¯ä¸”æ— åŒååˆ†æ”¯åˆ™ä¼šè‡ªåŠ¨åœ¨è¿œç¨‹ä»“åº“åˆ›å»ºæ–°åˆ†æ”¯ï¼Œä½†æ˜¯åˆ›å»ºçš„æ–°åˆ†æ”¯å¹¶ä¸ä¼šå’Œæœ¬åœ°ä»“åº“çš„åˆ†æ”¯ç›¸å…³è”ï¼Œè¿˜è¦æ‰‹åŠ¨å°†è¿œç¨‹ä»“åº“çš„åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯ç›¸å…³è” è€ŒæŽ¨é€æ—¶æ²¡æœ‰å…³è”åˆ†æ”¯ä¸”æœ‰åŒååˆ†æ”¯åˆ™ä¸ä¼šå‘ç”Ÿä»»ä½•äº‹ï¼Œæ²¡æœ‰æŽ¨é€ä¸ŠåŽ»ï¼Œä¹Ÿæ²¡æœ‰åˆ›å»ºæ–°åˆ†æ”¯ è¦æƒ³å…³è”è¿œç¨‹ä»“åº“å’Œæœ¬åœ°ä»“åº“çš„åˆ†æ”¯å¯ç”¨å¦‚ä¸‹å‘½ä»¤ï¼ˆä¾‹å¦‚è¦å…³è”åˆ†æ”¯æ˜¯devï¼‰ï¼š 1git branch --set-upstream-to=origin/dev dev å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‡å®šå°†æœ¬åœ°devå’Œè¿œç¨‹ä»“åº“çš„å…¶ä»–åˆ†æ”¯ç›¸å…³è”ï¼Œä¿®æ”¹originåŽé¢çš„åˆ†æ”¯åå­—å³å¯ï¼Œä½†æ˜¯å¹¶ä¸æŽ¨è è§£å†³æŽ¨é€å†²çªå½“ä½ çš„å°ä¼™ä¼´å‘è¿œç¨‹ä»“åº“çš„devæŽ¨é€åˆ†æ”¯æŽ¨é€ä¹‹åŽï¼Œä½ å†å‘è¿œç¨‹ä»“åº“æŽ¨é€æ—¶gitä¼šæç¤ºä½ äº§ç”Ÿå†²çªï¼Œå¹¶ä¸”æç¤ºä½ è¦ç”¨ï¼ˆgit pullï¼‰å‘½ä»¤ï¼š æ­¤æ—¶å°±ä½¿ç”¨ï¼ˆgit pullï¼‰å°†è¿œç¨‹ä»“åº“çš„åˆ†æ”¯æŠ“å–ä¸‹æ¥ï¼Œæ‰‹åŠ¨è§£å†³å†²çªå†åˆå¹¶ï¼ˆæ‹‰å–å¤±è´¥æ—¶è®°å¾—å…³è”è¿œç¨‹ä»“åº“çš„åˆ†æ”¯å’Œæœ¬åœ°ä»“åº“åˆ†æ”¯ï¼‰ã€‚ Rebaseå½“è§£å†³å†²çªæ—¶ï¼ŒåŽpushçš„äººè¦å…ˆpullï¼Œå†addâ€¦commitâ€¦pushï¼Œè¿™æ ·åˆ†æ”¯å›¾å°±ä¼šå˜å¾—å¾ˆæ‚ä¹±ã€‚åˆ©ç”¨gitçš„rebaseï¼ˆå˜åŸºï¼‰æ“ä½œå¯ä»¥å°†è§£å†³å†²çªæ—¶çš„åˆ†æ”¯å›¾æ•´ç†æˆä¸€æ¡ç›´çº¿ã€‚ï¼ˆä¸å¤ªç†è§£rebaseçš„æ“ä½œï¼Œå›žæ¥å†å†™å§ï¼Œå…ˆè·³è¿‡åŽ»ï¼‰ æ ‡ç­¾ç®¡ç†æ ‡ç­¾ç”¨äºŽæ ‡è®°æŸä¸ªcommitï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚ åˆ›å»ºæ ‡ç­¾12345git tag &lt;name&gt; //1.git tag &lt;name&gt; &lt;commit_id&gt; //2.git tag //3.git show &lt;tagname&gt; //4.git tag -a &lt;tagname&gt; -m &quot;......&quot; //5. åˆ›å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œé»˜è®¤æŒ‡å‘å½“å‰HEADæŒ‡å‘çš„æäº¤ æŒ‡å®šæŸä¸€ä¸ªcommitåˆ›å»ºæ ‡ç­¾ï¼Œç”¨äºŽæŒ‡å®šä»¥å‰çš„æäº¤æœªæ·»åŠ æ ‡ç­¾ æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ æ˜¾ç¤ºæŸä¸ªæ ‡ç­¾ï¼ˆæ ‡ç­¾æŒ‡å‘çš„commitï¼‰çš„ä¿¡æ¯ å¯ä»¥æŒ‡å®šæŸä¸ªæ ‡ç­¾çš„æ³¨è§£ æ“ä½œæ ‡ç­¾1234git tag -d &lt;tagname&gt; //1.git push origin &lt;tagname&gt; //2.git push origin --tags //3.git push origin :refs/tags/&lt;tagname&gt; //4. åˆ é™¤æœ¬åœ°çš„æŸä¸ªæ ‡ç­¾ å°†æŸä¸ªæ ‡ç­¾æŽ¨é€åˆ°è¿œç¨‹ä»“åº“ ä¸€æ¬¡æ€§æŽ¨é€å…¨éƒ¨å°šæœªæŽ¨é€åˆ°è¿œç¨‹çš„æœ¬åœ°æ ‡ç­¾ åˆ é™¤è¿œç¨‹æ ‡ç­¾ï¼Œè¦å…ˆåˆ é™¤æœ¬åœ°çš„æ ‡ç­¾ï¼Œå†ä½¿ç”¨è¿™ä¸ªå‘½ä»¤åˆ é™¤è¿œç¨‹çš„æ ‡ç­¾ ä½¿ç”¨GitHubæƒ³è¦ä¿®æ”¹åˆ«äººçš„æ–‡ä»¶ï¼Œå°±è¦å…ˆforkåˆ°è‡ªå·±çš„ä»“åº“ï¼Œç„¶åŽæ‰èƒ½è¿›è¡Œä¿®æ”¹æäº¤ã€‚å½“ä½ æƒ³è¦åˆ«äººèƒ½æŽ¥å—ä½ çš„æäº¤ï¼Œä½ å°±å¯ä»¥åœ¨GitHubä¸Šå‘èµ·ä¸€ä¸ªpull requestï¼Œä¹‹åŽè¦çœ‹åˆ«äººæŽ¥å—ä¸æŽ¥å—äº†ã€‚ ä½¿ç”¨ç äº‘ç”±äºŽGitHubæ˜¯å›½å¤–çš„ç½‘ç«™ï¼Œå›½å†…ç”¨æˆ·è®¿é—®æ—¶é€Ÿåº¦æœ‰æ—¶å€™ä»¤äººæŠ“ç‹‚ã€‚è¿™æ—¶å€™ä½ å¯ä»¥ä½¿ç”¨å›½å†…çš„gitæ‰˜ç®¡æœåŠ¡ç äº‘ ä¸è¿‡ç äº‘çš„å…è´¹gitä»“åº“æœ‰5äººçš„æˆå‘˜ä¸Šé™ã€‚ æ·»åŠ SSH Keyçš„æ­¥éª¤å°±ç•¥è¿‡äº†ã€‚ åœ¨ç äº‘ä¸Šçš„gitæ“ä½œå’ŒGitHubç±»ä¼¼ï¼Œå°±ä¸èµ˜è¿°äº†ã€‚]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>GitHub</tag>
        <tag>ç äº‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€ŠçŽ°ä»£æ“ä½œç³»ç»Ÿï¼ˆç¬¬å››ç‰ˆï¼‰ã€‹ è¯¾åŽä¹ é¢˜ç­”æ¡ˆ--ç¬¬ä¸€ç« ]]></title>
    <url>%2F2019%2F10%2F07%2F%E3%80%8A%E7%8E%B0%E4%BB%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%88%E7%AC%AC%E5%9B%9B%E7%89%88%EF%BC%89%E3%80%8B-%E8%AF%BE%E5%90%8E%E4%B9%A0%E9%A2%98%E7%AD%94%E6%A1%88-%E7%AC%AC%E4%B8%80%E7%AB%A0%2F</url>
    <content type="text"><![CDATA[ã€ŠçŽ°ä»£æ“ä½œç³»ç»Ÿï¼ˆç¬¬å››ç‰ˆï¼‰ã€‹ è¯¾åŽä¹ é¢˜ç­”æ¡ˆâ€“ç¬¬ä¸€ç« è‡ªå·±å†™çš„ï¼Œå¯èƒ½ä¼šæœ‰é”™è¯¯ï¼Œæœ›å¤§å®¶æŒ‡æ­£ã€‚ ç¬¬ä¸€é¢˜ æ“ä½œç³»ç»Ÿçš„ä¸¤å¤§ä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆPage. 1ï¼‰ è§£ï¼š ä¸ºç”¨æˆ·ç¨‹åºæä¾›ä¸€ä¸ªæ›´å¥½ã€æ›´ç®€å•ã€æ›´æ¸…æ™°çš„è®¡ç®—æœºæ¨¡åž‹ã€‚ ç®¡ç†cpuã€ä¸»å­˜ã€ç£ç›˜ã€æ‰“å°æœºã€é”®ç›˜ã€é¼ æ ‡ã€æ˜¾ç¤ºå™¨ã€ç½‘ç»œæŽ¥å£ç­‰è®¾å¤‡ã€‚ ç¬¬äºŒé¢˜ åœ¨1.4èŠ‚ä¸­æè¿°äº†9ä¸­ä¸åŒç±»åž‹çš„æ“ä½œç³»ç»Ÿï¼Œåˆ—ä¸¾æ¯ç§æ“ä½œç³»ç»Ÿçš„åº”ç”¨ï¼ˆæ¯ç§ç³»ç»Ÿä¸€ç§åº”ç”¨ï¼‰ã€‚ï¼ˆPage. 20ï¼‰ è§£ï¼š å¤§åž‹æœºæ“ä½œç³»ç»Ÿï¼ˆMainframe Operating Systemsï¼‰ï¼š æ‰¹å¤„ç†ç³»ç»Ÿåº”ç”¨äºŽä¿é™©å…¬å¸çš„ç´¢èµ”å¤„ç†æˆ–è¿žé”å•†åº—çš„ç´¢èµ”æŠ¥å‘Š äº‹åŠ¡å¤„ç†ç³»ç»Ÿåº”ç”¨äºŽé“¶è¡Œæ”¯ç¥¨å¤„ç†æˆ–èˆªç­é¢„å®š åˆ†æ—¶ç³»ç»Ÿåº”ç”¨äºŽå¤§åž‹æ•°æ®åº“çš„æŸ¥è¯¢ æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼ˆServer Operating Systemsï¼‰ï¼š åº”ç”¨äºŽWebç«™ç‚¹ä¿å­˜é¡µé¢å¹¶å¤„ç†è¿›æ¥çš„è¯·æ±‚ å¤šå¤„ç†å™¨æ“ä½œç³»ç»Ÿï¼ˆMultiprocessor Operating Systemsï¼‰ï¼š Windowså’ŒLinuxéƒ½å¯ä»¥è¿è¡Œåœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šï¼Œå¯è°“è®¡ç®—æœºå¸¦æ¥æ›´é«˜çš„æ€§èƒ½ ä¸ªäººè®¡ç®—æœºæ“ä½œç³»ç»Ÿï¼ˆPersonal Computer Operating Systemsï¼‰ï¼š åº”ç”¨äºŽæ–‡å­—å¤„ç†ã€ç”µå­è¡¨æ ¼ã€æ¸¸æˆå’ŒInternetè®¿é—® æŽŒä¸Šè®¡ç®—æœºæ“ä½œç³»ç»Ÿï¼ˆHandheld Computer Operating Systemsï¼‰ï¼š æ‰‹æœºçš„æ“ä½œç³»ç»Ÿå¦‚Androidå’Œios åµŒå…¥å¼æ“ä½œç³»ç»Ÿï¼ˆEmbedded Operating Systemsï¼‰ï¼š åº”ç”¨äºŽå¾®æ³¢ç‚‰ã€å†°ç®±ã€ç”µè§†æœºã€æ™ºèƒ½å®¶å±…ã€æ±½è½¦ç­‰ ä¼ æ„Ÿå™¨èŠ‚ç‚¹æ“ä½œç³»ç»Ÿï¼ˆSensor-Node Operating Systemsï¼‰ï¼š åº”ç”¨äºŽå»ºç­‘ç‰©å‘¨è¾¹ä¿æŠ¤ã€å›½åœŸè¾¹ç•Œä¿å«ã€æ£®æž—ç«ç¾æŽ¢æµ‹ã€æ°”è±¡é¢„æµ‹ç­‰ å®žæ—¶æ“ä½œç³»ç»Ÿï¼ˆReal-Time Operating Systemsï¼‰ï¼š ç¡¬å®žæ—¶ç³»ç»Ÿåº”ç”¨äºŽå·¥ä¸šè¿‡ç¨‹æŽ§åˆ¶ã€æ°‘ç”¨èˆªç©ºã€å†›äº‹ç­‰ è½¯å®žæ—¶ç³»ç»Ÿåº”ç”¨äºŽæ•°å­—éŸ³é¢‘æˆ–å¤šåª’ä½“ç³»ç»Ÿç­‰ æ™ºèƒ½å¡æ“ä½œç³»ç»Ÿï¼ˆSmart Card Operating Systemsï¼‰ï¼š åº”ç”¨äºŽç”µå­æ”¯ä»˜ç­‰ ç¬¬ä¸‰é¢˜ åˆ†æ—¶æ“ä½œç³»ç»Ÿå’Œå¤šé“ç¨‹åºç³»ç»Ÿçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆPage. 6ï¼‰ è§£ï¼š åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼šæŒ‰ä¸€å®šæ—¶é—´é—´éš”å°†è®¡ç®—æœºçš„è½®æµåˆ†é…ç»™ç¨‹åºä½¿ç”¨ï¼Œç”±äºŽé—´éš”éžå¸¸çŸ­ï¼Œæ‰€ä»¥å°±åƒæ¯ä¸ªç¨‹åºç‹¬å ä¸€æ ·ã€‚ å¤šé“ç¨‹åºç³»ç»Ÿï¼šå°†å†…å­˜åˆ†ä¸ºå‡ éƒ¨åˆ†å­˜æ”¾ä¸åŒçš„ç¨‹åºï¼Œä¸€ä¸ªç¨‹åºä¸èƒ½è®©cpuå’ŒI/Oè®¾å¤‡å§‹ç»ˆå¿™ç¢Œï¼Œå½“cpuçš„æ­£åœ¨æ‰§è¡Œçš„ä½œä¸šéœ€è¦ç­‰å¾…æŸä¸ªåŠ¨ä½œå®Œæˆæ‰èƒ½ç»§ç»­è¿›è¡Œï¼ˆå¦‚I/Oæ“ä½œå®Œæˆï¼‰ï¼Œå¦‚æžœæ˜¯å•é“ç¨‹åºè®¾è®¡æ­¤æ—¶cpuä¼šç­‰å¾…ï¼Œè€Œå¤šé“ç¨‹åºè®¾è®¡åˆ™ä¼šè®©cpuå¼€å§‹å¤„ç†å¦ä¸€ä¸ªä½œä¸šï¼Œæé«˜äº†cpuçš„åˆ©ç”¨çŽ‡ã€‚ åŒºåˆ«ï¼šåˆ†æ—¶æ“ä½œç³»ç»Ÿæ˜¯æŒ‰ä¸€å®šæ—¶é—´é—´éš”å°†è®¡ç®—èµ„æºåˆ†é…ç»™ä¸åŒçš„ç¨‹åºï¼Œè€Œå¤šé“ç¨‹åºç³»ç»Ÿåˆ™æ˜¯åœ¨å½“å‰ä½œä¸šè¿›è¡Œå…¶ä»–åŠ¨ä½œæ—¶æ‰å›žåŽ»å¤„ç†åˆ«çš„ä½œä¸šã€‚ ç¬¬å››é¢˜ ä¸ºäº†ä½¿ç”¨é«˜é€Ÿç¼“å­˜ï¼Œä¸»å­˜è¢«åˆ’åˆ†ä¸ºè‹¥å¹²cacheè¡Œï¼Œé€šå¸¸æ¯è¡Œé•¿32æˆ–64å­—èŠ‚ã€‚æ¯æ¬¡ç¼“å­˜ä¸€æ•´ä¸ªcacheè¡Œã€‚æ¯æ¬¡ç¼“å­˜ä¸€æ•´è¡Œè€Œä¸æ˜¯ä¸€ä¸ªå­—èŠ‚æˆ–ä¸€ä¸ªå­—ï¼Œè¿™æ ·åšçš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ è§£ï¼š å› ä¸ºç¨‹åºå±€éƒ¨æ€§åŽŸç†ï¼Œå³å½“è¦è®¿é—®æŸä¸€ä¸ªå­—æˆ–å­—èŠ‚ï¼Œåˆ™å…¶åŽé¢çš„æ•°æ®è¢«è®¿é—®çš„æ¦‚çŽ‡å¾ˆå¤§ï¼Œè¿™æ ·å°±å¯ä»¥æé«˜ç¼“å­˜å‘½ä¸­çš„æ¦‚çŽ‡ã€‚ ç¬¬äº”é¢˜ åœ¨æ—©æœŸè®¡ç®—æœºä¸­ï¼Œæ¯ä¸ªå­—èŠ‚çš„è¯»å†™ç›´æŽ¥ç”±CPUå¤„ç†ï¼ˆå³æ²¡æœ‰DMAï¼‰ã€‚å¯¹äºŽå¤šé“ç¨‹åºè€Œè¨€è¿™ç§ç»„ç»‡æ–¹å¼æœ‰ä»€ä¹ˆå«ä¹‰ï¼Ÿ è§£ï¼š DMAï¼ˆDirect Memory Accessï¼‰ç›´æŽ¥å­˜å‚¨å™¨è®¿é—®ï¼šå½“cpuè¦è¿›è¡ŒI/Oæ“ä½œæ—¶åªéœ€è¦å¯¹DMAæŽ§åˆ¶å™¨è¿›è¡Œè®¾ç½®ï¼Œä¹‹åŽDMAæŽ§åˆ¶å™¨ä¼šå®Œæˆcpuç»™å®šçš„å·¥ä½œï¼Œè€Œcpuå¯åœ¨æ­¤æ—¶ç©ºé—²ä¸‹æ¥åŽ»å¤„ç†åˆ«çš„äº‹æƒ…ã€‚ å¦‚æžœæ¯ä¸ªå­—èŠ‚çš„è¯»å†™æ˜¯ç”±cpuè¯»å†™ï¼Œåˆ™åœ¨I/Oæ“ä½œæ—¶cpuå°±ä¸èƒ½å¤„ç†å…¶ä»–ç¨‹åºä½œä¸šï¼Œæ­¤æ—¶cpuå°†è¢«I/Oæ“ä½œå ç”¨ï¼Œæ— æ³•ç©ºé—²ä¸‹æ¥ï¼Œç”±äºŽI/Oæ“ä½œè¿œæ…¢äºŽcpuçš„å¤„ç†é€Ÿåº¦ï¼Œcpuè¿è¡Œæ•ˆçŽ‡ä¼šå¤§å¹…åº¦ä¸‹é™ã€‚è‹¥æœ‰DMAæŽ§åˆ¶å™¨åˆ™åœ¨è¾ƒæ…¢çš„I/Oæ“ä½œæ—¶cpuå¯ä»¥ç©ºé—²ä¸‹æ¥åŽ»è¿è¡Œåˆ«çš„ä½œä¸šï¼Œä¼šä½¿è¿›è¡ŒI/Oæ“ä½œæ—¶cpuæ•ˆçŽ‡å¤§å¹…åº¦æé«˜ï¼Œä¹Ÿæé«˜äº†å¤šé“ç¨‹åºè®¾è®¡çš„æ”¶ç›Šï¼ˆå¤šé“ç¨‹åºæ¦‚å¿µçœ‹ç¬¬ä¸‰é¢˜ï¼‰ã€‚ ç¬¬å…­é¢˜ ä¸Žè®¿é—®I/Oè®¾å¤‡ç›¸å…³çš„æŒ‡ä»¤é€šå¸¸æ˜¯ç‰¹æƒæŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬èƒ½åœ¨å†…æ ¸æ€æ‰§è¡Œè€Œåœ¨ç”¨æˆ·æ€åˆ™ä¸è¡Œï¼Œè¯´æ˜Žä¸ºä»€ä¹ˆè¿™äº›æŒ‡ä»¤æ˜¯ç‰¹æƒæŒ‡ä»¤ã€‚ è§£ï¼š ç‰¹æƒæŒ‡ä»¤ï¼šå…·æœ‰ç‰¹æ®Šæƒé™çš„æŒ‡ä»¤ï¼Œåªèƒ½ç”±æ“ä½œç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨ç³»ç»Ÿçš„å†…æ ¸æ€è¿è¡Œã€‚ æ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªä¸»è¦ä»»åŠ¡å°±æ˜¯ç»™ç”¨æˆ·æä¾›ä¸€ä¸ªè‰¯å¥½çš„è®¡ç®—æœºæ¨¡åž‹ï¼Œç„¶è€Œè¿™ä¸€ä»»åŠ¡çš„ä¸€ä¸ªä¸»è¦å‡†åˆ™å°±æ˜¯å¼±åŒ–ç”¨æˆ·å¯¹ç¡¬ä»¶çš„æ„ŸçŸ¥ï¼Œè€ŒI/Oæ“ä½œå°±æ˜¯å¯¹ç¡¬ä»¶çš„ç›´æŽ¥æ“ä½œã€‚ è¿›è¡ŒI/Oæ“ä½œæ—¶æ“ä½œç³»ç»Ÿå¾€å¾€è¦æ£€æŸ¥ç›¸åº”æƒé™ï¼Œå¦‚æžœI/Oæ“ä½œå¯ä»¥ç”±ç”¨æˆ·ä»»æ„è°ƒç”¨ï¼Œåˆ™ä¼šå®¹æ˜“å¼•å‘ç³»ç»Ÿå´©æºƒã€‚ ç¬¬ä¸ƒé¢˜ ç³»åˆ—è®¡ç®—æœºçš„æ€æƒ³åœ¨20ä¸–ç•Œ60å¹´ä»£ç”±IBMå¼•å…¥System/360å¤§åž‹æœºã€‚çŽ°åœ¨è¿™ç§æ€æƒ³æ˜¯æ¶ˆäº¡è¿˜æ˜¯å­˜æ´»ï¼Ÿ è§£ï¼š è¿™è¿˜ç”¨é—®å—ï¼Œçœ‹çœ‹ä¸åŒç‰ˆæœ¬çš„ipadã€surfaceã€ç›¸åŒç³»åˆ—ä¸åŒé…ç½®çš„ç”µè„‘ã€‚ã€‚ã€‚ ç¬¬å…«é¢˜ ç¼“æ…¢é‡‡ç”¨GUIçš„ä¸€ä¸ªåŽŸå› æ˜¯æ”¯æŒä»–çš„ç¡¬ä»¶çš„æˆæœ¬é«˜æ˜‚ï¼Œä¸ºäº†æ”¯æŒ25è¡Œ80åˆ—çš„å•è‰²æ–‡æœ¬å±å¹•ï¼Œéœ€è¦å¤šå°‘è§†é¢‘RAMï¼Ÿå¯¹äºŽ1024x768åƒç´ 24ä½è‰²å½©å›¾éœ€è¦å¤šå°‘RAMï¼Ÿåœ¨1980å¹´æ¯Kb 5ç¾Žå…ƒï¼Œè¿™äº›RAMæˆæœ¬æ˜¯å¤šå°‘ï¼ŸçŽ°åœ¨æˆæœ¬å¤šå°‘ï¼Ÿ æ¯ä¸ªæ–‡æœ¬ä¸€ä¸ªå­—èŠ‚ï¼Œåˆ™25è¡Œ80åˆ—æœ€å¤§å°±æ˜¯25Ã—80å­—èŠ‚ï¼Œå³2000å­—èŠ‚è§†é¢‘RAM 1024Ã—768ä¸ªåƒç´ ï¼Œæ¯ä¸ªåƒç´ 24ä½ï¼Œä¸€å­—èŠ‚æœ‰8ä½ï¼Œåˆ™æ€»å…±æ˜¯1024Ã—768Ã—24Ã·8ï¼Œå³2359296å­—èŠ‚ï¼Œ2304KBã€‚ 1980å¹´æˆæœ¬æ˜¯11520ç¾Žå…ƒï¼Œåœ¨ä»Šå¤©æŒ‰jdé‡‘å£«é¡¿8g 2400çš„å†…å­˜ä»·æ ¼ç®—æ˜¯0.03125äººæ°‘å¸æ¯KBï¼ˆè¿›åˆ¶ä¸º1024ï¼‰ï¼Œåˆ™å…¶æˆæœ¬æ˜¯72äººæ°‘å¸ï¼ŒæŒ‰å½“å‰ç¾Žå…ƒæ±‡çŽ‡æ˜¯10.0732ç¾Žå…ƒã€‚ ç¬¬ä¹é¢˜ åœ¨å»ºç«‹ä¸€ä¸ªæ“ä½œç³»ç»Ÿæ—¶æœ‰å‡ ä¸ªè®¾è®¡ç›®çš„ï¼Œä¾‹å¦‚èµ„æºåˆ©ç”¨ã€åŠæ—¶æ€§ã€å¥å£®æ€§ç­‰ï¼Œè¯·åˆ—ä¸¾ä¸¤ä¸ªå¯èƒ½ç›¸äº’çŸ›ç›¾çš„è®¾è®¡ç›®çš„ã€‚ è§£ï¼š è€ƒè™‘ç¡¬å®žæ—¶æ“ä½œç³»ç»Ÿï¼Œå…¶åŠæ—¶æ€§å’Œå¯é æ€§è¾ƒé«˜ï¼Œä½†æ˜¯å¥å£®æ€§è¾ƒå·®ï¼Œå½“å‡ºé”™æ—¶ä¼šå¯¼è‡´åŽç»­å·¥ä½œæ— æ³•è¿›è¡Œã€‚ ç¬¬åé¢˜ å†…æ ¸æ€å’Œç”¨æˆ·æ€æœ‰å“ªäº›åŒºåˆ«ï¼Ÿè§£é‡Šåœ¨è®¾è®¡æ“ä½œç³»ç»Ÿæ—¶å­˜åœ¨ä¸¤ç§ä¸åŒçš„æ¨¡å¼æœ‰ä»€ä¹ˆå¸®åŠ©ã€‚ è§£ï¼š å†…æ ¸æ€ï¼šå¯ä»¥æ— é™åˆ¶åœ°å¯¹ç³»ç»Ÿå­˜å‚¨ã€å¤–éƒ¨è®¾å¤‡è¿›è¡Œè®¿é—®ï¼Œå…·æœ‰æœ€é«˜çº§åˆ«çš„æƒé™ï¼Œå¯ä»¥æ‰§è¡Œcpuçš„æ‰€æœ‰æŒ‡ä»¤ã€‚ ç”¨æˆ·æ€ï¼šè®¿é—®å—é™åˆ¶ï¼Œæ— æ³•è®¿é—®å¤–éƒ¨è®¾å¤‡ï¼Œæ— æ³•æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ã€‚ åŒºåˆ«ï¼šç›¸å¯¹ä¸Žç”¨æˆ·æ€ï¼Œå†…æ ¸æ€æ‹¥æœ‰çš„æƒåŠ›æ›´é«˜ï¼Œè€Œç”¨æˆ·æ€è®¿é—®è®¾å¤‡éƒ½éœ€è¦å†…æ ¸æ€æ¥å¸®åŠ©ã€‚ å¯¹æ“ä½œç³»ç»Ÿçš„å¸®åŠ©ï¼š å¯ä»¥ä½¿ç”¨æˆ·ç¨‹åºä¸éœ€è¦æŽ¥è§¦åº•å±‚ç‰©ç†è®¾å¤‡çš„ç»†èŠ‚ï¼Œä»…ç”±ä¸€ä¸ªå‡½æ•°æ¥å®žçŽ°ä¸€ç³»åˆ—å¤æ‚çš„å·¥ä½œã€‚ ä¿æŠ¤ç¡¬ä»¶ä¿¡æ¯ï¼Œå¯¹ç”¨æˆ·ç¨‹åºè¿›è¡Œé™åˆ¶ï¼Œå½“ç”¨æˆ·ç¨‹åºéœ€è¦è¿›è¡ŒæŸäº›ç¡¬ä»¶è®¿é—®ï¼Œå¯ä»¥å‘æ“ä½œç³»ç»Ÿç”³è¯·ï¼Œæ“ä½œç³»ç»Ÿä¼šæ£€æŸ¥å®ƒçš„æƒé™ã€‚ å°ç»“ è¿™å‡ é¢˜éƒ½æ˜¯åæ€ç»´é¢˜ï¼Œè§‰å¾—è¿™ç§é¢˜è¦å…ˆåˆ—ä¸¾è¿™äº›ä¸œè¥¿çš„æ€§è´¨ï¼Œå†å¯¹æ¯”æ€»ç»“ã€‚ æœ‰äº›åè¯ä¹¦ä¸Šæ²¡æœ‰è®²è§£ï¼Œåœ¨ç½‘ä¸Šçš„èµ„æ–™ä¹Ÿæ¯”è¾ƒå°‘ï¼Œå¯èƒ½ä¸å¤ªå‡†ç¡® ç¬¬åä¸€é¢˜ ä¸€ä¸ª255GBå¤§å°çš„ç£ç›˜æœ‰65535ä¸ªæŸ±é¢ï¼Œæ¯ä¸ªæŸ±é¢255ä¸ªæ‰‡åŒºã€‚æ¯ä¸ªæ‰‡åŒº512å­—èŠ‚ã€‚è¿™ä¸ªç£ç›˜æœ‰å¤šå°‘ç›˜ç‰‡å’Œç£å¤´ï¼Ÿå‡è®¾å¹³å‡å¯»é“æ—¶é—´ä¸º11ms,å¹³å‡æ—‹è½¬å»¶è¿Ÿä¸º7ms,è¯»å–é€Ÿåº¦100MB/s,è®¡ç®—ä»Žä¸€ä¸ªæ‰‡åŒºè¯»å–400kbéœ€è¦çš„å¹³å‡æ—¶é—´ã€‚ è§£ï¼š å¦‚å›¾ï¼Œçº¢è‰²ä¸ºä¸€ä¸ªæŸ±é¢ï¼Œè“è‰²ä¸ºæ‰‡åŒºï¼Œå³æ¯ä¸ªç›˜é¢æœ‰è‹¥å¹²æŸ±é¢ï¼Œæ¯ä¸ªæŸ±é¢æœ‰è‹¥å¹²æ‰‡åŒºï¼Œæ¯ä¸ªç›˜é¢æœ‰ä¸€ä¸ªç£å¤´ï¼Œæ¯ä¸ªç›˜ç‰‡æœ‰ä¸¤ä¸ªç›˜é¢ï¼Œä¹Ÿå³ä¸¤ä¸ªç£å¤´ã€‚ï¼ˆç”¨è§¦æ‘¸æ¿ç”»çš„ðŸ‘€ï¼‰ ç”±æ­¤å¯å¾—æ¯ä¸ªç›˜é¢çš„å­˜å‚¨å®¹é‡ä¸º255Ã—512Ã—65535=â€­8556249600â€¬B=â€­8355712.5KBâ‰ˆ8160MBâ‰ˆ8G æ‰€ä»¥ç›˜é¢æ•°å³ç£å¤´æ•°ä¸º255Ã·8â‰ˆ32 æ‰€ä»¥å…±æœ‰16ä¸ªç›˜ç‰‡ å¹³å‡æ—¶é—´=å¯»é“æ—¶é—´+æ—‹è½¬å»¶è¿Ÿ+è¯»å–æ—¶é—´ï¼š11ms+7ms+400kbÃ·(100MB/sÃ—1024Ã·1000)â‰ˆ22ms ç¬¬åäºŒé¢˜ ä¸‹é¢å“ªä¸€æ¡æŒ‡ä»¤åªèƒ½åœ¨å†…æ ¸æ€ä½¿ç”¨ï¼Ÿ a ç¦æ­¢æ‰€æœ‰çš„ä¸­æ–­ b è¯»æ—¥æœŸ-æ—¶é—´æ—¶é’Ÿ c è®¾ç½®æ—¥æœŸ-æ—¶é—´æ—¶é’Ÿ d æ”¹å˜å­˜å‚¨å™¨æ˜ åƒ è§£ï¼šaã€cã€d ç¬¬åä¸‰é¢˜ è€ƒè™‘ä¸€ä¸ªæœ‰ä¸¤ä¸ªCPUçš„ç³»ç»Ÿï¼Œä¸”æ¯ä¸€ä¸ªCPUæœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼ˆè¶…çº¿ç¨‹ï¼‰ã€‚å‡è®¾æœ‰ä¸‰ä¸ªç¨‹åºP0ã€P1ã€P2ï¼Œåˆ†åˆ«ä»¥è¿è¡Œæ—¶é—´5ms, 10ms,20mså¼€å§‹ï¼Œè¿è¡Œè¿™äº›ç¨‹åºéœ€è¦å¤šå°‘æ—¶é—´ï¼Ÿå‡è®¾è¿™ä¸‰ä¸ªç¨‹åºéƒ½æ˜¯100%é™äºŽCPUï¼Œåœ¨è¿è¡Œæ—¶æ— é˜»èµ›ï¼Œå¹¶ä¸”ä¸€æ—¦è®¾å®šå°±ä¸æ”¹å˜CPUã€‚ ä¸å¤ªç†è§£ä»–çš„çº¿ç¨‹è¦æ€Žä¹ˆç®—ï¼Œçœ‹ç™¾åº¦ç™¾ç§‘è‹±ç‰¹å°”è¶…çº¿ç¨‹æŠ€æœ¯æ˜¯å°†cpuå†…éƒ¨ä½¿ç”¨é¢‘çŽ‡è¾ƒé«˜çš„éƒ¨ä»¶å¤åˆ¶ä¸€ä»½ï¼Œè¿™æ ·å°±å¯ä»¥æé«˜ä½¿ç”¨é¢‘çŽ‡è¾ƒä½Žçš„éƒ¨ä»¶çš„ä½¿ç”¨æ•ˆçŽ‡ï¼Œå°±å¯ä»¥æŠŠä»–çœ‹æˆä¸¤ä¸ªé€»è¾‘çº¿ç¨‹ã€‚ä½†æ˜¯çœ‹ç½‘ä¸Šç­”æ¡ˆéƒ½æ²¡æœ‰è€ƒè™‘ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å·¥ä½œçš„é—®é¢˜ã€‚ ç¬¬åå››é¢˜ ä¸€å°è®¡ç®—æœºæœ‰ä¸€ä¸ªå››çº§æµæ°´çº¿ï¼Œæ¯ä¸€çº§éƒ½èŠ±è´¹ç›¸åŒçš„æ—¶é—´æ‰§è¡Œå…¶å·¥ä½œï¼Œå³1ns, è¿™å°æœºå™¨æ¯ç§’å¯æ‰§è¡Œå¤šå°‘æ¡æŒ‡ä»¤ï¼Ÿ è§£ï¼š 1s = 1000000000ns åˆ†æˆå››çº§æµæ°´çº¿ï¼Œåº”è¯¥æ˜¯ä¸€æ¡æŒ‡ä»¤åˆ†æˆå››éƒ¨åˆ†ï¼Œå³æ¯æ¡æŒ‡ä»¤æ‰§è¡Œæ—¶é—´ä¸º4nsï¼Œå››çº§æµæ°´çº¿å›¾ç¤ºï¼š ç”±å›¾å¯æŽ¨ç®—å‡º10äº¿nså¯è¿è¡Œ1000000000-3æ¡æŒ‡ä»¤ ç¬¬åäº”é¢˜ å‡è®¾ä¸€ä¸ªè®¡ç®—æœºç³»ç»Ÿæœ‰é«˜é€Ÿç¼“å­˜ã€å†…å­˜(RAM)ä»¥åŠç£ç›˜ï¼Œæ“ä½œç³»ç»Ÿç”¨è™šæ‹Ÿå†…å­˜ã€‚è¯»å–ç¼“å­˜ä¸­çš„ä¸€ä¸ªè¯éœ€è¦1ns, RAMéœ€è¦10ns, ç£ç›˜éœ€è¦10msã€‚å¦‚æžœç¼“å­˜å‘½ä¸­çŽ‡æ˜¯95%ï¼Œ å†…å­˜çš„æ˜¯99%ï¼ˆç¼“å­˜å¤±æ•ˆæ—¶ï¼‰ï¼Œè¯»å–ä¸€ä¸ªè¯çš„å¹³å‡æ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ è§£ï¼š 10ms = 10000000ns å¹³å‡æ—¶é—´å³ï¼š 1nsÃ—0.95(ç¼“å­˜å‘½ä¸­) +10nsÃ—0.05Ã—0.99(ç¼“å­˜æœªå‘½ä¸­å†…å­˜å‘½ä¸­) +10000000nsÃ—0.05Ã—0.01(ç¼“å­˜å†…å­˜éƒ½æœªå‘½ä¸­) =5001.455ns ç¬¬åå…­é¢˜ åœ¨ç”¨æˆ·ç¨‹åºè¿›è¡Œä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œä»¥è¯»å†™ç£ç›˜æ–‡ä»¶æ—¶ï¼Œè¯¥ç¨‹åºæä¾›æŒ‡ç¤ºè¯´æ˜Žäº†æ‰€éœ€è¦çš„æ–‡ä»¶ï¼Œä¸€ä¸ªæŒ‡å‘æ•°æ®ç¼“å†²åŒºçš„æŒ‡é’ˆä»¥åŠè®¡æ•°ã€‚ç„¶åŽï¼ŒæŽ§åˆ¶æƒè½¬ç»™æ“ä½œç³»ç»Ÿï¼Œå®ƒè°ƒç”¨ç›¸å…³çš„é©±åŠ¨ç¨‹åºã€‚å‡è®¾é©±åŠ¨ç¨‹åºå¯åŠ¨ç£ç›˜å¹¶ä¸”ç›´åˆ°ä¸­æ–­å‘ç”Ÿæ‰ç»ˆæ­¢ã€‚åœ¨ä»Žç£ç›˜è¯»çš„æƒ…å†µä¸‹ï¼Œå¾ˆæ˜Žæ˜¾ï¼Œè°ƒç”¨è€…ä¼šè¢«é˜»å¡žï¼ˆå› ä¸ºæ–‡ä»¶ä¸­æ²¡æœ‰æ•°æ®ï¼‰ã€‚åœ¨å‘ç£ç›˜å†™æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿéœ€è¦æŠŠè°ƒç”¨è€…é˜»å¡žä¸€ç›´ç­‰åˆ°ç£ç›˜ä¼ é€å®Œæˆä¸ºæ­¢å—ï¼Ÿ ä¸å¤ªæ‡‚ã€‚ã€‚ã€‚ ç¬¬åä¸ƒé¢˜ ä»€ä¹ˆæ˜¯é™·é˜±æŒ‡ä»¤ï¼Ÿåœ¨æ“ä½œç³»ç»Ÿä¸­è§£é‡Šä»–çš„ç”¨é€”ã€‚ è§£ï¼š åœ¨ç½‘ä¸Šçœ‹åˆ°å¥½åƒå’ŒtarpæŒ‡ä»¤ç±»ä¼¼çš„è¿˜æœ‰ä¸€ä¸ªå«è®¿ç®¡æŒ‡ä»¤(è¿˜æœ‰äººè¯´ä¸¤ä¸ªå¤§è‡´ç›¸ç­‰ï¼Œæ²¡æžæ˜Žç™½ä¸¤ä¸ªæœ‰å•¥å…³ç³»)ï¼Œå¥½åƒæ˜¯å› ä¸ºå†…æ ¸æ€åˆå«ç®¡æ€ï¼Œç”¨æˆ·æ€åˆå«ç›®æ€ã€‚ trapæŒ‡ä»¤æ˜¯ä¸€ä¸ªéžç‰¹æƒæŒ‡ä»¤ï¼Œä»–æ˜¯ä»Žç”¨æˆ·æ€è¿›å…¥åˆ°å†…æ ¸æ€å”¯ä¸€çš„å…¥å£ï¼Œè¯¥æŒ‡ä»¤å…è®¸ç”¨æˆ·ç¨‹åºè°ƒç”¨ç‰¹æƒæŒ‡ä»¤ã€‚ ç¬¬åå…«é¢˜ åˆ†æ—¶ç³»ç»Ÿä¸­ä¸ºä»€ä¹ˆéœ€è¦è¿›ç¨‹è¡¨ï¼Ÿåœ¨åªæœ‰ä¸€ä¸ªè¿›ç¨‹å­˜åœ¨çš„ä¸ªäººè®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œè¯¥è¿›ç¨‹æŽ§åˆ¶æ•´ä¸ªæœºå™¨ç›´åˆ°è¿›ç¨‹ç»“æŸï¼Œè¿™ç§æœºå™¨ä¹Ÿéœ€è¦è¿›ç¨‹è¡¨å—ï¼Ÿ è§£ï¼š è¿›ç¨‹è¡¨æ˜¯ç”¨æ¥ç®¡ç†è¿›ç¨‹ï¼Œå½“åˆ†æ—¶ç³»ç»Ÿå°†æŸäº›è¿›ç¨‹æŒ‚èµ·æ—¶ï¼Œä»–ä»¬å°†è¿›å…¥è¿›ç¨‹è¡¨ï¼Œåˆ†æ—¶ç³»ç»Ÿä»Žè¿›ç¨‹è¡¨ä¸­å–å‡ºå¦ä¸€ä¸ªéœ€è¦å¤„ç†çš„è¿›ç¨‹ã€‚ å½“åªæœ‰ä¸€ä¸ªè¿›ç¨‹æ—¶ä¸éœ€è¦ï¼Œå› ä¸ºä»–æ— éœ€ç®¡ç†å…¶ä»–è¿›ç¨‹ã€‚ ç¬¬åä¹é¢˜ è¯´æ˜Žæœ‰æ²¡æœ‰ç†ç”±åœ¨ä¸€ä¸ªéžç©ºçš„ç›®å½•ä¸­å®‰è£…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æžœè¿™æ ·åšï¼Œå¦‚ä½•åšï¼Ÿ ä¸å¤ªæ‡‚ï¼Œå¸Œæœ›æœ‰å¤§ä½¬èƒ½å¸®æˆ‘è§£ç­”ä¸€ä¸‹ã€‚ ç¬¬äºŒåé¢˜ å¯¹äºŽä¸‹åˆ—ç³»ç»Ÿè°ƒç”¨ï¼Œç»™å‡ºå¼•èµ·å¤±è´¥çš„æ¡ä»¶ï¼šfork,execä»¥åŠunlink. è§£ï¼š forkï¼šå¦‚æžœåœ¨è¿›ç¨‹è¡¨ä¸­æ²¡æœ‰ç©ºé—²çš„å†…å­˜ç”¨äºŽåˆ›å»ºå­è¿›ç¨‹ï¼Œåˆ™è°ƒç”¨å¤±è´¥ execï¼šå½“å…¶å‚æ•°ä¸­æ‰§è¡Œçš„æ–‡ä»¶åç§°é”™è¯¯æ—¶ unlinkï¼šè¦åˆ é™¤çš„ç›®å½•ä¸å­˜åœ¨æˆ–è€…æƒé™ä¸è¶³æ—¶ ç¬¬äºŒåä¸€é¢˜ ä¸‹åˆ—èµ„æºèƒ½ä½¿ç”¨å“ªç§å¤šè·¯å¤ç”¨ï¼ˆæ—¶é—´ã€ç©ºé—´æˆ–è€…ä¸¤è€…çš†å¯ï¼‰ï¼šCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘å¡ã€æ‰“å°æœºã€é”®ç›˜ä»¥åŠæ˜¾ç¤ºå™¨ï¼Ÿ è§£ï¼š æ—¶é—´å¤ç”¨ï¼šCPUã€ç½‘å¡ã€æ‰“å°æœºã€é”®ç›˜ ç©ºé—´å¤ç”¨ï¼šå†…å­˜ã€ç£ç›˜ã€ ä¸¤è€…çš†å¯ï¼šæ˜¾ç¤ºå™¨ ç¬¬äºŒåäºŒé¢˜ åœ¨count = write(fd, buffer,nbytes);è°ƒç”¨ä¸­ï¼Œæ˜¯å¦èƒ½å°†å‡½æ•°è¿”å›žå€¼ä¼ é€’ç»™ counté™¤nbteså˜é‡ä»¥å¤–çš„ä»»ä½•å€¼å—ï¼Ÿå¦‚æžœèƒ½ï¼Œä¸ºä»€ä¹ˆï¼Ÿï¼ˆè¿™ç‚¹ä¹¦ä¸Šç¿»è¯‘é”™äº†ã€‚ã€‚ã€‚ï¼‰ è§£ï¼š writeè¿”å›žå€¼ï¼šé€šå¸¸ä¸Žå‚æ•°nbytesç›¸åŒï¼Œå¦åˆ™è¡¨ç¤ºå‡ºé”™ã€‚ è‹¥è¿”å›ž-1ï¼Œè¡¨ç¤ºwriteç³»ç»Ÿè°ƒç”¨é”™è¯¯ã€‚ è‹¥è¿”å›žå€¼ä¸º0ï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å†™å…¥ä»»ä½•æ•°æ® ç¬¬äºŒåä¸‰é¢˜ æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œå…¶æ–‡ä»¶æè¿°ç¬¦æ˜¯fdï¼Œå†…å«ä¸‹åˆ—å­—èŠ‚åºåˆ—ï¼š3ï¼Œ1ï¼Œ4ï¼Œ1ï¼Œ5ï¼Œ9ï¼Œ2ï¼Œ6ï¼Œ5ï¼Œ3ï¼Œ5ã€‚æœ‰å¦‚ä¸‹ç³»ç»Ÿè°ƒç”¨ï¼š 123&gt; lseek(fd, 3, SEEK_SET);&gt; read(fd, &amp;buffer, 4);&gt; å…¶ä¸­lseekè°ƒç”¨å¯»æ‰¾æ–‡ä»¶ä¸­çš„å­—èŠ‚3ã€‚åœ¨è¯»æ“ä½œå®Œæˆä¹‹åŽï¼Œbufferä¸­çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ è§£ï¼š lseekï¼šç”¨äºŽä¿®æ”¹æŒ‡é’ˆåœ¨æ–‡ä»¶ä¸­çš„ä½ç½®ã€‚ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºæ–‡ä»¶æè¿°ã€æ–‡ä»¶ä¸­çš„ä½ç½®ã€è¯´æ˜Žç›¸å¯¹äºŽæ–‡ä»¶çš„èµ·å§‹ä½ç½®ï¼Œå½“å‰ä½ç½®è¿˜æ˜¯ç»“å°¾ã€‚å…¶è¿”å›žå€¼æ˜¯æ–‡ä»¶ä¸­çš„ç»å¯¹ä½ç½®ã€‚ setæˆ‘æŸ¥çš„æœ‰start sth. happeningçš„æ„æ€ï¼Œä¹Ÿè®¸åœ¨è¿™é‡Œå°±æ˜¯å¼€å§‹çš„æ„æ€å§ï¼Œè¿™ä¸ªåå­—èµ·çš„å¥½æŠ½è±¡ï¼Œä»¥å‰éƒ½ä¸çŸ¥é“setè¿˜æœ‰å¼€å§‹çš„æ„æ€ã€‚ã€‚ã€‚æ‰€ä»¥SEEK_SETå°±æ˜¯ä»Žæ–‡ä»¶çš„å¼€å¤´ï¼Œä»Žå¼€å¤´ç®—èµ·ç¬¬ä¸‰ä¸ªå°±æ˜¯å­—ç¬¦1äº†ã€‚ é‚£readå°±æ˜¯ä»Žå­—ç¬¦1å¼€å§‹ç®—4ä¸ªå­—ç¬¦å³ï¼š1ï¼Œ5ï¼Œ9ï¼Œ2 æˆ‘ä¸å¤ªæ¸…æ¥šä»–çš„æŒ‡é’ˆæ˜¯ä»€ä¹ˆæœºåˆ¶ï¼Œä½†æ˜¯å½“è¿è¡Œå¦‚ä¸‹ä»£ç  123&gt; lseek(fd, 0, SEEK_SET);//å°†æŒ‡é’ˆè®¾ç½®åœ¨æ–‡ä»¶çš„èµ·å§‹ä½ç½®&gt; //æ‡’å¾—æ‰“å¼€Linuxè¯•äº†ï¼Œè¿˜è¦é‡å¯æ¢ç³»ç»Ÿ&gt; å¦‚æžœæ–‡ä»¶èµ·å§‹ä½ç½®æ˜¯1ï¼Œå†™çš„æ—¶å€™æ˜¯ä¸ä¼šä»Ž0å¼€å§‹å†™çš„ï¼Œå› ä¸º0ä¸æ˜¯ä¸€ä¸ªä½ç½®ï¼Œè€Œæ˜¯ä»Ž1å¼€å§‹å†™ï¼Œä¹Ÿå³æŒ‡é’ˆä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œé‚£ä¹ˆlseekå°±ä¼šæŠŠæŒ‡é’ˆè®¾ç½®åœ¨ä¸‹ä¸€ä¸ªè¦è¯»å†™ä½ç½®çš„å‰é¢ï¼Œå³æ¯æ¬¡è¯»å†™éƒ½ä»ŽæŒ‡é’ˆçš„ä¸‹ä¸€ä½å¼€å§‹è¯»å†™ï¼ˆå¥½åƒæœ‰äº›ç±»ä¼¼STLä¸­çš„rbeginè¿­ä»£å™¨ï¼Œæˆ‘ä¹Ÿè®°ä¸æ¸…æ¥šäº†ï¼‰ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªè¯´æ³•å’Œä¹¦ä¸Šçš„è¯´æ³•ç›¸çŸ›ç›¾ï¼Œä¹¦ä¸ŠPage. 32çš„1.6.2ä¸­è¯´â€œåœ¨é¡ºåºè¯»(å†™)æ—¶ï¼Œè¯¥æŒ‡é’ˆé€šå¸¸æŒ‡å‘è¦è¯»(å†™)çš„ä¸‹ä¸€ä¸ªå­—èŠ‚â€ã€‚ å¦‚æžœæ–‡ä»¶èµ·å§‹ä½ç½®æ˜¯0ï¼Œé‚£ä¹ˆlseekä¼šå°†æŒ‡é’ˆè®¾ç½®åœ¨ç¬¬0ä½ï¼ŒæŒ‰ä¹¦ä¸Šè¯´ï¼Œä¸‹ä¸€æ¬¡å°†åœ¨ç¬¬0ä½å¼€å§‹è¯»(å†™)ï¼Œæ‰€ä»¥é¢˜ç›®ä¸­çš„3å¯èƒ½æŒ‡çš„å°±æ˜¯æ–‡ä»¶ä¸­çš„ç¬¬å››ä¸ªå­—ç¬¦ã€‚ ç¬¬äºŒåå››é¢˜ å‡è®¾ä¸€ä¸ª10MBçš„æ–‡ä»¶åœ¨ç£ç›˜è¿žç»­æ‰‡åŒºçš„åŒä¸€ä¸ªè½¨é“ä¸Šï¼ˆè½¨é“å·ï¼š50ï¼‰ã€‚ç£ç›˜çš„ç£å¤´è‡‚æ­¤æ—¶ä½äºŽç¬¬100å·è½¨é“ã€‚è¦æƒ³ä»Žç£ç›˜ä¸Šæ‰¾å›žè¿™ä¸ªæ–‡ä»¶ï¼Œéœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ å‡è®¾ç£å¤´è‡‚ä»Žä¸€ä¸ªæŸ±é¢ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæŸ±é¢éœ€è¦1msï¼Œå½“æ–‡ä»¶çš„å¼€å§‹éƒ¨åˆ†å­˜å‚¨åœ¨çš„æ‰‡åŒºæ—‹è½¬åˆ°ç£å¤´ä¸‹éœ€è¦5msï¼Œå¹¶ä¸”è¯»çš„é€ŸçŽ‡æ˜¯200MB/sã€‚ è§£ï¼š è¯»å–æ–‡ä»¶æ—¶é—´ï¼š(10MB) Ã· (200MB/s) = 0.05s = 50ms æ€»æ—¶é—´ï¼š50ms + 50ms + 5ms = 105ms ç¬¬äºŒåäº”é¢˜ å—ç‰¹æ®Šæ–‡ä»¶å’Œå­—ç¬¦ç‰¹æ®Šæ–‡ä»¶çš„åŸºæœ¬å·®åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ è§£ï¼š å¦‚æžœä¸€ä¸ªç¡¬ä»¶è®¾å¤‡æ˜¯ä»¥å­—ç¬¦æµçš„æ–¹å¼è¢«è®¿é—®çš„è¯ï¼Œé‚£å°±åº”è¯¥å°†å®ƒå½’äºŽå­—ç¬¦è®¾å¤‡ï¼›åè¿‡æ¥ï¼Œå¦‚æžœä¸€ä¸ªè®¾å¤‡æ˜¯éšæœºï¼ˆæ— åºçš„ï¼‰è®¿é—®çš„ï¼Œé‚£ä¹ˆå®ƒå°±å±žäºŽå—è®¾å¤‡ã€‚å—è®¾å¤‡å¸¸è§çš„æ˜¯ç¡¬ç›˜ï¼Œè€Œå­—ç¬¦è®¾å¤‡å¸¸è§çš„æ˜¯é”®ç›˜ç­‰ã€‚ å—ç‰¹æ®Šæ–‡ä»¶å’Œå­—ç¬¦ç‰¹æ®Šæ–‡ä»¶åˆå«åšå—è®¾å¤‡å’Œå­—ç¬¦è®¾å¤‡ï¼Œåœ¨ç™¾åº¦æŸ¥å—ç‰¹æ®Šæ–‡ä»¶å’Œå­—ç¬¦ç‰¹æ®Šæ–‡ä»¶åŸºæœ¬æŸ¥ä¸åˆ°ä»€ä¹ˆæœ‰ç”¨çš„èµ„æ–™ï¼Œè¿˜èƒ½ç´¢å¼•åˆ°æœ‰é“è¯å…¸çš„ç¿»è¯‘æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿï¼Ÿï¼Ÿè¾£é¸¡ç™¾åº¦ã€‚ã€‚ã€‚è€ŒæŸ¥å—è®¾å¤‡å’Œå­—ç¬¦è®¾å¤‡è¿˜èƒ½æŸ¥åˆ°ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿ã€‚ ç¬¬äºŒåå…­é¢˜ åœ¨å›¾1-17çš„ä¾‹å­ä¸­åº“è°ƒç”¨ç§°ä¸ºreadï¼Œè€Œç³»ç»Ÿè°ƒç”¨è‡ªèº«ç§°ä¸ºreadï¼Œè¿™ä¸¤è€…éƒ½æœ‰ç›¸é—®çš„åå­—æ˜¯æ­£å¸¸çš„å—ï¼Ÿ å¦‚æžœä¸æ˜¯ï¼Œå“ªä¸€ä¸ªæ›´é‡è¦ï¼Ÿ è§£ï¼š ä¹¦ä¸ŠPage. 29è¯´â€œç¬¬ä¸ƒæ­¥ï¼šè·Ÿéšåœ¨TRAPæŒ‡ä»¤åŽçš„å†…æ ¸ä»£ç å¼€å§‹æ£€æŸ¥ç³»ç»Ÿè°ƒç”¨ç¼–å·ï¼Œç„¶åŽåˆ†é…ç»™æ­£ç¡®çš„ç³»ç»Ÿè°ƒç”¨å¤„ç†å™¨ï¼Œè¿™é€šå¸¸æ˜¯é€šè¿‡ä¸€å¼ ç”±ç³»ç»Ÿè°ƒç”¨ç¼–å·æ‰€å¼•ç”¨çš„ã€æŒ‡å‘ç³»ç»Ÿè°ƒç”¨å¤„ç†å™¨çš„æŒ‡é’ˆè¡¨æ¥å®Œæˆâ€ï¼Œ å³è¿™äº›ç³»ç»Ÿè°ƒç”¨å…¶å®žæ²¡æœ‰åå­—ï¼Œåªæ˜¯ä¸€äº›ç¼–å·ã€‚åº”è¯¥åœ¨ç”¨æˆ·æ€çš„readæ›´é‡è¦ï¼Œå› ä¸ºä»–è¦å†™æˆä»£ç ï¼Œæ›´æŠ½è±¡ä¸”å®¹æ˜“è¢«ç†è§£ã€‚ ç¬¬äºŒåä¸ƒé¢˜ çŽ°ä»£æ“ä½œç³»ç»Ÿå°†è¿›ç¨‹çš„åœ°å€ç©ºé—´ä»Žæœºå™¨ç‰©ç†å†…å­˜ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œåˆ—ä¸¾è¿™ç§è®¾è®¡çš„ä¸¤ä¸ªå¥½å¤„ã€‚ è§£ï¼š ä»–ä¸ºè™šæ‹Ÿå†…å­˜æå‡ºå¥ å®šäº†åŸºç¡€ï¼Œå¦‚æžœè¿›ç¨‹åœ°å€ç©ºé—´å’Œæœºå™¨å†…å­˜ä¸€ä¸€å¯¹åº”ï¼Œåˆ™å°±ä¸å¯èƒ½æœ‰è™šæ‹Ÿå†…å­˜å­˜åœ¨ã€‚ é˜²æ­¢å…¶ä»–æ¶æ„ç¨‹åºæˆ–è€…æœ‰bugçš„ç¨‹åºä¿®æ”¹åˆ«çš„ç¨‹åºçš„å†…å­˜ã€‚ ç¬¬äºŒåå…«é¢˜ å¯¹ç¨‹åºå‘˜è€Œè¨€ï¼Œç³»ç»Ÿè°ƒç”¨å°±åƒå¯¹å…¶ä»–åº“è¿‡ç¨‹çš„è°ƒç”¨ä¸€æ ·ã€‚æœ‰æ— å¿…è¦è®©ç¨‹åºå‘˜äº†è§£å“ªä¸€ä¸ªåº“è¿‡ç¨‹å¯¼è‡´äº†ç³»ç»Ÿè°ƒç”¨ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å½¢ä¸‹ï¼Œä¸ºä»€ä¹ˆï¼Ÿ è§£ï¼š æˆ‘è®¤ä¸ºï¼Œä¸€ä¸ªå¥½çš„åº“ï¼Œåº”è¯¥æ˜¯æ›´æŠ½è±¡ã€ç¾Žè§‚ã€‚ä»–åº”è¯¥è®©ç¨‹åºå‘˜å¿½ç•¥é‚£äº›ç¡¬ä»¶ç»†èŠ‚å’Œç³»ç»Ÿç»†èŠ‚ä»¥è¾¾åˆ°æ›´é«˜æ•ˆçš„å¼€å‘ã€‚ ç¬¬äºŒåä¹é¢˜ å›¾1-23è¯´æ˜Žæœ‰ä¸€æ‰¹UNIXçš„ç³»ç»Ÿè°ƒç”¨æ²¡æœ‰ä¸Žä¹‹ç›¸ç­‰ä»·çš„Win32 APIï¼Œå¯¹äºŽæ‰€åˆ—å‡ºçš„æ¯ä¸€ä¸ªæ²¡æœ‰Win32ç­‰ä»·çš„è°ƒç”¨ï¼Œè‹¥ç¨‹åºå‘˜è¦æŠŠä¸€ä¸ªUNIXç¨‹åºè½¬æ¢åˆ°Windowsä¸‹è¿è¡Œï¼Œä¼šæœ‰ä»€ä¹ˆåŽæžœï¼Ÿ è§£ï¼š linkï¼šåœ¨win32ä¸­æ–‡ä»¶å°†ä¸èƒ½ä»¥å¦ä¸€ä¸ªåå­—å‡ºçŽ°åœ¨å…¶ä»–ç›®å½•ä¸­ mountå’Œunmountï¼šåœ¨win32ä¸­ä¸èƒ½åˆå¹¶ä¸¤ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå°±å¿…é¡»åˆ†æ¸…æ¥šå“ªäº›æ–‡ä»¶æ˜¯åœ¨å“ªä¸ªé©±åŠ¨å™¨ä¸Šé¢ã€‚ chmodï¼šåœ¨Win32ä¸­ä¸èƒ½çµæ´»æ”¹å˜æ–‡ä»¶çš„ä¿æŠ¤å±žæ€§ killï¼šåœ¨Win32ä¸­ä¸èƒ½æ€æ­»å¤±å¸¸çš„ç¨‹åº ç¬¬ä¸‰åé¢˜ å¯ç§»æ¤çš„æ“ä½œç³»ç»Ÿæ˜¯èƒ½ä»Žä¸€ä¸ªç³»ç»Ÿä½“ç³»ç»“æž„åˆ°å¦ä¸€ä¸ªä½“ç³»ç»“æž„çš„ç§»åŠ¨ä¸éœ€è¦ä»»ä½•ä¿®æ”¹çš„æ“ä½œç³»ç»Ÿã€‚è¯·è§£é‡Šä¸ºä»€ä¹ˆå»ºç«‹ä¸€ä¸ªå®Œå…¨å¯ç§»æ¤æ€§çš„æ“ä½œç³»ç»Ÿæ˜¯ä¸å¯è¡Œçš„ã€‚æè¿°ä¸€ä¸‹åœ¨è®¾è®¡ä¸€ä¸ªé«™åº¦å¯ç§»æ¤çš„æ“ä½œç³»ç»Ÿæ—¶ä½ è®¾è®¡çš„ä¸¤ä¸ªé«˜çº§å±‚æ˜¯ä»€ä¹ˆæ ·çš„ã€‚ è§£ï¼š å› ä¸ºä¸åŒçš„ç¡¬ä»¶å¾€å¾€éƒ½æœ‰ç€è‡ªå·±ç‹¬æœ‰çš„æŒ‡ä»¤é›†ï¼Œè€ŒæŸäº›ç¡¬ä»¶ä¸“ç”¨äºŽå®žçŽ°ä¸€äº›åŠŸèƒ½ï¼Œä¸åŒåŠŸèƒ½çš„æŒ‡ä»¤é›†å¾€å¾€å„ä¸ç›¸åŒã€‚å³ä½¿åŠŸèƒ½ç›¸åŒçš„ç¡¬ä»¶æŒ‡ä»¤é›†ä¹Ÿä¸å°½ç›¸åŒã€‚ åº”è¯¥æœ‰ä¸€ä¸ªç”¨äºŽå±è”½ç¡¬ä»¶ç»†èŠ‚å§ï¼Œç±»ä¼¼äºŽè®¡ç®—æœºç½‘ç»œä¸­çš„ç‰©ç†å±‚ã€‚å¦ä¸€ä¸ªä¸çŸ¥é“ã€‚ã€‚ã€‚ï¼ˆä»€ä¹ˆé¬¼é—®é¢˜ï¼Œæˆ‘å¯¹æ“ä½œç³»ç»Ÿè¿˜ä¸äº†è§£äº†ï¼Œä¸Šæ¥é—®è¿™ç§åŠé€€é—®é¢˜ï¼‰ ç¬¬ä¸‰åä¸€é¢˜ è¯·è§£é‡Šåœ¨å»ºç«‹åŸºäºŽå¾®å†…æ ¸çš„æ“ä½œç³»ç»Ÿæ—¶ç­–ç•¥ä¸Žæœºåˆ¶çš„åˆ†ç¦»å¸¦æ¥çš„å¥½å¤„ã€‚ è§£ï¼š è®©å†…æ ¸ä½“ç§¯æ›´å°ï¼Œå°†å¤æ‚çš„ç­–ç•¥å®žçŽ°äº¤ç»™ç”¨æˆ·æ€ï¼Œä½¿å†…æ ¸åšçš„äº‹æƒ…æ›´åŠ ä¸“ä¸€ï¼Œæ•ˆçŽ‡æ›´é«˜ã€‚ ç¬¬ä¸‰åäºŒé¢˜ è™šæ‹Ÿæœºç”±äºŽå¾ˆå¤šå› ç´ è€Œååˆ†æµè¡Œï¼Œç„¶è€Œä»–ä»¬ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œç»™å‡ºä¸€ä¸ªç¼ºç‚¹ã€‚ è§£ï¼š è™šæ‹Ÿæœºå»ºç«‹åœ¨å®¿ä¸»æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œä¼šç»™å¤„ç†å™¨å’Œå†…å­˜å¸¦æ¥å¾ˆå¤§çš„å¼€é”€æ¥ä½¿è™šæ‹Ÿæœºçœ‹ä¼¼å’Œå®¿ä¸»æ“ä½œç³»ç»Ÿç›¸åŒã€‚ ç¬¬ä¸‰åä¸‰é¢˜ ä¸‹é¢æ˜¯å•ä½è½¬æ¢çš„ç»ƒä¹ ï¼š a)ä¸€å¾®å¹´æ˜¯å¤šå°‘ç§’ï¼Ÿ b)å¾®ç±³å¸¸ç§°ä¸ºmicronã€‚é‚£ä¹ˆgigamicronæ˜¯å¤šé•¿ï¼Ÿ c) 1TBå­˜å‚¨å™¨ä¸­æœ‰å¤šå°‘å­—èŠ‚ï¼Ÿ d)åœ°çƒçš„è´¨é‡æ˜¯6000 yottagram, æ¢ç®—æˆkilogramæ˜¯å¤šå°‘ï¼Ÿ è§£ï¼š 0.000001Ã—365Ã—24Ã—3600 = 31.536s 1000000000Ã—0.000001 = 1000m 2^40å­—èŠ‚ 6Ã—10^21 kg å‚è€ƒã€ŠçŽ°ä»£æ“ä½œç³»ç»Ÿï¼ˆä¸­æ–‡ç¬¬å››ç‰ˆï¼‰ã€‹è¯¾åŽä¹ é¢˜ç­”æ¡ˆ ç¬¬ä¸€ç«  å¼•è®º]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>çŽ°ä»£æ“ä½œç³»ç»Ÿ</tag>
        <tag>è¯¾åŽä¹ é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maven]]></title>
    <url>%2F2019%2F10%2F06%2FMaven%2F</url>
    <content type="text"><![CDATA[Mavenè§†é¢‘åˆ†äº« æå–ç ï¼šx8tf Mavençš„å¥½å¤„åŠæ¦‚è¦mavençš„å¥½å¤„åŠæ ¸å¿ƒæ™®é€šé¡¹ç›®é€šè¿‡æŠŠjaråŒ…å¤åˆ¶è¿›å·¥ç¨‹ï¼Œè€ŒMavenåˆ™æ˜¯å»ºç«‹ä¸€ä¸ªjaråŒ…ä»“åº“ï¼Œé€šè¿‡åæ ‡ï¼ˆå³å…¬å¸åç§°+é¡¹ç›®åç§°+ç‰ˆæœ¬å·ï¼‰æ¥å‘ä»“åº“ä¸­å¯»æ‰¾åæ ‡ mavençš„ä¸¤å¤§æ ¸å¿ƒï¼š ä¾èµ–ç®¡ç†ï¼šå¯¹jaråŒ…çš„ç®¡ç†è¿‡ç¨‹ é¡¹ç›®æž„å»ºï¼šé¡¹ç›®åœ¨ç¼–ç å®ŒæˆåŽï¼Œå¯¹é¡¹ç›®è¿›è¡Œç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€éƒ¨ç½²ç­‰ä¸€ç³»åˆ—æ“ä½œé€šè¿‡å‘½ä»¤æ¥å®žçŽ° é€šè¿‡mavenå‘½ä»¤å°†webé¡¹ç›®å‘å¸ƒåˆ°tomcatï¼šmvn tomcat:run mavençš„é…ç½®åŠä»“åº“mavençš„ç»„æˆmavenæ–‡ä»¶ç»„æˆï¼š æŸ¥è¯¢mavenç‰ˆæœ¬ä¿¡æ¯ï¼šcmdä¸­é”®å…¥mvn -v mavenä»“åº“ç±»åž‹ mavené¡¹ç›®æ ‡å‡†ç›®å½•ç»“æž„ srcï¼šé¡¹ç›®æºç  mainï¼šä¸»è¦ä»£ç  javaï¼šjavaä»£ç  recourcesï¼šé…ç½®æ–‡ä»¶ webappï¼šé¡µé¢ç´ æï¼šjspæ–‡ä»¶ã€cssæ–‡ä»¶ç­‰ç­‰ testï¼šå•å…ƒæµ‹è¯• javaï¼šå•å…ƒæµ‹è¯•ç±» tarjetï¼šå­˜æ”¾ç¼–è¯‘åŽçš„æ–‡ä»¶ï¼ˆä¸å±žäºŽmavenæ ‡å‡†ç›®å½•ç»“æž„ï¼‰ pom.xmlï¼šmavené¡¹ç›®æ ¸å¿ƒé…ç½®æ–‡ä»¶ mavenå¸¸ç”¨çš„å‘½ä»¤cleanï¼šæ¸…ç†å‘½ä»¤å°†å·²ç”Ÿæˆçš„.classæ–‡ä»¶æ¸…ç†æŽ‰ï¼ˆå°†æ ¹ç›®å½•ä¸‹çš„tarjetç›®å½•æ¸…ç†æŽ‰ï¼‰ compileï¼šç¼–è¯‘å‘½ä»¤å°†.javaæ–‡ä»¶ç¼–è¯‘æˆ.classæ–‡ä»¶ testï¼šæµ‹è¯•å‘½ä»¤å°†é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼štest/javaç›®å½•ä¸‹çš„å•å…ƒæµ‹è¯•ç±»å…¨éƒ¨æ‰§è¡Œ ç±»åå¿…é¡»æ˜¯XxxxTest.java packageï¼šæ‰“åŒ…å‘½ä»¤åŠ¨æ€æ‰“åŒ…ï¼š web project â€¦â€¦waråŒ… java project â€¦â€¦jaråŒ… å°†é¡¹ç›®æ‰“åŒ…åˆ°æ ¹ç›®å½•ä¸‹targetç›®å½• installï¼šå®‰è£…å‘½ä»¤è§£å†³æœ¬åœ°å¤šä¸ªé¡¹ç›®å…¬ç”¨ä¸€ä¸ªjaråŒ… å°†é¡¹ç›®æ‰“åŒ…åˆ°æœ¬åœ°ä»“åº“ mavené¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸåœ¨mavené¡¹ç›®ä¸­å­˜åœ¨ä¸‰å¥—ç”Ÿå‘½å‘¨æœŸï¼Œæ¯ä¸€å¥—ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯ç›¸äº’ç‹¬ç«‹ï¼Œå³æ‰§è¡Œæ¯ä¸€å¥—ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘½ä»¤æ—¶ä¸ä¼šæ‰§è¡Œå…¶ä»–ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘½ä»¤ã€‚åœ¨ä¸€å¥—ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œæ‰§è¡ŒåŽé¢çš„å‘½ä»¤ï¼Œå‰é¢çš„å‘½ä»¤ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚ ä¾‹ï¼šå½“æ‰§è¡Œinstallæ—¶å‘½ä»¤æ‰§è¡Œé¡ºåºï¼šcompile -&gt; test -&gt; package -&gt; install CleanLifeCycleï¼šæ¸…ç†ç”Ÿå‘½å‘¨æœŸ Cleanå‘½ä»¤ DefaultLifeCycleï¼šé»˜è®¤ç”Ÿå‘½å‘¨æœŸï¼ˆä¸»è¦ï¼‰ compileå‘½ä»¤ testå‘½ä»¤ packageå‘½ä»¤ installå‘½ä»¤ deployå‘½ä»¤ SiteLifeCyï¼šç«™ç‚¹ç”Ÿå‘½å‘¨æœŸ siteå‘½ä»¤ mavenæ•´åˆstruts2æ¡†æž¶ é€šè¿‡å·¥å…·ç”Ÿæˆweb.xml æ·»åŠ struts2ä¾èµ– åˆ›å»ºstruts.xml åˆ›å»ºactionç±» åœ¨web.xmlä¸­é…ç½®struts2æ¡†æž¶æ ¸å¿ƒè¿‡æ»¤å™¨ ç¼–å†™actionä¸­æ–¹æ³• åœ¨struts.xmlä¸­é…ç½® mavenæ¦‚å¿µæ¨¡åž‹ æ¦‚å¿µæ¨¡åž‹å³ä¸¤å¤§æ ¸å¿ƒï¼š ä¾èµ–ç®¡ç†ï¼šé€šè¿‡pom.xmlæ–‡ä»¶å®Œæˆ é¡¹ç›®æž„å»ºï¼šé€šè¿‡ç”Ÿå‘½å‘¨æœŸå®Œæˆ]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>ä¾èµ–ç®¡ç†</tag>
        <tag>Maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring--äºŒã€SpringåŸºäºŽæ³¨è§£çš„IOCåŠIOCçš„æ¡ˆä¾‹]]></title>
    <url>%2F2019%2F10%2F04%2FSpring--%E4%BA%8C%E3%80%81Spring%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84IOC%E5%8F%8AIOC%E7%9A%84%E6%A1%88%E4%BE%8B%2F</url>
    <content type="text"><![CDATA[Springâ€“äºŒã€SpringåŸºäºŽæ³¨è§£çš„IOCåŠIOCæ¡ˆä¾‹è§†é¢‘ï¼šSpring5æ•™ç¨‹IDEAç‰ˆ-4å¤©-2018é»‘é©¬ æ•™å­¦èµ„æº æå–ç ï¼šcwbz åŸºäºŽæ³¨è§£çš„IOCé…ç½®å’Œxmlé…ç½®å®žçŽ°çš„åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯é™ä½Žç¨‹åºé—´çš„è€¦åˆï¼Œåªæ˜¯é…ç½®çš„å½¢å¼ä¸ä¸€æ ·ã€‚ Springä¸­IOCçš„å¸¸ç”¨æ³¨è§£æ³¨è§£åˆ†ç±» ç”¨äºŽåˆ›å»ºå¯¹è±¡çš„ï¼šä½œç”¨å’Œåœ¨xmlé…ç½®æ–‡ä»¶ä¸­å†™ä¸€ä¸ªbeanæ ‡ç­¾å®žçŽ°çš„åŠŸèƒ½ç›¸åŒ ç”¨äºŽæ³¨å…¥æ•°æ®çš„ï¼šä½œç”¨å’Œåœ¨xmlé…ç½®ä¸­çš„beanæ ‡ç­¾ä¸­å†™ä¸€ä¸ªpropertyæ ‡ç­¾åŠŸèƒ½ç›¸åŒ ç”¨äºŽæ”¹å˜ä½œç”¨èŒƒå›´çš„ï¼šä½œç”¨å’Œbeanæ ‡ç­¾ä½¿ç”¨scopeå±žæ€§å®žçŽ°åŠŸèƒ½ç›¸åŒ å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³ï¼šä½œç”¨å’Œåœ¨beanæ ‡ç­¾ä¸­ä½¿ç”¨init-methodå’Œdestory-methodä½œç”¨ç›¸åŒ çŽ¯å¢ƒæ­å»ºå¯¼å…¥jaråŒ…åœ¨åŸºäºŽæ³¨è§£çš„é…ç½®ä¸­ï¼Œæˆ‘ä»¬è¿˜è¦å°†aopçš„jaråŒ…æ‹·è´åˆ°libç›®å½• ä½¿ç”¨@Componentæ³¨è§£é…ç½®ç®¡ç†çš„èµ„æº1234567891011121314//è´¦æˆ·çš„ä¸šåŠ¡å±‚å®žçŽ°ç±» @Component("accountService") public class AccountServiceImpl implements IAccountService &#123; private IAccountDao accountDao; public void setAccountDao(IAccountDao accountDao) &#123; this.accountDao = accountDao; &#125; &#125; //è´¦æˆ·çš„æŒä¹…å±‚å®žçŽ°ç±» @Component("accountDao") public class AccountDaoImpl implements IAccountDao &#123; private DBAssit dbAssit; &#125; æ³¨æ„ï¼šå½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£æ³¨å…¥æ—¶ï¼Œsetæ–¹æ³•ä¸ç”¨å†™ã€‚ åˆ›å»ºSpringçš„xmlé…ç½®æ–‡ä»¶å¹¶å¼€å¯å¯¹æ³¨è§£çš„æ”¯æŒå¯¼å…¥çº¦æŸæ—¶éœ€è¦å¤šå¯¼å…¥ä¸€ä¸ªcontextåç§°ç©ºé—´ä¸‹çš„çº¦æŸï¼Œå¹¶ä¸”å‘ŠçŸ¥Springåœ¨åˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ…ã€‚ å¸¸ç”¨æ³¨è§£ç›¸å½“äºŽï¼š 1&lt;bean id="" class=""&gt; ç”¨äºŽåˆ›å»ºå¯¹è±¡çš„@Component ä½œç”¨ï¼šæŠŠèµ„æºè®©Springæ¥ç®¡ç†ï¼Œç›¸å½“äºŽåœ¨xmlä¸­é…ç½®ä¸€ä¸ªbeanã€‚ å±žæ€§ï¼š valueï¼šæŒ‡å®šbeançš„idã€‚å¦‚æžœä¸æŒ‡å®švalueå±žæ€§ï¼Œé»˜è®¤beançš„idæ˜¯å½“å‰ç±»çš„ç±»åï¼Œé¦–å­—æ¯å°å†™ã€‚ @Controller @Service @Repositoryè¿™ä¸‰ä¸ªæ³¨è§£å’ŒComponentæ³¨è§£çš„è¡ç”Ÿï¼Œä½œç”¨åŠå±žæ€§éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œåªä¸è¿‡æä¾›äº†æ›´åŠ æ˜Žç¡®çš„è¯­ä¹‰åŒ–ï¼š @Controllerï¼šä¸€èˆ¬ç”¨äºŽè¡¨çŽ°å±‚çš„æ³¨è§£ @Serviceï¼šä¸€èˆ¬ç”¨äºŽä¸šåŠ¡å±‚çš„æ³¨è§£ @Repositoryï¼šä¸€èˆ¬ç”¨äºŽæŒä¹…å±‚çš„æ³¨è§£ ç»†èŠ‚ï¼šå¦‚æžœæ³¨è§£ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªå±žæ€§è¦èµ‹å€¼æ—¶ï¼Œä¸”åç§°æ˜¯valueï¼Œvalueåœ¨èµ‹å€¼æ—¶å¯ä»¥ä¸å†™ã€‚ ç”¨äºŽæ³¨å…¥æ•°æ®çš„ç›¸å½“äºŽï¼š 12&lt;property name="" ref=""&gt;&lt;/property&gt;&lt;property name="" value=""&gt;&lt;/property&gt; @Autowiredåœ¨Springçš„IOCå®¹å™¨ä¸­å¯»æ‰¾å˜é‡è‡ªåŠ¨æŒ‰ç±»åž‹åŒ¹é…ã€‚ï¼ˆå®¹å™¨ä¸­çš„å˜é‡å³ç”¨@Componentæˆ–å…¶ä»–ä¸‰ä¸ªæ³¨è§£çš„å¯¹è±¡ï¼‰å½“ä½¿ç”¨æ³¨è§£æ³¨å…¥å±žæ€§æ—¶ï¼Œsetæ–¹æ³•å¯ä»¥å¿½ç•¥ã€‚å®ƒåªèƒ½æ³¨å…¥å…¶ä»–beanç±»åž‹ã€‚ ä½œç”¨ï¼š å½“åªæœ‰ä¸€ä¸ªå˜é‡çš„ç±»åž‹åŒ¹é…æ—¶åˆ™æˆåŠŸã€‚ å½“æœ‰å¤šä¸ªå˜é‡çš„ç±»åž‹åŒ¹é…æ—¶ï¼Œä½¿ç”¨è¦æ³¨è§£çš„å¯¹è±¡å˜é‡åç§°ä½œä¸ºbeançš„idï¼Œåœ¨Springçš„IOCå®¹å™¨ä¸­æŸ¥æ‰¾ï¼Œæ‰¾åˆ°äº†å°±å¯ä»¥æ³¨å…¥æˆåŠŸï¼Œæ‰¾ä¸åˆ°å°±æŠ¥é”™ã€‚ å‡ºçŽ°ä½ç½®ï¼š â€‹ å¯ä»¥æ˜¯å˜é‡ä¸Šï¼Œä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•ä¸Šã€‚ @Qualifierä½œç”¨ï¼šåœ¨è‡ªåŠ¨æŒ‰ç…§ç±»åž‹æ³¨å…¥çš„åŸºç¡€ä¹‹ä¸Šï¼Œå†æŒ‰ç…§Beançš„idæ³¨å…¥ã€‚å®ƒåœ¨ç»™å­—æ®µæ³¨å…¥æ—¶ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå¿…é¡»å’Œ@Autowiredä¸€èµ·ä½¿ç”¨ï¼›ä½†æ˜¯ç»™æ–¹æ³•å‚æ•°æ³¨å…¥æ—¶ï¼Œå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ã€‚ å±žæ€§ï¼švalueï¼šæŒ‡å®šbeançš„idã€‚ @Resourceä½œç”¨ï¼šç›´æŽ¥æŒ‰ç…§Beançš„idæ³¨å…¥ã€‚å®ƒä¹Ÿåªèƒ½æ³¨å…¥å…¶ä»–beanç±»åž‹ã€‚ å±žæ€§ï¼šnameï¼šæŒ‡å®šbeançš„id @Valueä½œç”¨ï¼šæ³¨å…¥åŸºæœ¬æ•°æ®ç±»åž‹å’ŒStringç±»åž‹æ•°æ®çš„ å±žæ€§ï¼š valueï¼šç”¨äºŽæŒ‡å®šå€¼ï¼ˆå¯ä»¥æ”¯æŒSpringçš„SpELè¡¨è¾¾å¼ï¼š${è¡¨è¾¾å¼}ï¼‰ ç”¨äºŽæ”¹å˜ä½œç”¨èŒƒå›´çš„ç›¸å½“äºŽ 1&lt;bean id="" class="" scope=""&gt; @Scopeä½œç”¨ï¼š æŒ‡å®šbeançš„ä½œç”¨èŒƒå›´ã€‚ å±žæ€§ï¼š valueï¼šæŒ‡å®šèŒƒå›´çš„å€¼ã€‚ å–å€¼ï¼šsingleton prototype request session globalsession å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³ï¼ˆäº†è§£ï¼‰ç›¸å½“äºŽ 1&lt;bean id="" class="" init-method="" destroy-method="" /&gt; @PostConstructä½œç”¨ï¼š ç”¨äºŽæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ã€‚ @PreDestroyä½œç”¨ï¼š ç”¨äºŽæŒ‡å®šé”€æ¯æ–¹æ³•ã€‚ å…³äºŽSpringæ³¨è§£å’ŒXMLçš„é€‰æ‹©é—®é¢˜ æ³¨è§£çš„ä¼˜åŠ¿ï¼š é…ç½®ç®€å•ï¼Œç»´æŠ¤æ–¹ä¾¿ï¼ˆæˆ‘ä»¬æ‰¾åˆ°ç±»ï¼Œå°±ç›¸å½“äºŽæ‰¾åˆ°äº†å¯¹åº”çš„é…ç½®ï¼‰ã€‚ XMLçš„ä¼˜åŠ¿ï¼š ä¿®æ”¹æ—¶ï¼Œä¸ç”¨æ”¹æºç ã€‚ä¸æ¶‰åŠé‡æ–°ç¼–è¯‘å’Œéƒ¨ç½²ã€‚ ä¸¤è€…æ¯”è¾ƒï¼š æ¡ˆä¾‹ä½¿ç”¨xmlæ–¹å¼å’Œæ³¨è§£æ–¹å¼å®žçŽ°å•è¡¨çš„CRUDæ“ä½œCRUDå³å¢ž(Create)ã€æŸ¥(Retrieve)ã€æ”¹(Update)ã€åˆ (Delete) æ­¤å¤„å¯çœ‹é“¾æŽ¥è§†é¢‘çš„P35-P38 æ”¹é€ åŸºäºŽæ³¨è§£çš„IOCæ¡ˆä¾‹ï¼Œä½¿ç”¨çº¯æ³¨è§£çš„æ–¹å¼å®žçŽ°ç»è¿‡ä¸Šé¢çš„æ”¹é€ ï¼Œæˆ‘ä»¬è¿˜æœ‰å‡ ç§é…ç½®éœ€è¦ä»Žxmlæ”¹æˆæ³¨è§£é…ç½®ã€‚ @Configurationä½œç”¨ï¼š ç”¨äºŽæŒ‡å®šå½“å‰ç±»æ˜¯ä¸€ä¸ªspringé…ç½®ç±»ï¼Œå½“åˆ›å»ºå®¹å™¨æ—¶ä¼šä»Žè¯¥ç±»ä¸ŠåŠ è½½æ³¨è§£ã€‚èŽ·å–å®¹å™¨æ—¶éœ€è¦ä½¿ç”¨AnnotationApplicationContext(æœ‰@Configurationæ³¨è§£çš„ç±».class)ã€‚ å±žæ€§ï¼š value:ç”¨äºŽæŒ‡å®šé…ç½®ç±»çš„å­—èŠ‚ç  @ComponentScanä½œç”¨ï¼š ç”¨äºŽæŒ‡å®šspringåœ¨åˆå§‹åŒ–å®¹å™¨æ—¶è¦æ‰«æçš„åŒ…ã€‚ä½œç”¨å’Œåœ¨springçš„xmlé…ç½®æ–‡ä»¶ä¸­çš„ï¼š &lt;context:component-scan base-package=â€com.itheimaâ€/&gt;æ˜¯ä¸€æ ·çš„ã€‚ å±žæ€§ï¼š basePackagesï¼šç”¨äºŽæŒ‡å®šè¦æ‰«æçš„åŒ…ã€‚å’Œè¯¥æ³¨è§£ä¸­çš„valueå±žæ€§ä½œç”¨ä¸€æ ·ã€‚ ä¾‹ï¼š 123@Configuration @ComponentScan("com.itheima") public class SpringConfiguration &#123; &#125; @Beanä½œç”¨ï¼š è¯¥æ³¨è§£åªèƒ½å†™åœ¨æ–¹æ³•ä¸Šï¼Œè¡¨æ˜Žä½¿ç”¨æ­¤æ–¹æ³•åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå°†æ–¹æ³•çš„è¿”å›žå€¼æ”¾å…¥springå®¹å™¨ã€‚ å±žæ€§ï¼š nameï¼šç»™å½“å‰@Beanæ³¨è§£æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡æŒ‡å®šä¸€ä¸ªåç§°(å³beançš„idï¼‰ï¼ˆå½“ä¸å†™æ—¶é»˜è®¤ä¸ºå½“å‰æ–¹æ³•çš„åå­—ï¼‰ã€‚ ç»†èŠ‚ï¼šå½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£é…ç½®æ–¹æ³•æ—¶ï¼Œå¦‚æžœæ–¹æ³•æœ‰å‚æ•°ï¼Œspringæ¡†æž¶ä¼šåŽ»å®¹å™¨ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å¯ç”¨çš„beanå¯¹è±¡ï¼ŒæŸ¥æ‰¾æ–¹å¼å’ŒAutowiredæ³¨è§£çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚ ä¾‹ï¼š 1234@Bean(name="dbAssit") public DBAssit createDBAssit(DataSource dataSource) &#123; return new DBAssit(dataSource); &#125; @Importä½œç”¨ï¼š ç”¨äºŽå¯¼å…¥å…¶ä»–é…ç½®ç±»ï¼Œåœ¨å¼•å…¥å…¶ä»–é…ç½®ç±»æ—¶ï¼Œå¯ä»¥ä¸ç”¨å†å†™@Configurationæ³¨è§£ã€‚å½“ç„¶ï¼Œå†™ä¸Šä¹Ÿæ²¡é—®é¢˜ã€‚ æœ‰importçš„ä¸ºçˆ¶é…ç½®ç±»ï¼Œå¯¼å…¥çš„æ˜¯å­é…ç½®ç±»ã€‚ å±žæ€§ï¼š value[]ï¼šç”¨äºŽæŒ‡å®šå…¶ä»–é…ç½®ç±»çš„å­—èŠ‚ç ã€‚ 1234@Configuration @ComponentScan(basePackages = "com.itheima.spring") @Import(&#123; JdbcConfig.class&#125;) public class SpringConfiguration &#123; &#125; @PropertySourceä½œç”¨ï¼šç”¨äºŽåŠ è½½.propertiesæ–‡ä»¶ä¸­çš„é…ç½®ã€‚ä¾‹å¦‚æˆ‘ä»¬é…ç½®æ•°æ®æºæ—¶ï¼Œå¯ä»¥æŠŠè¿žæŽ¥æ•°æ®åº“çš„ä¿¡æ¯å†™åˆ°propertiesé…ç½®æ–‡ä»¶ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨æ­¤æ³¨è§£æŒ‡å®špropertiesé…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚ å±žæ€§ï¼š value[]ï¼šç”¨äºŽæŒ‡å®špropertiesæ–‡ä»¶ä½ç½®ã€‚å¦‚æžœæ˜¯åœ¨ç±»è·¯å¾„ä¸‹ï¼Œéœ€è¦å†™ä¸Šclasspath: 123456789jdbc.propertiesæ–‡ä»¶ï¼š jdbc.driver=com.mysql.jdbc.Driver jdbc.url=jdbc:mysql://localhost:3306/day44_ee247_springjdbc.username=root jdbc.password=1234@Configuration @PropertySource("classpath:jdbc.properties") public class JdbcConfig&#123; &#125; Springå’ŒJunitçš„æ•´åˆJUnitæ˜¯ä¸€ä¸ªJavaç¼–ç¨‹è¯­è¨€çš„å•å…ƒæµ‹è¯•æ¡†æž¶ã€‚ é—®é¢˜åŠè§£å†³æ€è·¯åœ¨æµ‹è¯•ç±»ä¸­ï¼Œæ¯ä¸ªæµ‹è¯•æ–¹æ³•éƒ½æœ‰ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼š 12ApplicationContext ac = new ClassPathXmlApplicationContext("bean.xml");IAccountService as = ac.getBean("accountService",IAccountService.class); è¿™ä¸¤è¡Œä»£ç çš„ä½œç”¨åˆ†åˆ«æ˜¯èŽ·å–å®¹å™¨å’Œåˆ›å»ºä¸šåŠ¡å±‚å¯¹è±¡ï¼Œå¦‚æžœä¸å†™çš„è¯ï¼Œç›´æŽ¥ä¼šæç¤ºç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚æ‰€ä»¥åˆä¸èƒ½è½»æ˜“åˆ æŽ‰ã€‚ä½†æ˜¯æµ‹è¯•äººå‘˜ä¸ä¼šç®¡ä½ ä½¿ç”¨çš„åˆ°åº•æ˜¯ä»€ä¹ˆæ¡†æž¶ï¼Œæ‰€ä»¥å¯èƒ½ä»–æ ¹æœ¬ä¸çŸ¥é“å®¹å™¨æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦çš„æ˜¯ç¨‹åºèƒ½è‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºå®¹å™¨ã€‚ Junitçš„ä¸€ä¸ªæ³¨è§£å¯ä»¥è®©æˆ‘ä»¬æ›¿æ¢ä»–çš„è¿è¡Œå™¨ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªæ³¨è§£å°†è¿è¡Œå™¨æ›¿æ¢ä¸ºspringæ¡†æž¶çš„è¿è¡Œå™¨ï¼Œå®ƒå¯ä»¥è¯»å–é…ç½®æ–‡ä»¶ï¼ˆæˆ–æ³¨è§£ï¼‰æ¥åˆ›å»ºå®¹å™¨ã€‚æˆ‘ä»¬åªéœ€è¦å‘Šè¯‰å®ƒé…ç½®æ–‡ä»¶åœ¨å“ªå°±è¡Œäº†ã€‚ é…ç½®å¯¼å…¥jaråŒ…å¯¼å…¥spring-testçš„jaråŒ…å’Œspring-aopçš„jaråŒ…ã€‚ ä½¿ç”¨@RunWithæ³¨è§£æ›¿æ¢åŽŸæœ‰è¿è¡Œå™¨ä¾‹ï¼š 12@RunWith(SpringJUnit4ClassRunner.class) public class AccountServiceTest &#123; &#125; ä½¿ç”¨@ContextConfigurationæŒ‡å®šspringé…ç½®æ–‡ä»¶çš„ä½ç½®ä¾‹ï¼š 123@RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(locations= &#123;"classpath:bean.xml"&#125;) public class AccountServiceTest &#123; &#125; @ContextConfigurationæ³¨è§£ï¼š locationså±žæ€§ï¼šç”¨äºŽæŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚å¦‚æžœæ˜¯ç±»è·¯å¾„ä¸‹ï¼Œéœ€è¦ç”¨classpath:è¡¨æ˜Ž classeså±žæ€§ï¼šç”¨äºŽæŒ‡å®šæ³¨è§£çš„ç±»ã€‚å½“ä¸ä½¿ç”¨xmlé…ç½®æ—¶ï¼Œéœ€è¦ç”¨æ­¤å±žæ€§æŒ‡å®šæ³¨è§£ç±»çš„ä½ç½®ã€‚ ä½¿ç”¨@Autowiredç»™æµ‹è¯•ç±»ä¸­çš„å˜é‡æ³¨å…¥æ•°æ®ä¾‹ï¼š 12345@RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(locations= &#123;"classpath:bean.xml"&#125;) public class AccountServiceTest &#123; @Autowired private IAccountService as ; &#125; ä¸ºä»€ä¹ˆä¸æŠŠæµ‹è¯•ç±»é…åˆ°xmlä¸­ å½“æˆ‘ä»¬åœ¨xmlä¸­é…ç½®äº†ä¸€ä¸ªbeanï¼ŒspringåŠ è½½é…ç½®æ–‡ä»¶åˆ›å»ºå®¹å™¨æ—¶ï¼Œå°±ä¼šåˆ›å»ºå¯¹è±¡ã€‚ æµ‹è¯•ç±»åªæ˜¯æˆ‘ä»¬åœ¨æµ‹è¯•åŠŸèƒ½æ—¶ä½¿ç”¨ï¼Œè€Œåœ¨é¡¹ç›®ä¸­å®ƒå¹¶ä¸å‚ä¸Žç¨‹åºé€»è¾‘ï¼Œä¹Ÿä¸ä¼šè§£å†³éœ€æ±‚ä¸Šçš„é—®é¢˜ï¼Œæ‰€ä»¥åˆ›å»ºå®Œäº†ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨ã€‚é‚£ä¹ˆå­˜åœ¨å®¹å™¨ä¸­å°±ä¼šé€ æˆèµ„æºçš„æµªè´¹ã€‚ æŽ¥ä¸‹æ¥è¯·çœ‹ä¸‹ä¸€ç¯‡ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>æ¡†æž¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring--ä¸€ã€Springæ¦‚è¿°åŠSpringä¸­åŸºäºŽXMLçš„IOCé…ç½®]]></title>
    <url>%2F2019%2F10%2F02%2FSpring--%E4%B8%80%E3%80%81Spring%E6%A6%82%E8%BF%B0%E5%8F%8ASpring%E4%B8%AD%E5%9F%BA%E4%BA%8EXML%E7%9A%84IOC%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[Springâ€“ä¸€ã€Springæ¦‚è¿°åŠSpringä¸­åŸºäºŽXMLçš„IOCé…ç½®è§†é¢‘ï¼šSpring5æ•™ç¨‹IDEAç‰ˆ-4å¤©-2018é»‘é©¬ æ•™å­¦èµ„æº æå–ç ï¼šcwbz Springçš„æ¦‚è¿°ï¼ˆäº†è§£ï¼‰springæ˜¯ä»€ä¹ˆSpringæ˜¯åˆ†å±‚çš„Java SE/EEåº”ç”¨ full-stackè½»é‡çº§å¼€æºæ¡†æž¶ï¼Œä»¥IoCï¼ˆInverse Of Controlï¼šåè½¬æŽ§åˆ¶ï¼‰å’ŒAOPï¼ˆAspect Oriented Programmingï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ä¸ºå†…æ ¸ï¼Œæä¾›äº†å±•çŽ°å±‚Spring MVCå’ŒæŒä¹…å±‚Spring JDBCä»¥åŠä¸šåŠ¡å±‚äº‹åŠ¡ç®¡ç†ç­‰ä¼—å¤šçš„ä¼ä¸šçº§åº”ç”¨æŠ€æœ¯ï¼Œè¿˜èƒ½æ•´åˆå¼€æºä¸–ç•Œä¼—å¤šè‘—åçš„ç¬¬ä¸‰æ–¹æ¡†æž¶å’Œç±»åº“ï¼Œé€æ¸æˆä¸ºä½¿ç”¨æœ€å¤šçš„Java EEä¼ä¸šåº”ç”¨å¼€æºæ¡†æž¶ã€‚ Springçš„ä¼˜åŠ¿ æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ é€šè¿‡Springæä¾›çš„IoCå®¹å™¨ï¼Œå¯ä»¥å°†å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»äº¤ç”±Springè¿›è¡ŒæŽ§åˆ¶ï¼Œé¿å…ç¡¬ç¼–ç æ‰€é€ æˆçš„è¿‡åº¦ç¨‹åºè€¦åˆã€‚ç”¨æˆ·ä¹Ÿä¸å¿…å†ä¸ºå•ä¾‹æ¨¡å¼ç±»ã€å±žæ€§æ–‡ä»¶è§£æžç­‰è¿™äº›å¾ˆåº•å±‚çš„éœ€æ±‚ç¼–å†™ä»£ç ï¼Œå¯ä»¥æ›´ä¸“æ³¨äºŽä¸Šå±‚çš„åº”ç”¨ã€‚ AOPç¼–ç¨‹çš„æ”¯æŒ é€šè¿‡Springçš„AOPåŠŸèƒ½ï¼Œæ–¹ä¾¿è¿›è¡Œé¢å‘åˆ‡é¢çš„ç¼–ç¨‹ï¼Œè®¸å¤šä¸å®¹æ˜“ç”¨ä¼ ç»ŸOOPå®žçŽ°çš„åŠŸèƒ½å¯ä»¥é€šè¿‡AOPè½»æ¾åº”ä»˜ã€‚ å£°æ˜Žå¼äº‹åŠ¡çš„æ”¯æŒ å¯ä»¥å°†æˆ‘ä»¬ä»Žå•è°ƒçƒ¦é—·çš„äº‹åŠ¡ç®¡ç†ä»£ç ä¸­è§£è„±å‡ºæ¥ï¼Œé€šè¿‡å£°æ˜Žå¼æ–¹å¼çµæ´»çš„è¿›è¡Œäº‹åŠ¡çš„ç®¡ç†ï¼Œæé«˜å¼€å‘æ•ˆçŽ‡å’Œè´¨é‡ã€‚ æ–¹ä¾¿ç¨‹åºçš„æµ‹è¯• å¯ä»¥ç”¨éžå®¹å™¨ä¾èµ–çš„ç¼–ç¨‹æ–¹å¼è¿›è¡Œå‡ ä¹Žæ‰€æœ‰çš„æµ‹è¯•å·¥ä½œï¼Œæµ‹è¯•ä¸å†æ˜¯æ˜‚è´µçš„æ“ä½œï¼Œè€Œæ˜¯éšæ‰‹å¯åšçš„äº‹æƒ…ã€‚ æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æž¶ Springå¯ä»¥é™ä½Žå„ç§æ¡†æž¶çš„ä½¿ç”¨éš¾åº¦ï¼Œæä¾›äº†å¯¹å„ç§ä¼˜ç§€æ¡†æž¶ï¼ˆStrutsã€Hibernateã€Hessianã€Quartzç­‰ï¼‰çš„ç›´æŽ¥æ”¯æŒã€‚ é™ä½ŽJavaEE APIçš„ä½¿ç”¨éš¾åº¦ Springå¯¹JavaEE APIï¼ˆå¦‚JDBCã€JavaMailã€è¿œç¨‹è°ƒç”¨ç­‰ï¼‰è¿›è¡Œäº†è–„è–„çš„å°è£…å±‚ï¼Œä½¿è¿™äº›APIçš„ä½¿ç”¨éš¾åº¦å¤§ä¸ºé™ä½Žã€‚ Javaæºç æ˜¯ç»å…¸å­¦ä¹ èŒƒä¾‹ Springçš„æºä»£ç è®¾è®¡ç²¾å¦™ã€ç»“æž„æ¸…æ™°ã€åŒ å¿ƒç‹¬ç”¨ï¼Œå¤„å¤„ä½“çŽ°ç€å¤§å¸ˆå¯¹Javaè®¾è®¡æ¨¡å¼çµæ´»è¿ç”¨ä»¥åŠå¯¹JavaæŠ€æœ¯çš„é«˜æ·±é€ è¯£ã€‚å®ƒçš„æºä»£ç æ— æ„æ˜¯JavaæŠ€æœ¯çš„æœ€ä½³å®žè·µçš„èŒƒä¾‹ã€‚ Springçš„ä½“ç³»ç»“æž„ Springçš„ä¸¤å¤§æ ¸å¿ƒä¸ºï¼šAOPå’ŒIOC AOPéƒ¨åˆ†ä¸ºï¼šAOPã€Aspectsã€Instrumentationã€Messaging IOCï¼ˆæ ¸å¿ƒå®¹å™¨ï¼‰éƒ¨åˆ†ä¸ºCore Containeréƒ¨åˆ† IOCçš„æ¦‚å¿µå’Œä½œç”¨ç¨‹åºçš„è€¦åˆä¸Žè§£è€¦ç¨‹åºçš„è€¦åˆå³ç¨‹åºé—´çš„ä¾èµ–å…³ç³»ï¼šâ‘ ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚â‘¡æ–¹æ³•é—´çš„ä¾èµ–å…³ç³»ã€‚ è§£è€¦å³é™ä½Žç¨‹åºé—´çš„ä¾èµ–å…³ç³»ï¼Œå®žé™…å¼€å‘ä¸­åº”åšåˆ°ç¼–è¯‘æœŸä¸ä¾èµ–ï¼Œè¿è¡Œæ—¶æ‰ä¾èµ–ï¼š ä½¿ç”¨åå°„ï¼ˆClass.forName()ï¼‰æ¥åˆ›å»ºå¯¹è±¡ï¼Œé¿å…ä½¿ç”¨newæ¥åˆ›å»ºå¯¹è±¡ã€‚ é€šè¿‡è¯»å–é…ç½®æ–‡ä»¶æ¥èŽ·å–è¦åˆ›å»ºçš„å¯¹è±¡çš„å…¨é™å®šç±»åã€‚ é…ç½®æ–‡ä»¶å†…å®¹ï¼šå”¯ä¸€æ ‡è¯†=å…¨é™å®šç±»åï¼ˆkey=valueï¼‰ å·¥åŽ‚æ¨¡å¼è§£è€¦åœ¨å®žé™…å¼€å‘ä¸­æˆ‘ä»¬å¯ä»¥æŠŠä¸‰å±‚ï¼ˆå‚è€ƒJavaEEä¸‰å±‚ç»“æž„ï¼šWeb(è¡¨çŽ°)å±‚ã€ä¸šåŠ¡å±‚ã€DAO(æ•°æ®)å±‚ï¼‰çš„å¯¹è±¡éƒ½ä½¿ç”¨é…ç½®æ–‡ä»¶é…ç½®èµ·æ¥ï¼Œå½“å¯åŠ¨æœåŠ¡å™¨åº”ç”¨åŠ è½½çš„æ—¶å€™ï¼Œè®©ä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•é€šè¿‡è¯»å–é…ç½®æ–‡ä»¶ï¼ŒæŠŠè¿™äº›å¯¹è±¡åˆ›å»ºå‡ºæ¥å¹¶å­˜èµ·æ¥ã€‚åœ¨æŽ¥ä¸‹æ¥çš„ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æŽ¥æ‹¿è¿‡æ¥ç”¨å°±å¥½äº†ã€‚ é‚£ä¹ˆï¼Œè¿™ä¸ªè¯»å–é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºå’ŒèŽ·å–ä¸‰å±‚å¯¹è±¡çš„ç±»å°±æ˜¯å·¥åŽ‚ã€‚ å»ºè®®äº†è§£å•ä¾‹å¤šä¾‹å¯¹è±¡æ¥æé«˜å·¥åŽ‚æ¨¡å¼è§£è€¦æ•ˆçŽ‡ã€‚ æŽ§åˆ¶ç¿»è½¬-Inversion Of Controlï¼ˆIOCï¼‰æŽ§åˆ¶åè½¬ï¼ˆIOCï¼‰å³æŠŠåˆ›å»ºå¯¹è±¡çš„æƒåˆ©äº¤ç»™æ¡†æž¶ï¼Œæ˜¯æ¡†æž¶çš„é‡è¦ç‰¹å¾ï¼Œå®ƒåŒ…æ‹¬ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼Œç®€ç§°DIï¼‰å’Œä¾èµ–æŸ¥æ‰¾ï¼ˆDependency Lookupï¼‰ åŽŸæ¥æˆ‘ä»¬åˆ›å»ºå¯¹è±¡æ˜¯ç”¨newæ¥ä¸»åŠ¨åˆ›å»ºçš„ï¼Œå³æˆ‘ä»¬çš„é¡¹ç›®å¯¹èµ„æºçš„ä½¿ç”¨æ˜¯ç›´æŽ¥å…³è”çš„ï¼Œå¦‚å›¾ï¼š çŽ°åœ¨ï¼Œæˆ‘ä»¬å¼•å…¥æ¡†æž¶çš„å·¥åŽ‚æ¥å¸®æˆ‘ä»¬åˆ›å»ºç”Ÿäº§å¯¹è±¡ï¼Œä»–è´Ÿè´£ç»™æˆ‘ä»¬ä»ŽæŒ‡å®šå®¹å™¨ä¸­èŽ·å–æŒ‡å®šå¯¹è±¡çš„ç±»ï¼Œè¿™æ—¶å€™è¿™ä¸ªå¯¹è±¡èŽ·å–è¿‡æ¥æ˜¯ä¸æ˜¯æˆ‘èƒ½ç”¨çš„ï¼Œæˆ‘ä»¬çš„åº”ç”¨æœ¬èº«å·²ç»æ— æ³•å¾—çŸ¥äº†ï¼Œå·¥åŽ‚èƒ½å¾—åˆ°å“ªä¸ªå¯¹è±¡æ˜¯æ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„å…¨é™å®šç±»åï¼ˆkey=valueï¼‰èŽ·å¾—çš„ï¼Œæˆ‘ä»¬çš„åº”ç”¨æœ¬èº«æ²¡æœ‰è‡ªä¸»æŽ§åˆ¶æƒã€‚è€ŒåŽŸæ¥çš„ç›´æŽ¥newçš„æ–¹æ³•åˆ™åº”ç”¨æœ¬èº«æ˜¯æœ‰è‡ªä¸»æŽ§åˆ¶æƒçš„ã€‚æ‰€ä»¥è¿™ç§å·¥åŽ‚æ¨¡å¼é™ä½Žäº†æˆ‘ä»¬ç¨‹åºé—´çš„ä¾èµ–å…³ç³»ï¼Œå¦‚å›¾ï¼š å³IOCç”¨æ¥å‰Šå‡è®¡ç®—æœºç¨‹åºé—´çš„è€¦åˆã€‚ ä½¿ç”¨Springçš„IOCè§£å†³ç¨‹åºè€¦åˆSpringçš„å¼€å‘åŒ…å®˜ç½‘ï¼šhttp://spring.io/ Springçš„ç›®å½•ç»“æž„ï¼š dcosï¼šAPIå’Œå¼€å‘è§„èŒƒ libsï¼šjaråŒ…å’Œæºç  schemaï¼šçº¦æŸ SpringåŸºäºŽXMLçš„IOCç»†èŠ‚Springä¸­å·¥åŽ‚çš„ç±»ç»“æž„å›¾ BeanFactoryå’ŒApplicationContextçš„åŒºåˆ«BeanFactory æ‰æ˜¯Spring å®¹å™¨ä¸­çš„é¡¶å±‚æŽ¥å£ã€‚ApplicationContext æ˜¯å®ƒçš„å­æŽ¥å£ã€‚ BeanFactory å’ŒApplicationContext çš„åŒºåˆ«ï¼šåˆ›å»ºå¯¹è±¡çš„æ—¶é—´ç‚¹ä¸ä¸€æ ·ã€‚ ApplicationContextï¼šåªè¦ä¸€è¯»å–é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹å°±ä¼šåˆ›å»ºå¯¹è±¡ã€‚å•ä¾‹å¯¹è±¡é€‚ç”¨ã€‚å¸¸ç”¨æ­¤æŽ¥å£ï¼ŒSpringä¼šæ ¹æ®å¯¹è±¡çš„å•ä¾‹å¤šä¾‹æ¥é€‰æ‹©ã€‚ BeanFactoryï¼šä»€ä¹ˆä½¿ç”¨ä»€ä¹ˆæ—¶å€™åˆ›å»ºå¯¹è±¡ã€‚å¤šä¾‹å¯¹è±¡é€‚ç”¨ã€‚ ApplicationContextæŽ¥å£çš„å®žçŽ°ç±» ClassPathXmlApplicationContextï¼šå®ƒæ˜¯ä»Žç±»çš„æ ¹è·¯å¾„ä¸‹åŠ è½½é…ç½®æ–‡ä»¶ æŽ¨èä½¿ç”¨è¿™ç§ FileSystemXmlApplicationContextï¼šå®ƒæ˜¯ä»Žç£ç›˜è·¯å¾„ä¸ŠåŠ è½½é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶å¯ä»¥åœ¨ç£ç›˜çš„ä»»æ„ä½ç½®ã€‚ AnnotationConfigApplicationContext:å½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£é…ç½®å®¹å™¨å¯¹è±¡æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ­¤ç±»æ¥åˆ›å»ºspring å®¹å™¨ã€‚å®ƒç”¨æ¥è¯»å–æ³¨è§£ã€‚ IOCä¸­beanæ ‡ç­¾å’Œç®¡ç†å¯¹è±¡ç»†èŠ‚beanæ ‡ç­¾ä½œç”¨ï¼š ç”¨äºŽé…ç½®å¯¹è±¡è®©springæ¥åˆ›å»ºçš„ã€‚ é»˜è®¤æƒ…å†µä¸‹å®ƒè°ƒç”¨çš„æ˜¯ç±»ä¸­çš„æ— å‚æž„é€ å‡½æ•°ã€‚å¦‚æžœæ²¡æœ‰æ— å‚æž„é€ å‡½æ•°åˆ™ä¸èƒ½åˆ›å»ºæˆåŠŸã€‚ å±žæ€§ï¼š idï¼šç»™å¯¹è±¡åœ¨å®¹å™¨ä¸­æä¾›ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ã€‚ç”¨äºŽèŽ·å–å¯¹è±¡ã€‚ classï¼šæŒ‡å®šç±»çš„å…¨é™å®šç±»åã€‚ç”¨äºŽåå°„åˆ›å»ºå¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹è°ƒç”¨æ— å‚æž„é€ å‡½æ•°ã€‚ scopeï¼šæŒ‡å®šå¯¹è±¡çš„ä½œç”¨èŒƒå›´ã€‚ singleton :é»˜è®¤å€¼ï¼Œå•ä¾‹çš„. prototype :å¤šä¾‹çš„. request :WEBé¡¹ç›®ä¸­,Springåˆ›å»ºä¸€ä¸ªBeançš„å¯¹è±¡,å°†å¯¹è±¡å­˜å…¥åˆ°requeståŸŸä¸­. session :WEBé¡¹ç›®ä¸­,Springåˆ›å»ºä¸€ä¸ªBeançš„å¯¹è±¡,å°†å¯¹è±¡å­˜å…¥åˆ°sessionåŸŸä¸­. global session :WEBé¡¹ç›®ä¸­,åº”ç”¨åœ¨PortletçŽ¯å¢ƒ.å¦‚æžœæ²¡æœ‰PortletçŽ¯å¢ƒé‚£ä¹ˆglobalSessionç›¸å½“äºŽsession. init-methodï¼šæŒ‡å®šç±»ä¸­çš„åˆå§‹åŒ–æ–¹æ³•åç§°ã€‚ destroy-methodï¼šæŒ‡å®šç±»ä¸­é”€æ¯æ–¹æ³•åç§°ã€‚ beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸå•ä¾‹å¯¹è±¡ï¼šscope=â€singletonâ€ ä¸€ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå¯¹è±¡çš„å®žä¾‹ã€‚å®ƒçš„ä½œç”¨èŒƒå›´å°±æ˜¯æ•´ä¸ªå¼•ç”¨ã€‚ ç”Ÿå‘½å‘¨æœŸï¼š å¯¹è±¡å‡ºç”Ÿï¼šå½“åº”ç”¨åŠ è½½ï¼Œåˆ›å»ºå®¹å™¨æ—¶ï¼Œå¯¹è±¡å°±è¢«åˆ›å»ºäº†ã€‚ å¯¹è±¡æ´»ç€ï¼šåªè¦å®¹å™¨åœ¨ï¼Œå¯¹è±¡ä¸€ç›´æ´»ç€ã€‚ å¯¹è±¡æ­»äº¡ï¼šå½“åº”ç”¨å¸è½½ï¼Œé”€æ¯å®¹å™¨æ—¶ï¼Œå¯¹è±¡å°±è¢«é”€æ¯äº†ã€‚ å¤šä¾‹å¯¹è±¡ï¼šscope=â€prototypeâ€ æ¯æ¬¡è®¿é—®å¯¹è±¡æ—¶ï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºå¯¹è±¡å®žä¾‹ã€‚ ç”Ÿå‘½å‘¨æœŸï¼š å¯¹è±¡å‡ºç”Ÿï¼šå½“ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œåˆ›å»ºæ–°çš„å¯¹è±¡å®žä¾‹ã€‚ å¯¹è±¡æ´»ç€ï¼šåªè¦å¯¹è±¡åœ¨ä½¿ç”¨ä¸­ï¼Œå°±ä¸€ç›´æ´»ç€ã€‚ å¯¹è±¡æ­»äº¡ï¼šå½“å¯¹è±¡é•¿æ—¶é—´ä¸ç”¨æ—¶ï¼Œè¢«javaçš„åžƒåœ¾å›žæ”¶å™¨å›žæ”¶äº†ã€‚ å®žä¾‹åŒ–beançš„ä¸‰ç§æ–¹å¼ç¬¬ä¸€ç§æ–¹å¼ï¼šä½¿ç”¨é»˜è®¤æ— å‚æž„é€ å‡½æ•° 123&lt;!--åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼š å®ƒä¼šæ ¹æ®é»˜è®¤æ— å‚æž„é€ å‡½æ•°æ¥åˆ›å»ºç±»å¯¹è±¡ã€‚å¦‚æžœbeanä¸­æ²¡æœ‰é»˜è®¤æ— å‚æž„é€ å‡½æ•°ï¼Œå°†ä¼šåˆ›å»ºå¤±è´¥ã€‚--&gt; &lt;bean id="accountService" class="com.itheima.service.impl.AccountServiceImpl"/&gt; ç¬¬äºŒç§æ–¹å¼ï¼šspringç®¡ç†é™æ€å·¥åŽ‚-ä½¿ç”¨é™æ€å·¥åŽ‚çš„æ–¹æ³•åˆ›å»ºå¯¹è±¡ 123456/*æ¨¡æ‹Ÿä¸€ä¸ªé™æ€å·¥åŽ‚ï¼Œåˆ›å»ºä¸šåŠ¡å±‚å®žçŽ°ç±»*/ public class StaticFactory &#123; public static IAccountService createAccountService()&#123; return new AccountServiceImpl(); &#125;&#125; 123456789&lt;!-- æ­¤ç§æ–¹å¼æ˜¯: ä½¿ç”¨StaticFactoryç±»ä¸­çš„é™æ€æ–¹æ³•createAccountServiceåˆ›å»ºå¯¹è±¡ï¼Œå¹¶å­˜å…¥springå®¹å™¨ idå±žæ€§ï¼šæŒ‡å®šbeançš„idï¼Œç”¨äºŽä»Žå®¹å™¨ä¸­èŽ·å– classå±žæ€§ï¼šæŒ‡å®šé™æ€å·¥åŽ‚çš„å…¨é™å®šç±»å factory-methodå±žæ€§ï¼šæŒ‡å®šç”Ÿäº§å¯¹è±¡çš„é™æ€æ–¹æ³•--&gt; &lt;bean id="accountService" class="com.itheima.factory.StaticFactory" factory-method="createAccountService"&gt;&lt;/bean&gt; ç¬¬ä¸‰ç§æ–¹å¼ï¼šspringç®¡ç†å®žä¾‹å·¥åŽ‚-ä½¿ç”¨å®žä¾‹å·¥åŽ‚çš„æ–¹æ³•åˆ›å»ºå¯¹è±¡ 123456789/** * æ¨¡æ‹Ÿä¸€ä¸ªå®žä¾‹å·¥åŽ‚ï¼Œåˆ›å»ºä¸šåŠ¡å±‚å®žçŽ°ç±»* æ­¤å·¥åŽ‚åˆ›å»ºå¯¹è±¡ï¼Œå¿…é¡»çŽ°æœ‰å·¥åŽ‚å®žä¾‹å¯¹è±¡ï¼Œå†è°ƒç”¨æ–¹æ³• **/public class InstanceFactory &#123; public IAccountService createAccountService()&#123; return new AccountServiceImpl(); &#125; &#125; 12345678910&lt;!-- æ­¤ç§æ–¹å¼æ˜¯ï¼š å…ˆæŠŠå·¥åŽ‚çš„åˆ›å»ºäº¤ç»™springæ¥ç®¡ç†ã€‚ ç„¶åŽåœ¨ä½¿ç”¨å·¥åŽ‚çš„beanæ¥è°ƒç”¨é‡Œé¢çš„æ–¹æ³• factory-beanå±žæ€§ï¼šç”¨äºŽæŒ‡å®šå®žä¾‹å·¥åŽ‚beançš„idã€‚ factory-methodå±žæ€§ï¼šç”¨äºŽæŒ‡å®šå®žä¾‹å·¥åŽ‚ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ã€‚--&gt; &lt;bean id="instancFactory" class="com.itheima.factory.InstanceFactory"&gt;&lt;/bean&gt;&lt;bean id="accountService" factory-bean="instancFactory" factory-method="createAccountService"&gt;&lt;/bean&gt; Springçš„ä¾èµ–æ³¨å…¥ä¾èµ–æ³¨å…¥çš„æ¦‚å¿µä¾èµ–æ³¨å…¥æ˜¯Springæ¡†æž¶æ ¸å¿ƒIOCçš„å…·ä½“å®žçŽ° ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥å‘¢ï¼Ÿå³åœ¨å½“å‰ç±»éœ€è¦å…¶ä»–ç±»çš„å¯¹è±¡æ—¶ï¼Œç”±Springä¸ºæˆ‘ä»¬æä¾›ï¼Œè€Œä¸æ˜¯è‡ªå·±åˆ›å»ºï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­è¯´æ˜Žä¾èµ–å…³ç³»çš„ç»´æŠ¤ã€‚ ä¾èµ–æ³¨å…¥ï¼š èƒ½æ³¨å…¥çš„æ•°æ®æœ‰ä¸‰ç±»ï¼š åŸºæœ¬ç±»åž‹å’ŒString å…¶ä»–beanç±»åž‹ï¼ˆåœ¨é…ç½®æ–‡ä»¶æˆ–æ³¨è§£é…ç½®è¿‡çš„beanï¼‰ å¤æ‚ç±»åž‹/é›†åˆç±»åž‹ æ³¨å…¥çš„æ–¹å¼ï¼š ä½¿ç”¨æž„é€ å‡½æ•°æä¾› ä½¿ç”¨setæ–¹æ³•æä¾› ä½¿ç”¨æ³¨è§£æä¾›ï¼ˆä¸‹ä¸€ç¯‡ï¼‰ æž„é€ å‡½æ•°çš„ä¾èµ–æ³¨å…¥å°±æ˜¯é€šè¿‡ç±»çš„æž„é€ å‡½æ•°ï¼Œç»™æˆå‘˜å˜é‡èµ‹å€¼ã€‚èµ‹å€¼æ“ä½œæ˜¯é€šè¿‡é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œè®©Springæ¡†æž¶æ¥å¸®æˆ‘ä»¬æ³¨å…¥ã€‚ä¸€èˆ¬è¿™ç§æ–¹å¼ç”¨äºŽä¸ç»å¸¸æ›´å˜çš„æˆå‘˜å˜é‡ã€‚ 1234567891011121314151617//è¿™æ˜¯æˆ‘ä»¬éœ€è¦è°ƒç”¨çš„ç±»public class AccountServiceImpl implements IAccountService &#123; private String name; private Integer age; private Date birthday; public AccountServiceImpl(String name, Integer age, Date birthday) &#123; this.name = name; this.age = age; this.birthday = birthday; &#125; public void saveAccount() &#123; System.out.println(name+","+age+","+birthday); &#125; &#125; 12345678910111213141516171819&lt;!-- ä½¿ç”¨æž„é€ å‡½æ•°çš„æ–¹å¼ï¼Œç»™serviceä¸­çš„å±žæ€§ä¼ å€¼ è¦æ±‚ï¼š ç±»ä¸­éœ€è¦æä¾›ä¸€ä¸ªå¯¹åº”å‚æ•°åˆ—è¡¨çš„æž„é€ å‡½æ•°ã€‚ æ¶‰åŠçš„æ ‡ç­¾ï¼š constructor-arg ï¼ˆbeanæ ‡ç­¾å†…éƒ¨ï¼‰ å±žæ€§ï¼š index:æŒ‡å®šå‚æ•°åœ¨æž„é€ å‡½æ•°å‚æ•°åˆ—è¡¨çš„ç´¢å¼•ä½ç½® type:æŒ‡å®šå‚æ•°åœ¨æž„é€ å‡½æ•°ä¸­çš„æ•°æ®ç±»åž‹ name:æŒ‡å®šå‚æ•°åœ¨æž„é€ å‡½æ•°ä¸­çš„åç§° ç”¨è¿™ä¸ªæ‰¾ç»™è°èµ‹å€¼=======ä¸Šé¢ä¸‰ä¸ªéƒ½æ˜¯æ‰¾ç»™è°èµ‹å€¼ï¼Œä¸‹é¢ä¸¤ä¸ªæŒ‡çš„æ˜¯èµ‹ä»€ä¹ˆå€¼çš„============== value:å®ƒèƒ½èµ‹çš„å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»åž‹å’ŒStringç±»åž‹ ref:å®ƒèƒ½èµ‹çš„å€¼æ˜¯å…¶ä»–beanç±»åž‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»å¾—æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è¿‡çš„bean --&gt; &lt;bean id="accountService" class="com.itheima.service.impl.AccountServiceImpl"&gt; &lt;constructor-arg name="name" value="å¼ ä¸‰"&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name="age" value="18"&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name="birthday" ref="now"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="now" class="java.util.Date"&gt;&lt;/bean&gt; Springæ³¨å…¥çš„ç±»åž‹é»˜è®¤ä¸ºå­—ç¬¦ä¸²ï¼Œè¦æ³¨å…¥å…¶ä»–beanç±»åž‹æ—¶ï¼Œä»–ä¸èƒ½å¼ºåˆ¶è½¬æ¢æˆè¯¥ç±»åž‹ï¼Œéœ€è¦å¦å¤–åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªbeanç±»åž‹ï¼Œè®©è¯¥ç±»åž‹çš„æž„é€ å‡½æ•°å¸®æˆ‘ä»¬åˆ›å»ºå¥½ï¼Œå†å°†è¯¥ç±»åž‹é€šè¿‡é…ç½®æ–‡ä»¶ä¼ å…¥è¦æ³¨å…¥çš„å¯¹è±¡ã€‚ ä¼˜åŠ¿ï¼šåœ¨èŽ·å–beanå¯¹è±¡æ—¶ï¼Œæ³¨å…¥æ•°æ®æ˜¯å¿…é¡»çš„æ“ä½œï¼Œå¦åˆ™å¯¹è±¡æ— æ³•åˆ›å»ºæˆåŠŸã€‚ å¼Šç«¯ï¼šæ”¹å˜äº†beanå¯¹è±¡çš„å®žä¾‹åŒ–æ–¹å¼ï¼Œä½¿æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¦‚æžœç”¨ä¸åˆ°è¿™äº›æ•°æ®ï¼Œä¹Ÿå¿…é¡»æä¾›ã€‚ setæ–¹æ³•æ³¨å…¥å°±æ˜¯åˆ©ç”¨ç±»ä¸­æä¾›setæ–¹æ³•ç±»è®¾ç½®æˆå‘˜å˜é‡çš„å€¼ 123456789101112131415161718public class AccountServiceImpl implements IAccountService &#123; private String name; private Integer age; private Date birthday; public void setName(String name) &#123; this.name = name; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public void setBirthday(Date birthday) &#123; this.birthday = birthday; &#125; public void saveAccount() &#123; System.out.println(name+","+age+","+birthday); &#125; &#125; 123456789101112131415&lt;!-- é€šè¿‡é…ç½®æ–‡ä»¶ç»™beanä¸­çš„å±žæ€§ä¼ å€¼ï¼šä½¿ç”¨setæ–¹æ³•çš„æ–¹å¼ æ¶‰åŠçš„æ ‡ç­¾ï¼š propertyï¼ˆbeanæ ‡ç­¾é‡Œé¢ï¼‰ å±žæ€§ï¼š nameï¼šæ‰¾çš„æ˜¯ç±»ä¸­setæ–¹æ³•åŽé¢çš„éƒ¨åˆ† refï¼šç»™å±žæ€§èµ‹å€¼æ˜¯å…¶ä»–beanç±»åž‹çš„ valueï¼šç»™å±žæ€§èµ‹å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»åž‹å’Œstringç±»åž‹çš„ å®žé™…å¼€å‘ä¸­ï¼Œæ­¤ç§æ–¹å¼ç”¨çš„è¾ƒå¤šã€‚ --&gt;&lt;bean id="accountService" class="com.itheima.service.impl.AccountServiceImpl"&gt; &lt;property name="name" value="test"&gt;&lt;/property&gt; &lt;property name="age" value="21"&gt;&lt;/property&gt; &lt;property name="birthday" ref="now"&gt;&lt;/property&gt; &lt;/bean&gt; &lt;bean id="now" class="java.util.Date"&gt;&lt;/bean&gt; ä¼˜åŠ¿ï¼šåˆ›å»ºå¯¹è±¡æ—¶æ²¡æœ‰æ˜Žç¡®çš„é™åˆ¶ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨é»˜è®¤æž„é€ å‡½æ•° å¼Šç«¯ï¼šå¦‚æœ‰æŸä¸ªæˆå‘˜å¿…é¡»æœ‰å€¼ï¼Œåˆ™èŽ·å–å¯¹è±¡å¯èƒ½setæ–¹æ³•æ²¡æœ‰æ‰§è¡Œ å¤æ‚ç±»åž‹æ³¨å…¥æœ¬è´¨ä¸Šè¿˜æ˜¯ä½¿ç”¨setæ–¹æ³• 123456789101112131415161718192021222324252627282930public class AccountServiceImpl implements IAccountService &#123; private String[] myStrs; private List&lt;String&gt; myList; private Set&lt;String&gt; mySet; private Map&lt;String,String&gt; myMap; private Properties myProps; public void setMyStrs(String[] myStrs) &#123; this.myStrs = myStrs; &#125; public void setMyList(List&lt;String&gt; myList) &#123; this.myList = myList; &#125; public void setMySet(Set&lt;String&gt; mySet) &#123; this.mySet = mySet; &#125; public void setMyMap(Map&lt;String, String&gt; myMap) &#123; this.myMap = myMap; &#125; public void setMyProps(Properties myProps) &#123; this.myProps = myProps; &#125; public void saveAccount() &#123; System.out.println(Arrays.toString(myStrs)); System.out.println(myList); System.out.println(mySet); System.out.println(myMap); System.out.println(myProps); &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;!-- æ³¨å…¥é›†åˆæ•°æ® Listç»“æž„çš„ï¼š array,list,set Mapç»“æž„çš„ map,entry,props,prop --&gt; &lt;bean id="accountService" class="com.itheima.service.impl.AccountServiceImpl"&gt; &lt;!-- åœ¨æ³¨å…¥é›†åˆæ•°æ®æ—¶ï¼Œåªè¦ç»“æž„ç›¸åŒï¼Œæ ‡ç­¾å¯ä»¥äº’æ¢ --&gt; &lt;!-- ç»™æ•°ç»„æ³¨å…¥æ•°æ® --&gt; &lt;property name="myStrs"&gt; &lt;set&gt; &lt;value&gt;AAA&lt;/value&gt; &lt;value&gt;BBB&lt;/value&gt; &lt;value&gt;CCC&lt;/value&gt; &lt;/set&gt; &lt;/property&gt; &lt;!-- æ³¨å…¥listé›†åˆæ•°æ® --&gt; &lt;property name="myList"&gt; &lt;array&gt; &lt;value&gt;AAA&lt;/value&gt; &lt;value&gt;BBB&lt;/value&gt; &lt;value&gt;CCC&lt;/value&gt; &lt;/array&gt; &lt;/property&gt; &lt;!-- æ³¨å…¥seté›†åˆæ•°æ® --&gt; &lt;property name="mySet"&gt; &lt;list&gt; &lt;value&gt;AAA&lt;/value&gt; &lt;value&gt;BBB&lt;/value&gt; &lt;value&gt;CCC&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;!-- æ³¨å…¥Mapæ•°æ® --&gt; &lt;property name="myMap"&gt; &lt;props&gt; &lt;prop key="testA"&gt;aaa&lt;/prop&gt; &lt;prop key="testB"&gt;bbb&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;!-- æ³¨å…¥propertiesæ•°æ® --&gt; &lt;property name="myProps"&gt; &lt;map&gt; &lt;entry key="testA" value="aaa"&gt;&lt;/entry&gt; &lt;entry key="testB"&gt; &lt;value&gt;bbb&lt;/value&gt; &lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; &lt;/bean&gt; ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥æ•°æ®é€šè¿‡å†xmlä¸­å¯¼å…¥påç§°ç©ºé—´ï¼Œä½¿ç”¨pï¼špropertyNameæ¥æ³¨å…¥æ•°æ®ï¼Œæœ¬è´¨è¿˜æ˜¯è°ƒç”¨setæ–¹æ³•ï¼ˆè§†é¢‘é‡Œæ²¡è®²ï¼Œå¯èƒ½æ˜¯å°‘äº†ä¸€é›†ï¼‰ 123456789101112131415161718public class AccountServiceImpl4 implements IAccountService &#123; private String name; private Integer age; private Date birthday; public void setName(String name) &#123; this.name = name; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public void setBirthday(Date birthday) &#123; this.birthday = birthday; &#125; public void saveAccount() &#123; System.out.println(name+","+age+","+birthday); &#125; &#125; 123456789&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:p="http://www.springframework.org/schema/p" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;bean id="accountService" class="com.itheima.service.impl.AccountServiceImpl4" p:name="test" p:age="21" p:birthday-ref="now"/&gt; &lt;/beans&gt; æŽ¥ä¸‹æ¥è¯·çœ‹ä¸‹ä¸€ç¯‡ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>æ¡†æž¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring boot]]></title>
    <url>%2F2019%2F10%2F02%2FSpring-boot%2F</url>
    <content type="text"><![CDATA[ä¸€ã€Spring Boot0ã€å‰å¯¼å†…å®¹ï¼ˆçœ‹äº†å°šç¡…è°·çš„è§†é¢‘çœ‹äº†å‡ é›†æ‰å‘çŽ°éœ€è¦å­¦å‰å¯¼å†…å®¹ï¼Œå…ˆæ»šåŽ»çœ‹Springå’ŒMavenäº†ï¼Œç¬”è®°å›žæ¥å†æ›´æ–°ï¼‰ éœ€è¦å…ˆæŽŒæ¡ï¼š Springæ¡†æž¶çš„ä½¿ç”¨ç»éªŒ ç†Ÿç»ƒä½¿ç”¨Mavenè¿›è¡Œé¡¹ç›®æž„å»ºå’Œä¾èµ–ç®¡ç† ç†Ÿç»ƒä½¿ç”¨Eclipseæˆ–è€…IDEA 1ã€Spring Boot ç®€ä»‹ ç®€åŒ–Springåº”ç”¨å¼€å‘çš„ä¸€ä¸ªæ¡†æž¶ æ•´ä¸ªSpringæŠ€æœ¯æ ˆçš„ä¸€ä¸ªå¤§æ•´åˆ JavaEEå¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ 2ã€å¾®æœåŠ¡å¾®æœåŠ¡ï¼šæž¶æž„é£Žæ ¼ ä¸€ä¸ªåº”ç”¨åº”è¯¥æ˜¯ä¸€ç»„å°åž‹æœåŠ¡ï¼›å¯ä»¥é€šè¿‡HTTPçš„æ–¹å¼è¿›è¡Œæ²Ÿé€š æ¯ä¸€ä¸ªåŠŸèƒ½å…ƒç´ æœ€ç»ˆéƒ½æ˜¯ä¸€ä¸ªå¯ç‹¬ç«‹æ›¿æ¢å’Œç‹¬ç«‹å‡çº§çš„è½¯ä»¶å•å…ƒ å¾®æœåŠ¡æ–‡æ¡£ï¼šè‹±æ–‡åŽŸç‰ˆ ç®€ä½“ä¸­æ–‡]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>æ¡†æž¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®°--20190923]]></title>
    <url>%2F2019%2F09%2F23%2F%E8%AE%B0-20190923%2F</url>
    <content type="text"><![CDATA[è®°â€“20190923ä»Šå¤©çš„å¿ƒæƒ…å¯èƒ½å°±åƒè¿‡å±±è½¦ä¸€æ ·ï¼Œè½èµ·è½è½è½è½è½ã€‚ã€‚ã€‚åˆ°æ™šä¸Šçš„æ—¶å€™å·²ç»éº»æœ¨ï¼Œä»€ä¹ˆéƒ½æ— æ‰€è°“äº†ã€‚ã€‚ã€‚ è“æ¡¥æ¯æŠ¥é”€å…³äºŽè“æ¡¥æ¯æŠ¥é”€çš„äº‹è·‘äº†æŒºé•¿æ—¶é—´äº†ï¼Œå¯èƒ½æ˜¯è‡ªå·±åŠžäº‹èƒ½åŠ›å¤ªå·®äº†ï¼Œæ¯æ¬¡éƒ½åƒæ— å¤´è‹è‡ä¸€æ ·åˆ°å¤„ä¹±æ’žã€‚é—®äº†è®¡ç®—æœºé™¢çš„è€å¸ˆï¼Œè¿˜é—®äº†16çº§çš„è¾…å¯¼å‘˜ï¼Œè·‘äº†æ–°åŒºè€åŒºï¼Œä»Šå¤©ç»ˆäºŽç»™ä»–å¼„å®Œäº†ï¼Œä¸è¿‡æœ€åŽåšçš„ä¸å¤ªå¥½ï¼Œå¿˜è®°å°†æŠ¥é”€æ˜Žç»†ç»™è®°ä¸‹æ¥ç®—ä¸€ç®—ï¼ŒæŒºå¤±è¯¯çš„ã€‚å…¶å®žæœ€åŽæŒºæ„Ÿè°¢16çº§çš„è¾…å¯¼å‘˜çš„ï¼Œè¿˜æ˜¯å¥¹å¸®æˆ‘æ‰¾çš„è€å¸ˆåŽ»ç®—æŠ¥é”€ï¼Œè¦ä¸ç„¶åˆå¾—é—®ä¸€å¤§å †äººã€‚ã€‚ã€‚æœ€åŽåŠžå®Œä¸“é—¨ç»™è€å¸ˆå‘äº†ä¸ªçŸ­ä¿¡è°¢è°¢è€å¸ˆã€‚ ACMçœèµ›å•é¡¹å¥–å­¦é‡‘å®¡æ ¸å‰ä¸€æ®µæ—¶é—´å¯¼å‘˜ç»™æˆ‘è¯´æˆ‘çš„ACMçœèµ›å•é¡¹å¥–å­¦é‡‘æ²¡æœ‰è¿‡å®¡ï¼Œæˆ‘çªç„¶ä¸€æ„£ï¼Œä¸€è„¸æ‡µé€¼ã€‚å½“æ—¶è€å¸ˆè¯´çº§åˆ«ä¸å¤Ÿï¼Œç„¶åŽæˆ‘è§‰å¾—ä¸å¯èƒ½å•Šï¼Œå°±é—®è€å¸ˆèƒ½ä¸èƒ½ç”³è¯‰ï¼Œå¯èƒ½æ˜¯è‡ªå·±è¯­æ°”ä¸å¤ªå¥½ï¼Œè€å¸ˆç›´æŽ¥è¯´ä¸èƒ½ã€‚ï¼ˆè‡ªå·±æœ‰æ—¶å€™è„¾æ°”å¤ªæ€¥äº†ï¼‰åŽæ¥é—®äº†å­¦é•¿å•¥çš„ï¼Œåˆå’Œè€å¸ˆè”ç³»äº†ä¸€ä¸‹ï¼Œè€å¸ˆä¹Ÿå¸®å¿™é—®äº†é—®ã€‚æœ€åŽè®©æˆ‘åŽ»è¡Œæ”¿æ¥¼é—®ï¼Œè¿˜ä¸“é—¨å®å˜±æˆ‘æ˜¯åŽ»å’¨è¯¢ï¼Œä¸æ˜¯åŽ»è´¨é—®ã€‚ ä»Šå¤©åŽ»äº†è¡Œæ”¿æ¥¼ï¼Œé‚£ä¸ªè€å¸ˆè¯´è¿™ä¸ªå¥–ä»Žä»Šå¹´å¼€å§‹éƒ½ä¸ç®—äº†ã€‚WTMâ€¦â€¦å½“æ—¶å°±æƒ³æ€¼ä¸€å¥ï¼Œè¿™ä¸ªå¥–ä¸ç®—å“ªä¸ªçœèµ›çš„å¥–è¿˜æœ‰èµ„æ ¼ç®—ï¼Ÿï¼Ÿï¼Ÿæœ€åŽè¯´äº†ä¸¤å¥ï¼Œå¿ƒé‡Œç«å¤§çš„å¾ˆï¼Œå¯èƒ½è¯­æ°”ä¹Ÿä¸å¤ªå¥½ï¼Œå°±èµ°äº†ã€‚ã€‚ã€‚ ä¸‰å¥½å­¦ç”Ÿæœ¬æ¥æƒ³ç€ä»Šå¹´æœ‰å¸Œæœ›èƒ½ç”³è¯·ä¸‰å¥½å­¦ç”Ÿçš„ï¼ŒåŽæ¥å…¬å¸ƒåå•çš„æ—¶å€™æ²¡æœ‰æˆ‘ï¼Œå¿ƒé‡ŒæŒºå¤±è½çš„ï¼Œå°±å’Œå‰é¢é‚£ä¸ªäººç»¼åˆæµ‹è¯„å·®äº†0.3åˆ†ï¼Œæ­£æ­£å¥½åˆ°æˆ‘å‰é¢ä¸€ä¸ªäººï¼Œå®žåŠ›ä¸è¡Œï¼Œæ— è¯å¯è¯´ã€‚ä»Šå¤©ç­é•¿å’Œæˆ‘è¯´æˆ‘ä»¬ä¸“ä¸šå¤šå‡ºæ¥ä¸€ä¸ªä¸‰å¥½å­¦ç”Ÿåé¢ï¼Œæœ€åŽå¯¼å‘˜è¯´æˆ‘æ–‡åŒ–è¯¾æˆç»©ä¸å¤Ÿå¹´çº§å‰ç™¾åˆ†ä¹‹ä¸‰åï¼Œæ²¡æœ‰ç»™æˆ‘ï¼Œè¡Œå§ï¼ŒèŽ«å¾—åŠžæ³•ï¼Œèœå°±æ˜¯èœã€‚ã€‚ã€‚ å…³äºŽè€ƒç ”ä»Šå¤©å¬äº†æŸè€ƒç ”æœºæž„çš„è®²è¯¾ï¼Œçªç„¶æ„Ÿè§‰è¦å¼€å§‹å­¦è‹±è¯­å’Œæ•°å­¦äº†ï¼Œè™½ç„¶ä»–è®²çš„æœ‰äº›å¤¸å¼ ï¼Œæƒ³è®©æˆ‘ä»¬æŠ¥è¾…å¯¼ç­ï¼Œä½†æ˜¯è‹±è¯­å’Œæ•°å­¦ç¡®å®žå¾—æ‹‰é•¿æˆ˜çº¿ï¼Œæ„Ÿè§‰å¥½ç´§å¼ å•Šï¼Œè¿˜æƒ³å•ƒä¸€å•ƒè¥¿ç“œä¹¦å’Œä¸¤æœ¬é»‘ç –å¤´çš„æ“ä½œç³»ç»Ÿå’Œè®¡ç½‘çš„ä¹¦äº†ï¼Œå…‰è¿™ä¸‰æœ¬ç –å¤´å°±å¤Ÿæˆ‘çœ‹çš„äº†ï¼Œæ„Ÿè§‰æ—¶é—´ä¸å¤Ÿå•Šï¼Œè¿˜è¦å‡†å¤‡æŽ¥ä¸‹æ¥çš„åŒºåŸŸèµ›ï¼Œå§æ§½ï¼ŒåŽ‹åŠ›å¥½å¤§å•Šã€‚ã€‚ã€‚ æ€»ç»“è‡ªå·±åœ¨åŠžäº‹èƒ½åŠ›å’Œä¸Žäººäº¤æµèƒ½åŠ›ä¸Šå·®å¤ªå¤šäº†ï¼Œä»¥åŽå¯¹è€å¸ˆå’Œæ‰¾åˆ«äººåŠžäº‹ä¸€å®šè¦å¿ä½è„¾æ°”ï¼Œå¯¹åˆ«äººä¸€å®šè¦è°¦é€Šæœ‰ç¤¼è²Œï¼ŒåŠžå®Œäº‹åˆ«å¿˜è¯´è°¢è°¢ï¼Œéº»çƒ¦æ‚¨äº†ï¼Œå’Œåˆ«äººæ‰“å£°æ‹›å‘¼ã€‚å¯¹æœªæ¥è¿™å­¦æœŸçš„è§„åˆ’ä¹Ÿè¯¥åšä¸€åšäº†ï¼Œè€ƒç ”è‹±è¯­æ•°å­¦ï¼Œçœ‹ä¹¦ï¼ŒACMåŒºåŸŸèµ›ã€‚å¸Œæœ›èƒ½åœ¨åŒºåŸŸèµ›æ‹¿ä¸ªç‰Œå­ï¼Œè¦æ˜¯ä»€ä¹ˆéƒ½æ²¡æ‹¿åˆ°ï¼Œå¤§å­¦å››å¹´çœŸçš„æ˜¯åºŸäº†ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>æ—¥å¿—</category>
      </categories>
      <tags>
        <tag>å¿ƒæƒ…</tag>
        <tag>æ„Ÿæ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Codeforces Round #587 (Div. 3) æ¯”èµ›&è¡¥é¢˜]]></title>
    <url>%2F2019%2F09%2F21%2FCodeforces-Round-587-Div-3-%E6%AF%94%E8%B5%9B-%E8%A1%A5%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Codeforces Round #587 (Div. 3) æ¯”èµ›&amp;è¡¥é¢˜tipsï¼šå¤§å®¶è¯„è®ºçš„æ—¶å€™å†™ä¸€ä¸‹é‚®ç®±å’Œæ˜µç§°å‘€ï¼Œå¤´åƒæ˜¯æ ¹æ®æ˜µç§°å’Œé‚®ç®±éšæœºç”Ÿæˆçš„ðŸ˜ æƒ³å¼€å§‹æ‰“ä¸€æ‰“cfï¼Œåˆ·é¢˜åˆ·çš„å¤ªå°‘äº†ï¼Œå¤ªåƒäºäº†ã€‚ 1216A. Prefixesé¢˜æ„ç»™ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸ºå¶æ•°ï¼ŒåªåŒ…å«å°å†™å­—æ¯aå’Œbï¼Œä½ å¯ä»¥å˜æ¢å…¶ä¸­ä»»æ„ä¸€ä¸ªå­—æ¯ï¼ŒæŠŠaæ¢æˆbæˆ–è€…æŠŠbæ¢æˆaã€‚è¦æ±‚æœ€åŽç»“æžœä¸­çš„å­—ç¬¦ä¸²ä»»æ„å¶æ•°å‰ç¼€aå’Œbçš„æ•°é‡ç›¸åŒã€‚ é¢˜è§£åªéœ€è¦ä¿è¯ç¬¬iä¸ªå­—æ¯å’Œç¬¬i+1ä¸ªå­—æ¯ä¸ç›¸åŒå°±è¡Œäº†ï¼Œiæ¯æ¬¡é€’å¢ž2ã€‚ ä»£ç 12345678910111213141516171819202122232425262728#include&lt;bits/stdc++.h&gt;using namespace std;const int maxn = 31;int main()&#123; string s; int n, ans=0; cin &gt;&gt;n &gt;&gt;s; for(int i=0; i&lt;n-1; i+=2) &#123; if(s[i]==s[i+1]) &#123; if(s[i]=='a') s[i] = 'b'; else s[i] = 'a'; ans++; &#125; &#125; cout &lt;&lt;ans &lt;&lt;endl; cout &lt;&lt;s &lt;&lt;endl; return 0;&#125; 1216B. Shootingé¢˜æ„ç»™ä½ å‡ ä¸ªç½å­ï¼Œæ¯ä¸ªç½å­çš„è€ä¹…åº¦ä¸ºaiï¼Œä½ è¦å°†æ‰€æœ‰ç½å­å‡»ç¢Žï¼Œå½“ä½ è¦å‡»ç¢Žç¬¬iä¸ªç½å­æ—¶ï¼Œä½ éœ€è¦å°„å‡»(ai*x+1)æ¬¡ï¼Œå…¶ä¸­xä¸ºä½ å·²ç»å‡»ç¢Žçš„ç½å­ï¼Œå¯è®¤ä¸ºä½ å°†ä¸€ä¸ªç½å­å‡»ç¢Žæ‰ä¼šåŽ»å°„å‡»ä¸‹ä¸€ä¸ªç½å­ã€‚ é¢˜è§£xæ˜¯é‡ç‚¹ï¼Œåªè¦åå‘æŽ’ä¸€ä¸‹åºå°±è¡Œäº†ï¼Œæœ‰äº›ç±»ä¼¼å“ˆå¤«æ›¼æ ‘ã€‚ä¸€å¼€å§‹ä»¥ä¸ºæœ€åŽè®©ä¾æ¬¡è¾“å‡ºç¬¬iä¸ªç½å­æ˜¯ç¬¬å‡ æ¬¡è¢«å°„å‡»çš„ï¼ŒåŽæ¥WAäº†ä¸€æ¬¡æ‰å‘çŽ°æ˜¯è®©ä¾æ¬¡è¾“å‡ºå°„å‡»çš„æ˜¯ç¬¬å‡ ä¸ªç½å­ã€‚ã€‚ã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142#include&lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1000+10;struct A&#123; int ai, index;&#125;ax[maxn];bool cmp1(A a, A b)&#123; return a.ai&gt;b.ai;&#125;int main()&#123; int n; cin &gt;&gt;n; for(int i=0; i&lt;n; i++) &#123; cin &gt;&gt;ax[i].ai; ax[i].index = i+1; &#125; int x=0, ans=0; sort(ax, ax+n, cmp1); for(int i=0; i&lt;n; i++) &#123; ans+=(ax[i].ai*x+1); x++; &#125; cout &lt;&lt;ans &lt;&lt;endl; cout &lt;&lt;ax[0].index; for(int i=1; i&lt;n; i++) cout &lt;&lt;' ' &lt;&lt;ax[i].index; cout &lt;&lt;endl; return 0;&#125; 1216C. White Sheeté¢˜æ„ç»™ä½ ä¸€ä¸ªç™½çº¸çš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ï¼Œè¿˜æœ‰ä¸¤å¼ é»‘çº¸çš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ï¼Œä¿è¯è¿™ä¸‰å¼ çº¸çš„è¾¹ç¼˜éƒ½å¹³è¡ŒäºŽåæ ‡è½´ï¼Œé—®ä½ é»‘çº¸æ˜¯å¦èƒ½å®Œå…¨è¦†ç›–ä½ç™½çº¸ã€‚ é¢˜è§£åæ ‡èŒƒå›´1e6ï¼Œå¯ä»¥ä¾æ¬¡éåŽ†ç™½çº¸è¾¹ç¼˜çš„æ¯ä¸€ä¸ªç‚¹ï¼Œçœ‹ä»–æ˜¯å¦åœ¨é»‘çº¸å†…ï¼Œé€’å¢žè¦è®¾æˆ0.5ï¼Œä¸èƒ½è®¾æˆ1ï¼Œæœ€åŽæ²¡æ—¶é—´äº†ï¼Œä¸çŸ¥é“æ€è·¯å¯¹ä¸å¯¹ï¼Œå›žæ¥å†æ¥è¡¥å§ã€‚ï¼ˆè¡¥ï¼šæžœç„¶è¿‡äº†ï¼Œå¤ªæ™ºéšœäº†ã€‚ã€‚ã€‚ï¼‰ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int maxn = 2e5+10;int main()&#123; int x1, y1, x2, y2; int x3, y3, x4, y4; int x5, y5, x6, y6; cin &gt;&gt;x1 &gt;&gt;y1 &gt;&gt;x2 &gt;&gt;y2; cin &gt;&gt;x3 &gt;&gt;y3 &gt;&gt;x4 &gt;&gt;y4; cin &gt;&gt;x5 &gt;&gt;y5 &gt;&gt;x6 &gt;&gt;y6; for(double i=x1; i&lt;=x2; i+=0.5) &#123; if((i&lt;=x4&amp;&amp;i&gt;=x3&amp;&amp;y1&lt;=y4&amp;&amp;y1&gt;=y3) || (i&lt;=x6&amp;&amp;i&gt;=x5&amp;&amp;y1&lt;=y6&amp;&amp;y1&gt;=y5)) continue; else &#123; cout &lt;&lt;"YES" &lt;&lt;endl; return 0; &#125; &#125; for(double i=y1; i&lt;=y2; i+=0.5) &#123; if((i&lt;=y4&amp;&amp;i&gt;=y3&amp;&amp;x1&lt;=x4&amp;&amp;x1&gt;=x3) || (i&lt;=y6&amp;&amp;i&gt;=y5&amp;&amp;x1&lt;=x6&amp;&amp;x1&gt;=x5)) continue; else &#123; cout &lt;&lt;"YES" &lt;&lt;endl; return 0; &#125; &#125; for(double i=x2; i&gt;=x1; i-=0.5) &#123; if((i&lt;=x4&amp;&amp;i&gt;=x3&amp;&amp;y2&lt;=y4&amp;&amp;y2&gt;=y3) || (i&lt;=x6&amp;&amp;i&gt;=x5&amp;&amp;y2&lt;=y6&amp;&amp;y2&gt;=y5)) continue; else &#123; cout &lt;&lt;"YES" &lt;&lt;endl; return 0; &#125; &#125; for(double i=y2; i&gt;=y2; i-=0.5) &#123; if((i&lt;=y4&amp;&amp;i&gt;=y3&amp;&amp;x2&lt;=x4&amp;&amp;x2&gt;=x3) || (i&lt;=y6&amp;&amp;i&gt;=y5&amp;&amp;x2&lt;=x6&amp;&amp;x2&gt;=x5)) continue; else &#123; cout &lt;&lt;"YES" &lt;&lt;endl; return 0; &#125; &#125; cout &lt;&lt;"NO" &lt;&lt;endl; return 0;&#125; 1216D. Swordsé¢˜æ„åœ°ä¸‹å®¤æœ‰nç§å‰‘ï¼Œæ¯ç§å‰‘æœ‰xä¸ªï¼Œæœ‰yä¸ªäººæ¥åœ°ä¸‹å®¤å·å‰‘ï¼Œæ¯ä¸ªäººåªæ‹¿ä¸€ç§å‰‘ï¼Œæ¯ä¸ªäººæ‹¿äº†zä¸ªå‰‘ã€‚çŽ°åœ¨å‘çŽ°åœ°ä¸‹å®¤çš„å‰‘è¢«å·äº†ï¼Œæ¯ç§å‰‘å‰©ä¸‹aiä¸ªï¼Œå…¶ä¸­x, y, zæœªçŸ¥ï¼Œç»™å‡ºnå’Œaiï¼Œè®©ä½ æ±‚å‡ºæœ€å°‘yä¸ªäººæ¥å·å‰‘å’Œæ¯ä¸ªäººå·äº†å¤šå°‘å‰‘zã€‚ é¢˜è§£ç”¨æœ€å¤§çš„æ•°ä¾æ¬¡å‡åŽ»å…¶ä»–æ‰€æœ‰aiï¼Œæ±‚ä»–ä»¬æ‰€æœ‰çš„æœ€å¤§å…¬å› æ•°ï¼Œç„¶åŽå†ç”¨å‰é¢ç®—å‡ºæ¥çš„æœ€å¤§æ•°å’Œå…¶ä»–æ•°çš„å·®é™¤ä»¥æœ€å¤§å…¬å› æ•°ï¼Œåˆ™å¯ç®—å‡ºæœ‰å¤šå°‘äººæ¥å·å‰‘äº†ï¼Œæœ€å¤§å…¬å› æ•°å³ä¸ºæ¯ä¸ªäººå·äº†å¤šå°‘å‰‘ã€‚ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int maxn = 2e5+10;int a[maxn];stack&lt;int&gt; s, ss;bool cmp(int x, int y)&#123; return x&gt;y;&#125;int main()&#123; int n; scanf("%d", &amp;n); for(int i=0; i&lt;n; i++) scanf("%d", &amp;a[i]); sort(a, a+n, cmp); int x, y; for(int i=1; i&lt;n; i++) &#123; x = a[0]-a[i]; if(x) &#123; s.push(x); ss.push(x); &#125; &#125; while(s.size()&gt;1) &#123; x = s.top(); s.pop(); y = s.top(); s.pop(); s.push(__gcd(x, y)); &#125; ll ans=0; while(!ss.empty()) &#123; x = ss.top(); ss.pop(); ans+=(x/s.top()); &#125; printf("%lld %d\n", ans, s.top()); return 0;&#125; 1216E1. Numerical Sequence (easy version)é¢˜æ„11212312341234512345612345671234567812345678912345678910â€¦â€¦ï¼Œç»™ä½ ä¸€ä¸ªè¿™æ ·çš„æ— é™å¾ªçŽ¯æ•°åˆ—ï¼Œ1ã€12ã€123ã€1234ã€12345â€¦â€¦è¿™æ ·å¾ªçŽ¯ï¼Œè¯¢é—®qæ¬¡ï¼Œæ¯æ¬¡è¯¢é—®åœ¨è¿™ä¸ªæ•°åˆ—ä¸­ç¬¬kä½æ˜¯ä»€ä¹ˆæ•°å­—ã€‚æ³¨æ„ï¼š11ç®—ä¸¤ä½æ•°å­—ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•°å­—ã€‚kæœ€å¤§ä¸º1e9ï¼Œqä¸å¤§äºŽ100ã€‚ é¢˜è§£ ç”±ç¨‹åºç®—å‡ºå½“kä¸º1e9æ—¶æ€»å…±ä¹Ÿæ‰21837ä¸ªæ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬åªç”¨é¢„å¤„ç†å‡ºå‰1e5ä¸ªæ•°çš„æŽ’åˆ—ï¼Œé¢„å¤„ç†æ—¶è®°å½•ä¸‹æ¯ä¸ªæ•°çš„æœ€åŽä¸€ä½æŽ’åˆ°å“ªé‡Œäº†ï¼Œæœ€åŽç›´æŽ¥æŸ¥è¡¨å°±è¡Œäº†ã€‚ è®¡ç®—ç¨‹åºï¼š 12345678ll k=0, i=1, x; while(k&lt;=1000000000)&#123; for(ll j=1; j&lt;=i; j++)&#123; x = j; while(x)&#123;k++;x/=10;&#125; &#125; i++; &#125; ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;iostream&gt;#include &lt;queue&gt;#include &lt;string.h&gt;#define ll long longusing namespace std;const int maxn = 1e5+10;int num[maxn*5], pre[maxn], n;inline void cal(int x)&#123; if(!x) return; cal(x/10); num[++n] = x%10; return;&#125;int main()&#123; int x; n = 0; for(int i=1; i&lt;=100000; i++) &#123; cal(i); pre[i] = n; &#125; int q; ll k; cin &gt;&gt;q; while(q--) &#123; cin &gt;&gt;k; ll sum=0; for(int i=1; i&lt;100000; i++) &#123; if(sum+pre[i]&lt;k) sum+=pre[i]; else &#123; cout &lt;&lt;num[k-sum] &lt;&lt;endl; break; &#125; &#125; &#125; return 0;&#125; å‚è€ƒå‡†ç‚¹çš„æ˜Ÿè¾°Codeforces Round #587(Div.3)]]></content>
      <categories>
        <category>æ¯”èµ›&amp;è¡¥é¢˜</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>Codeforces</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kuangbinä¸“é¢˜ä¸€ç®€å•æœç´¢]]></title>
    <url>%2F2019%2F09%2F19%2Fkuangbin%E4%B8%93%E9%A2%98%E4%B8%80%E7%AE%80%E5%8D%95%E6%90%9C%E7%B4%A2%2F</url>
    <content type="text"><![CDATA[kuangbinä¸“é¢˜ä¸€ç®€å•æœç´¢tipsï¼šå¤§å®¶è¯„è®ºçš„æ—¶å€™å†™ä¸€ä¸‹é‚®ç®±å’Œæ˜µç§°å‘€ï¼Œå¤´åƒæ˜¯æ ¹æ®æ˜µç§°å’Œé‚®ç®±éšæœºç”Ÿæˆçš„ðŸ˜ kuangbinä¸“é¢˜åˆé›† [ACMæ­£ç¡®å…¥é—¨æ–¹å¼â€”â€”æ•°å­¦lover é¢˜ç›®åˆ—è¡¨ POJ 1321 æ£‹ç›˜é—®é¢˜AC: 2018-07-17 23:54:31 POJ 2251 Dungeon MasterAC: 2019-09-19 18:32:04 POJ 3278 Catch That CowAC: 2019-09-21 19:37:10 POJ 3279 FliptileAC: 2019-09-22 16:09:25 POJ 1426 Find The MultipleAC: 2019-09-23 20:09:26 POJ 3126 Prime PathAC: 2019-09-24 22:48:09 POJ 3087 Shuffleâ€™m Up POJ 3414 Pots FZU 2150 Fire Game UVA 11624 Fire! POJ 3984 è¿·å®«é—®é¢˜ HDU 1241 Oil Deposits HDU 1495 éžå¸¸å¯ä¹ HDU 2612 Find a way POJ1321 æ£‹ç›˜é—®é¢˜é¢˜æ„å°±æ˜¯åœ¨æ£‹ç›˜ä¸Šæ”¾æ£‹å­ï¼Œæ”¾çš„æ—¶å€™ä¸èƒ½åŒè¡ŒåŒåˆ—ï¼Œå’Œå…«çš‡åŽé—®é¢˜ç±»ä¼¼ï¼Œåªä¸è¿‡ç©ºç™½çš„åœ°æ–¹ä¸èƒ½æ”¾ã€‚è¿™æ˜¯æˆ‘åŽ»å¹´æš‘å‡acmè®­ç»ƒæ—¶å†™çš„ï¼ŒçŽ°åœ¨å·²ç»å¿˜äº†å½“æ—¶å’‹å†™çš„äº†ï¼Œçœ‹ç€è‡ªå·±WAäº†å¥½å¤šå‘ï¼Œå¤ªèœäº†ã€‚ã€‚ã€‚dfsæ—¶è®°å¾—å¤åŽŸã€‚ é¢˜è§£dfså§ï¼Œæ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œå…«çš‡åŽæ¨¡æ¿é¢˜ã€‚å¥½çƒ¦å•Šï¼ŒPOJä¸èƒ½ç”¨ä¸‡èƒ½å¤´æ–‡ä»¶ã€‚ã€‚ã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;iostream&gt;//#include &lt;bits/stdc++.h&gt;#include &lt;string.h&gt;typedef long long ll;const int INF = 1 &lt;&lt; 30;const int maxn = 1e5;using namespace std;int n, m, ans;char pan[10][10];bool vis[10];int cnt;void dfs(int l)&#123; if(cnt == m) &#123; ans++; return; &#125; else if(l&gt;=n) return; else &#123; for(int i=0; i&lt;n; i++) if(pan[l][i]=='#' &amp;&amp; !vis[i]) &#123; cnt++; vis[i]=1; dfs(l+1); vis[i]=0; cnt--; &#125; dfs(l+1); &#125; return;&#125;int main()&#123; //ios::sync_with_stdio(0), cin.tie(0); while(cin &gt;&gt;n &gt;&gt;m) &#123; if(n==-1 &amp;&amp; m==-1) break; memset(vis, 0, sizeof(vis)); for(int i=0; i&lt;n; i++) for(int j=0; j&lt;n; j++) cin &gt;&gt;pan[i][j]; ans = cnt = 0; dfs(0); cout &lt;&lt;ans &lt;&lt;endl; &#125; return 0;&#125; POJ2251 Dungeon Masteré¢˜æ„ä¸€ä¸ª3Dè¿·å®«ï¼Œæ€»å…±å…­ä¸ªæ–¹å‘ï¼Œä¸Šä¸‹å·¦å³å‰åŽã€‚æœ‰çš„åœ°æ–¹ä¸èƒ½èµ°æœ‰çš„èƒ½èµ°ï¼Œç»™å‡ºèµ·ç‚¹ç»ˆç‚¹ï¼Œé—®ä½ èƒ½ä¸èƒ½èµ°åˆ°ç»ˆç‚¹ï¼Œå¦‚æžœèƒ½çš„è¯åº”è¯¥æ˜¯æ±‚ç”¨æ—¶æœ€çŸ­çš„å§ï¼ˆé¢˜ç›®ä¸­æ²¡è¯´ï¼Œä¸€å¼€å§‹ç”¨dfsWAäº†ï¼ŒåŽæ¥çœ‹åˆ«äººéƒ½ç”¨bfsæ‰å‘çŽ°æ˜¯ä¸æ˜¯è¦æ±‚æœ€çŸ­è·¯ï¼‰ã€‚æ²¡ç§»åŠ¨ä¸€æ¬¡è¦èŠ±è´¹ä¸€åˆ†é’Ÿã€‚ é¢˜è§£bfsï¼Œä¸€å¼€å§‹ç”¨bfsä¸€ç›´å†…å­˜è¶…é™ï¼Œå¿«ç»™æˆ‘éƒé—·æ­»äº†ã€‚ã€‚ã€‚è¦æŠŠèµ°è¿‡çš„ç‚¹ç”¨#å µä¸Šï¼Œé˜²æ­¢å¤šä½™çš„ç»“ç‚¹å…¥é˜Ÿåˆ—ã€‚ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;queue&gt;#include &lt;string.h&gt;using namespace std;const int maxn = 31;struct node&#123; int x, y, z, step;&#125;;node make_node(int x, int y, int z, int step)&#123; node a; a.x = x, a.y = y, a.z = z, a.step=step; return a;&#125;int main()&#123; int l, r, c; char mp[maxn][maxn][maxn]; int dx[6]= &#123;1, -1, 0, 0, 0, 0&#125;; int dy[6]= &#123;0, 0, 1, -1, 0, 0&#125;; int dz[6]= &#123;0, 0, 0, 0, 1, -1&#125;; while (cin &gt;&gt;l &gt;&gt;r &gt;&gt;c &amp;&amp; l+r+c) &#123; int x, y, z; queue&lt;node&gt; q; for(int i=0; i&lt;l; i++) &#123; for(int j=0; j&lt;r; j++) for(int k=0; k&lt;c; k++) &#123; cin &gt;&gt;mp[i][j][k]; if(mp[i][j][k]=='S') q.push(make_node(i, j, k, 0)); if(mp[i][j][k]=='E') &#123; x = i; y = j; z = k; &#125; &#125; getchar(); &#125; bool flag = false; while(!q.empty()) &#123; node a = q.front(); q.pop(); if(a.x==x &amp;&amp; a.y==y &amp;&amp; a.z==z) &#123; flag = true; cout &lt;&lt;"Escaped in "&lt;&lt;a.step &lt;&lt;" minute(s)." &lt;&lt;endl; break; &#125; for (int i = 0; i &lt; 6; ++i) &#123; if(mp[a.x+dx[i]][a.y+dy[i]][a.z+dz[i]]!='#') if(a.x+dx[i]&gt;=0 &amp;&amp; a.x+dx[i]&lt;l &amp;&amp; a.y+dy[i]&gt;=0 &amp;&amp; a.y+dy[i]&lt;r &amp;&amp; a.z+dz[i]&gt;=0 &amp;&amp; a.z+dz[i]&lt;c) &#123; q.push(make_node(a.x+dx[i], a.y+dy[i], a.z+dz[i], a.step+1)); mp[a.x+dx[i]][a.y+dy[i]][a.z+dz[i]] = '#'; &#125; &#125; &#125; if(flag) continue; else cout &lt;&lt;"Trapped!" &lt;&lt;endl; &#125; return 0;&#125; POJ3287 Catch That Cowé¢˜æ„ä½ çš„ç‰›è·‘äº†ï¼Œè¦æŠŠå®ƒæŠ“å›žæ¥ã€‚ä½ çš„ä½ç½®åœ¨nï¼Œç‰›çš„ä½ç½®åœ¨kï¼Œç‰›ä¸ä¼šè·‘ï¼Œä½ è¦ç”¨æœ€å°‘çš„æ—¶é—´èµ°åˆ°ç‰›çš„ä½ç½®ã€‚ä½ ä»¬çš„ä½ç½®éƒ½åœ¨åŒä¸€ä¸ªæ•°è½´ä¸Šï¼Œåªæœ‰å·¦å³ä¸¤ä¸ªæ–¹å‘ï¼Œä½ æœ‰ä¸‰ç§èµ°æ³•ï¼Œå·¦èµ°ä¸€æ­¥ã€å³èµ°ä¸€æ­¥æˆ–è€…ä¼ é€åˆ°ä½ å½“å‰åæ ‡çš„äºŒå€çš„ä½ç½®ï¼Œè¿™ä¸‰ç§èµ°æ³•éƒ½åªèŠ±è´¹ä¸€åˆ†é’Ÿã€‚nå’Œkéƒ½å°äºŽç­‰äºŽ100000 é¢˜è§£åªæœ‰ä¸‰ç§æ“ä½œï¼Œæ±‚æœ€çŸ­æ—¶é—´ï¼Œå¯ä»¥ç”¨bfsã€‚bfsè¦è®¾ç½®ä¸€ä¸ªvisæ•°ç»„ï¼Œæ³¨æ„ä¸èƒ½æ•°ç»„è¶Šç•Œã€‚è¿˜è¦æ³¨æ„å½“n==kçš„æ—¶å€™ã€‚ä¸€å¼€å§‹ä¸€ç›´è¶…å†…å­˜ï¼ŒåŽæ¥å‘çŽ°è¦è®¾ä¸€ä¸ªvisæ•°ç»„å‰ªæžã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include &lt;iostream&gt;#include &lt;queue&gt;#include &lt;string.h&gt;using namespace std;const int maxn = 1e5+10;bool vis[maxn];struct node&#123; int p, t;&#125;;node make_node(int p, int t)&#123; node a; a.p = p; a.t = t; return a;&#125;int main()&#123; int n, k; while(cin &gt;&gt;n &gt;&gt;k) &#123; if(n==k) &#123; cout &lt;&lt;0 &lt;&lt;endl; continue; &#125; memset(vis, 0, sizeof vis); queue&lt;node&gt; q; q.push(make_node(n, 0)); vis[n] = true; while(!q.empty()) &#123; node a = q.front(); q.pop(); if(a.p+1==k || a.p-1==k || a.p*2==k) &#123; cout &lt;&lt;a.t+1 &lt;&lt;endl; break; &#125; if(a.p&lt;k) &#123; if(a.p+1&lt;=100000 &amp;&amp; !vis[a.p+1]) &#123; q.push(make_node(a.p+1, a.t+1)); vis[a.p+1] = true; &#125; if(a.p*2-k&lt;k-a.p &amp;&amp; a.p*2&lt;=100000 &amp;&amp; !vis[a.p*2]) &#123; q.push(make_node(a.p*2, a.t+1)); vis[a.p*2] = true; &#125; if(a.p-1&gt;=0 &amp;&amp; !vis[a.p-1]) &#123; q.push(make_node(a.p-1, a.t+1)); vis[a.p-1] = true; &#125; &#125; else if(a.p&gt;k &amp;&amp; a.p-1&gt;=0 &amp;&amp; !vis[a.p-1]) &#123; q.push(make_node(a.p-1, a.t+1)); vis[a.p-1] = true; &#125; &#125; &#125; return 0;&#125; POJ3279 Fliptileé¢˜æ„æœ‰n*mä¸ªæ–¹æ ¼ï¼Œæ¯ä¸ªæ–¹æ ¼éƒ½æœ‰ä¸€å—ç“·ç –ï¼Œç“·ç –çš„ä¸¤é¢åˆ†åˆ«æ˜¯é»‘è‰²å’Œç™½è‰²ï¼Œå½“ä½ ç¿»è½¬ç“·ç –æ—¶ç“·ç –ä¼šä»Žç™½è‰²ç¿»è½¬æˆé»‘è‰²ï¼Œæˆ–è€…ä»Žé»‘è‰²ç¿»è½¬æˆç™½è‰²ã€‚æ ·ä¾‹è¾“å…¥ä¸ºæ¯ä¸ªæ–¹æ ¼ç“·ç –çš„åˆå§‹é¢œè‰²ï¼Œ0ä»£è¡¨ç™½è‰²ï¼Œ1ä»£è¡¨é»‘è‰²ã€‚çŽ°åœ¨è®©ä½ çš„å¥¶ç‰›æ¥å°†æ‰€æœ‰æ ¼å­ç¿»æˆç™½è‰²ï¼Œç”±äºŽå¥¶ç‰›çš„è¹„å­æ¯”è¾ƒå¤§ï¼Œå®ƒæ¯æ¬¡åè½¬çš„æ—¶ä¼šå°†ç›¸é‚»çš„ç“·ç –ä¹Ÿç¿»è½¬è¿‡æ¥ï¼Œå³ä¸Šä¸‹å·¦å³çš„ç“·ç –ã€‚æœ€åŽè¾“å‡ºæ¯ä¸ªç“·ç –çš„ç¿»è½¬æ¬¡æ•°ï¼Œè¦æ±‚æ€»çš„ç¿»è½¬æ¬¡æ•°æœ€å°‘ï¼Œå¦‚æžœç­”æ¡ˆæœ‰å¤šç§ï¼Œåˆ™è¾“å‡ºå­—å…¸åºæœ€å°çš„é‚£ä¸ªç­”æ¡ˆã€‚ é¢˜è§£è¿™é¢˜æœ‰ä¸ªæœ€é‡è¦çš„æ€æƒ³ï¼Œå°±æ˜¯ç¬¬iå±‚å¦‚æžœæœ‰é»‘è‰²ç“·ç –ï¼Œè¦é€šè¿‡ç¬¬i+1å±‚çš„ç¿»è½¬å°†å…¶ç¿»è½¬æˆç™½è‰²ã€‚è¿™æ ·åªç”¨ä¿è¯å‰ä¸€å±‚æ²¡æœ‰é»‘è‰²å³å¯ï¼Œä¸ç”¨ç®¡å½“å‰å±‚ç¿»è½¬æˆä»€ä¹ˆæ ·ï¼Œä¹Ÿä¸ç”¨ç®¡ä¸‹ä¸€å±‚ã€‚è¿™æ ·çš„è¯åªè¦ç¬¬ä¸€å±‚çš„çŠ¶æ€ç¡®å®šï¼ŒåŽé¢æ‰€æœ‰çš„çŠ¶æ€éƒ½ç¡®å®šäº†ã€‚å› ä¸ºç¬¬äºŒå±‚éœ€è¦å°†ç¬¬ä¸€å±‚çš„é»‘ç“·ç –ç¿»æˆç™½è‰²çš„ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ç¬¬äºŒå±‚å¯èƒ½ä¼šå‡ºçŽ°é»‘ç“·ç –ï¼Œå†ç”¨ç¬¬ä¸‰å±‚å°†ç¬¬äºŒå±‚ç¿»è½¬æˆç™½è‰²çš„ï¼Œå†ç”¨ç¬¬å››å±‚å°†ã€‚ã€‚ã€‚æˆ‘ä»¬å¯ä»¥æžšä¸¾ç¬¬ä¸€å±‚æ‰€æœ‰çš„çŠ¶æ€ï¼Œå³æ¯ä¸€å—ç“·ç –ç¿»æˆ–ä¸ç¿»ï¼Œæ€»å…±æœ‰2^mä¸ªï¼Œç„¶åŽç”¨ç¬¬äºŒå±‚å°†ç¬¬ä¸€å±‚ç¿»æˆç™½è‰²ã€‚ã€‚ã€‚ç”¨æœ€åŽä¸€å±‚å°†å€’æ•°ç¬¬äºŒå±‚ç¿»æˆç™½è‰²ï¼Œå› ä¸ºåŽé¢æ²¡æœ‰ç“·ç –æ¥ç¿»è½¬æœ€åŽä¸€å±‚äº†ï¼Œæ‰€æœ‰æˆ‘ä»¬é€šè¿‡åˆ¤æ–­æœ€åŽä¸€å±‚æœ‰æ²¡æœ‰é»‘è‰²ç“·ç –ï¼Œå°±å¯ä»¥åˆ¤æ–­è¿™ä¸ªæ–¹æ³•æ˜¯å¦å¯è¡Œã€‚ è¾“å‡ºæ¬¡æ•°æœ€å°‘çš„é‚£ä¸€ä¸ªå¯ä»¥æ¯æ¬¡ç¿»è½¬è®°å½•ä¸€ä¸‹ï¼Œæœ€åŽå¯¹æ¯”æ‰€æœ‰å¯èƒ½æ€§çš„ç¿»è½¬æ¬¡æ•°å–æœ€å°å³å¯ã€‚ å­—å…¸åºæœ€å°ï¼Œå³è¾“å‡ºç­”æ¡ˆæ—¶æ¯è¡Œçš„å­—å…¸åºæœ€å°ï¼Œæ¯è¡Œçš„å­—å…¸åºå³æŠŠæ‰€æœ‰æ•°å­—ä¸²æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè®©ä»–ä»¬å­—å…¸åºæœ€å°ï¼Œå³å°†0 0 0 1 1ä¸²æˆ00011ï¼Œè€Œ00011çš„å­—å…¸åºæ¯”10010å°ã€‚ä¿è¯å­—å…¸åºæœ€å°å¯ä»¥å…ˆä¿è¯ç¬¬ä¸€è¡Œå­—å…¸åºæœ€å°ï¼Œç¬¬ä¸€è¡Œæœ‰2^mç§å¯èƒ½ï¼Œæˆ‘ä»¬æŠŠæ²¡ä¸ªç“·ç –çœ‹æˆäºŒè¿›åˆ¶çš„ä¸€ä½æ•°ï¼Œé‚£ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ“ä½œå°±æ˜¯0~(1&lt;&lt;m-1)ï¼Œæˆ‘ä»¬æžšä¸¾çš„æ—¶å€™ç›´æŽ¥ä»Ž0å¼€å§‹æžšä¸¾å°±è¡Œäº†ã€‚ ä¸€å¼€å§‹å†™çš„æ—¶å€™æ€Žä¹ˆæƒ³éƒ½æ²¡æ€è·¯ï¼Œæœ€åŽçœ‹äº†åˆ«äººçš„é¢˜è§£æ‰å†™å‡ºæ¥ï¼Œè¿˜æ˜¯åšé¢˜å¤ªå°‘äº†ï¼Œå¤ªèœäº†ã€‚ã€‚ã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int maxn = 30;const int INF = 1 &lt;&lt; 30;int n, m, turnnum, turnans;int mp[maxn][maxn], a[maxn][maxn], fn[maxn][maxn], ans[maxn][maxn];int dx[] = &#123; 1, -1, 0, 0 &#125;;int dy[] = &#123; 0, 0, 1, -1 &#125;;void turn(int i, int j)&#123; fn[i][j] = 1; turnnum++; a[i][j] = !a[i][j]; for (int k = 0; k &lt; 4; k++) a[i + dx[k]][j + dy[k]] = !a[i + dx[k]][j + dy[k]];&#125;int main()&#123; while (cin &gt;&gt;n &gt;&gt;m) &#123; for (int i = 1; i &lt;= n; i++) &#123; for (int j = 1; j &lt;= m; j++) &#123; cin &gt;&gt; mp[i][j]; &#125; &#125; int lp = 1 &lt;&lt; m; turnans = INF; for (int i = 0; i &lt; lp; i++) &#123; memset(fn, 0, sizeof fn); memcpy(a, mp, sizeof mp); turnnum = 0; int p = i; for (int j = 1; j &lt;= m; j++) &#123; if (p &amp; 1) turn(1, j); p &gt;&gt;= 1; &#125; for (int j = 2; j &lt;= n; j++) &#123; for (int k = 1; k &lt;= m; k++) &#123; if (a[j - 1][k]) turn(j, k); &#125; &#125; int j; for (j = 1; j &lt;= m; j++) &#123; if (a[n][j]) break; &#125; if (j == m+1 &amp;&amp; turnnum &lt; turnans) &#123; turnans = turnnum; memcpy(ans, fn, sizeof fn); &#125; &#125; if (turnans == INF) cout &lt;&lt; "IMPOSSIBLE" &lt;&lt; endl; else &#123; for (int i = 1; i &lt;= n; i++) &#123; for (int j = 1; j &lt;= m; j++) &#123; cout &lt;&lt; ans[i][j] &lt;&lt; ' '; &#125;cout &lt;&lt; endl; &#125; &#125; &#125; return 0;&#125; å‚è€ƒPOJ3279 äºŒè¿›åˆ¶çš„æœç´¢ POJ1426 Find The Multipleé¢˜æ„ç»™ä½ ä¸€ä¸ªä¸è¶…è¿‡200çš„æ•°nï¼Œè®©ä½ æ±‚ä¸€ä¸ªæ•°mï¼Œmä¸è¶…è¿‡100ä½ï¼ŒmåªåŒ…å«0å’Œ1ä¸”ï¼ˆm%nï¼‰== 0ã€‚ é¢˜è§£ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œç›´æŽ¥å®šä¹‰longlong + BFSå°±è¿‡äº†ã€‚ã€‚ã€‚ä¸€å¼€å§‹æƒ³æ¨¡æ‹Ÿï¼Œè¿˜è¶…æ—¶äº†ï¼Œèœã€‚ã€‚ã€‚ åœ¨ç½‘ä¸Šçœ‹åˆ°æœ‰ä¸ªå¤§ä½¬åœ¨ç”¨è¿™é¢˜è®²åŒä½™æ¨¡å®šç†ï¼ŒæŠ½ç©ºçœ‹ä¸€ä¸‹ã€‚ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;iostream&gt;#include &lt;queue&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;algorithm&gt;#define ll long longusing namespace std;const int maxn = 1e5+10;queue&lt;int&gt; q;int main()&#123; unsigned ll n, m=1; while(cin &gt;&gt;n &amp;&amp; n) &#123; while(!q.empty())q.pop(); m = 1; q.push(m); if(m%n==0) &#123; cout &lt;&lt;m &lt;&lt;endl; continue; &#125; while(!q.empty()) &#123; m = q.front(); q.pop(); m *= 10; if(m%n==0) &#123; cout &lt;&lt;m &lt;&lt;endl; break; &#125; q.push(m); m += 1; if(m%n==0) &#123; cout &lt;&lt;m &lt;&lt;endl; break; &#125; q.push(m); &#125; &#125; return 0;&#125; POJ3126 Prime Pathé¢˜æ„æµ‹è¯•æ•°æ®ä¸è¶…è¿‡ä¸€ç™¾ç»„ï¼Œæ¯ç»„ç»™å‡ºä¸¤ä¸ªå››ä½ç´ æ•°ï¼Œè¦æ±‚ä½ å°†ç¬¬ä¸€ä¸ªæ•°å­—å˜æ¢æˆç¬¬äºŒä¸ªæ•°å­—ã€‚æ²¡å›žåªèƒ½å˜æ¢ä¸€ä½æ•°å­—ï¼Œè€Œä¸”é¦–ä½æ•°å­—ä¸èƒ½å˜æˆ0ï¼Œå˜æ¢è¿‡çš„æ•°å­—ä¹Ÿå¿…é¡»ä¸ºç´ æ•°ã€‚æ¯æ¬¡å˜æ¢éœ€è¦èŠ±1ç£…ï¼Œé—®ä½ ä»Žç¬¬ä¸€ä¸ªæ•°å­—å˜æ¢åˆ°ç¬¬äºŒä¸ªæ•°å­—æœ€å°èŠ±è´¹æ˜¯å¤šå°‘ã€‚ é¢˜è§£æœ€å°‘èŠ±è´¹ï¼Œè‚¯å®šBFSäº†ï¼Œå…ˆç”¨çº¿æ€§ç´ æ•°ç­›æ‰“ä¸ªè¡¨ï¼Œæ¯æ¬¡è¿›é˜Ÿçš„æ•°æ®æŸ¥è¡¨æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œç„¶åŽæ¯ä¸€å±‚å¾ªçŽ¯ï¼Œè¦æŠŠå››ä½æ•°å­—å…¨æ¢ä¸€éï¼Œæ¢ä¸€ä¸ªæ•°å­—è¿›ä¸€æ¬¡é˜Ÿåˆ—ï¼Œç”¨visæ•°ç»„å‰ªæžã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120#include &lt;iostream&gt;#include &lt;queue&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;algorithm&gt;#define ll long longusing namespace std;const int maxn = 1e5+10;int prime[maxn], pNum = 0;bool p[maxn] = &#123;false&#125;, vis[maxn]=&#123;false&#125;;struct num&#123; int a, cos;&#125;;num make_num(int a, int cos)&#123; num x; x.a = a; x.cos = cos; return x;&#125;void eulerSieve(int n)&#123; for (int i = 2; i &lt;= n; i++) &#123; if (p[i] == false) prime[pNum++] = i; for (int j = 0; j &lt; pNum; j++) &#123; if (i * prime[j] &gt; n) break; p[i * prime[j]] = true; if (i % prime[j] == 0) break; &#125; &#125;&#125;int main()&#123; eulerSieve(100000); int t; cin &gt;&gt;t; while(t--) &#123; memset(vis, false, sizeof vis); int a, b; cin &gt;&gt;a &gt;&gt;b; queue&lt;num&gt; q; q.push(make_num(a, 0)); vis[a] = true; while(!q.empty()) &#123; num x = q.front(); q.pop(); if(x.a==b) &#123; cout &lt;&lt;x.cos &lt;&lt;endl; break; &#125; for(int i=1; i&lt;10; i++) &#123; int y = x.a; if(y/1000==i) continue; y = i*1000+y%1000; if(!vis[y] &amp;&amp; !p[y]) &#123; q.push(make_num(y, x.cos+1)); vis[y] = true; &#125; &#125; for(int i=0; i&lt;10; i++) &#123; int y = x.a; if(y/100%10==i) continue; y = (y/1000*10+i)*100+y%100; if(!vis[y] &amp;&amp; !p[y]) &#123; q.push(make_num(y, x.cos+1)); vis[y] = true; &#125; &#125; for(int i=0; i&lt;10; i++) &#123; int y = x.a; if(y%100/10==i) continue; y = (y/100*10+i)*10+y%10; if(!vis[y] &amp;&amp; !p[y]) &#123; q.push(make_num(y, x.cos+1)); vis[y] = true; &#125; &#125; for(int i=0; i&lt;10; i++) &#123; int y = x.a; if(y%10==i) continue; y = y/10*10+i; if(!vis[y] &amp;&amp; !p[y]) &#123; q.push(make_num(y, x.cos+1)); vis[y] = true; &#125; &#125; &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>åˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æœç´¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tarjanæ±‚æœ‰å‘å›¾çš„å¼ºè¿žé€šåˆ†é‡]]></title>
    <url>%2F2019%2F09%2F02%2Ftarjan%E6%B1%82%E6%9C%89%E5%90%91%E5%9B%BE%E7%9A%84%E5%BC%BA%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F%2F</url>
    <content type="text"><![CDATA[tarjanæ±‚æœ‰å‘å›¾çš„å¼ºè¿žé€šåˆ†é‡tarjanåˆ°åº•æ˜¯å¿µâ€œå¡”è¿›â€è¿˜æ˜¯â€œå¡”æ‰¬â€ã€‚å¥½åƒå¤§å¤šæ•°äººéƒ½å¿µâ€œå¡”è¿›â€ï¼Œä½†æ˜¯è‹±è¯­å¥½åƒæ˜¯å¿µâ€œå¡”æ‰¬â€ã€‚èƒ¡æ‰¯ç»“æŸã€‚ã€‚ã€‚ è¿™ä¸ªtarjanç®—æ³•æ±‚çš„æ˜¯æœ‰å‘å›¾ä¸­çš„å¼ºè¿žé€šåˆ†é‡ï¼Œå¹¶å°†ä»–ä»¬åˆå¹¶ã€‚ å¼ºè¿žé€šåˆ†é‡ï¼ˆå¦‚æžœä¼šå¯ä»¥ç›´æŽ¥çœ‹tarjanéƒ¨åˆ†ï¼‰é‚£ä»€ä¹ˆæ˜¯å¼ºè¿žé€šåˆ†é‡å‘¢ï¼Ÿå¼ºè¿žé€šå˜›ï¼Œå°±æ˜¯å›¾ä¸­ä»»æ„ä¸¤ç‚¹èƒ½ç›¸äº’åˆ°è¾¾ã€‚é‚£å¼ºè¿žé€šåˆ†é‡å°±æ˜¯ä¸€ä¸ªå›¾ä¸­çš„å¼ºè¿žé€šå­å›¾ã€‚ çŽ¯æ˜¯æœ€ç®€å•çš„å¼ºè¿žé€šåˆ†é‡ï¼š é‚£ä½ å¦‚æžœä»Ž1å‡ºå‘ï¼Œåªè¦è½¬ä¸€åœˆå°±èƒ½ç»è¿‡æ‰€æœ‰ç‚¹ã€‚ å¼ºè¿žé€šåˆ†é‡ä¸ç­‰äºŽçŽ¯ï¼Œè¿˜æœ‰ä¸€äº›å¤æ‚çš„å¼ºè¿žé€šåˆ†é‡ï¼Œä¾‹å¦‚å®Œå…¨å›¾ï¼š å¾ˆæ˜Žæ˜¾èƒ½çœ‹å‡ºä»Žå›¾ä¸­ä¸€ç‚¹å‡ºå‘ï¼Œå¯åˆ°è¾¾å…¶ä»–ä»»æ„ä¸€ä¸ªç‚¹ã€‚ tarjanç®—æ³•å…ˆä¸Šæ—¶é—´å¤æ‚åº¦ï¼šO(N+M) ï¼ˆå…¶ä¸­Nå’ŒMåˆ†åˆ«ä¸ºç‚¹æ•°å’Œè¾¹æ•°ï¼‰ tarjanç®—æ³•æ˜¯é€šè¿‡å¯¹å›¾çš„dfsæ¥æ‰¾å‡ºå…¶ä¸­çš„å¼ºè¿žé€šåˆ†é‡ï¼Œå¹¶åˆ†ç±»ã€‚ï¼ˆéœ€æŽŒæ¡dfsçš„æ€æƒ³å¹¶ä¸”èƒ½ç†Ÿç»ƒè¿ç”¨ï¼‰ dfnæ•°ç»„å’Œlowæ•°ç»„è®²è§£è¿™é‡Œç»™å‡ºtarjanç®—æ³•ä¸­ä¸¤ä¸ªé‡è¦æ•°ç»„çš„å®šä¹‰ï¼š â€‹ dfn[u]ï¼šè¡¨ç¤ºå½“å‰ç»“ç‚¹iåœ¨dfsç®—æ³•ä¸­ç¬¬å‡ ä¸ªè¢«è®¿é—®çš„çš„ç‚¹ã€‚ â€‹ low[u]ï¼šè¡¨ç¤ºå½“å‰ç»“ç‚¹ièƒ½å›žæº¯åˆ°çš„æœ€å°dfsåºç»“ç‚¹ï¼Œdfsåºå³dfn[u]çš„å€¼ã€‚ ï¼ˆ6-&gt;1çš„ç®­å¤´ç”»åäº†ï¼Œåº”è¯¥æ—¶1-&gt;6ï¼‰ å½“ä»Žç»“ç‚¹1å¼€å§‹dfsæ—¶ï¼Œå‡è®¾ä¼˜å…ˆå‘ä¸‹è®¿é—®ï¼šdfn[1] = 1; dfn[6] = 2;å› ä¸ºç¬¬ä¸€ä¸ªè®¿é—®çš„æ—¶ç»“ç‚¹1ï¼Œæ‰€ä»¥å®ƒçš„dfsåºæ˜¯1ï¼Œç¬¬äºŒä¸ªè®¿é—®çš„æ˜¯ç»“ç‚¹6ï¼Œæ‰€ä»¥å®ƒçš„dfsåºæ—¶2ã€‚è®¿é—®å®Œç»“ç‚¹6å‘çŽ°æ²¡æœ‰è·¯äº†ï¼Œåˆ™å¼€å§‹è®¿é—®ç»“ç‚¹1çš„ä¸‹ä¸€æ¡å‡ºè¾¹ã€‚ å¼€å§‹è®¿é—®ç»“ç‚¹2ï¼Œåˆšåˆšè®¿é—®çš„ç»“ç‚¹6æ˜¯ç¬¬äºŒä¸ªè®¿é—®çš„ç»“ç‚¹ï¼Œæ‰€ä»¥ç»“ç‚¹2æ˜¯ç¬¬ä¸‰ä¸ªè®¿é—®çš„ç»“ç‚¹ï¼Œå³å®ƒçš„dfsåºä¸º3ï¼šdfn[2] = 3; dfn[5] = 4; dfn[4] = 5; dfn[3] = 6;æˆ‘ä»¬é¡ºç€ç»“ç‚¹2ä¾æ¬¡è®¿é—®ä¸‹åŽ»ï¼Œå‘çŽ°åªæœ‰ä¸€æ¡è·¯ï¼Œç•…é€šæ— é˜»ã€‚ å½“è®¿é—®åˆ°ç»“ç‚¹ä¸‰çš„æ—¶å€™æˆ‘ä»¬å‘çŽ°ç»“ç‚¹3æœ‰ä¸€æ¡é€šå‘ç»“ç‚¹2çš„è·¯ï¼Œåˆ™æ­¤æ—¶æˆ‘ä»¬ç§°ç»“ç‚¹3å›žæº¯åˆ°ç»“ç‚¹2ã€‚æˆ‘ä»¬è¿˜å‘çŽ°dfn[2]&lt;dfn[3]ï¼Œå³ç»“ç‚¹2åœ¨dfsä¸­æ¯”ç»“ç‚¹3å…ˆè¢«è®¿é—®ã€‚æ­¤æ—¶æˆ‘ä»¬åœ¨dfså›žæº¯çš„è¿‡ç¨‹ä¸­ä»¤ï¼šlow[3] = dfn[2]; low[4] = dfn[2]; low[5] = dfn[2];å³ä»¤å›žæº¯è·¯ä¸Šçš„æ‰€æœ‰ç‚¹çš„lowæ•°ç»„éƒ½èµ‹å€¼ä¸ºç»“ç‚¹2çš„dfsåºã€‚ ç”±æ­¤æˆ‘ä»¬ç»åŽ†äº†ä¸€étarjançš„ç®€åŒ–æ­¥éª¤ï¼Œæˆ‘ä»¬èƒ½å‘çŽ°lowæ•°ç»„çš„å–å€¼ä¸ºï¼š 12345low[u] = min( dfn[u],//1. dfn[v],//2. low[v]//3.) lowæ•°ç»„åˆå§‹åŒ–æ—¶ä¸ºå½“å‰ç»“ç‚¹çš„dfsåºï¼Œå³low[u] = dfn[u]; è¿™é‡Œçš„væ˜¯è¾¹ï¼ˆu, vï¼‰ä¸­çš„vï¼Œå’Œä¸Šå›¾ä¸­è¾¹ï¼ˆ3, 2ï¼‰ç±»ä¼¼ã€‚å½“å‘çŽ°èƒ½å›žæº¯åˆ°çš„ç»“ç‚¹dfsåºå°äºŽè‡ªèº«dfsåºæ—¶æ›´æ–°lowçš„å€¼ è¿™é‡Œçš„ï¼ˆu, vï¼‰å’Œä¸Šå›¾ä¸­çš„ï¼ˆ4, 3ï¼‰ç±»ä¼¼ã€‚dfså›žæº¯è¿‡ç¨‹ä¸­æ—¶å‘çŽ°å‰é¢ç»“ç‚¹çš„lowå€¼å°äºŽè‡ªèº«çš„lowå€¼æ—¶ï¼Œæ›´æ–°è‡ªèº«lowå€¼ ä»Žå›¾ä¸­å¯çœ‹å‡º2ï¼Œ 5ï¼Œ 4ï¼Œ 3å››ä¸ªç»“ç‚¹ä¸ºä¸€ä¸ªçŽ¯ï¼ŒçŽ¯æ˜¯æœ€ç®€å•çš„å¼ºè¿žé€šåˆ†é‡ï¼Œæ‰€ä»¥2ï¼Œ 5ï¼Œ 4ï¼Œ 3ä¸ºä¸€ä¸ªå¼ºè¿žé€šåˆ†é‡ã€‚è€Œå•ç‹¬ä¸€ä¸ªç»“ç‚¹æˆ‘ä»¬ä¹Ÿå°†ä»–çœ‹æˆä¸€ä¸ªå¼ºè¿žé€šåˆ†é‡ï¼Œå› æ­¤å›¾ä¸­æœ‰ä¸‰ä¸ªå¼ºè¿žé€šåˆ†é‡ï¼šï¼ˆ1ï¼‰ï¼ˆ6ï¼‰ï¼ˆ2ï¼Œ4ï¼Œ5ï¼Œ3ï¼‰ ä»Žä¸­æˆ‘ä»¬è§‚å¯Ÿå‡º1ï¼Œ 6ï¼Œ 2çš„dfnå€¼å’Œlowå€¼ç›¸åŒï¼Œæ‰€ä»¥å½“dfn[u]==low[u]æ—¶ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå¼ºè¿žé€šåˆ†é‡åœ¨dfsæ ‘ä¸­çš„èµ·å§‹èŠ‚ç‚¹ tarjanç®—æ³•ä¼ªä»£ç è®²è§£12345678910111213141516tarjan(u)&#123; DFN[u]=Low[u]=++Index//1. Stack.push(u)//2. for each (u, v) in E//3. if (v is not visted)//4. tarjan(v)//dfs Low[u] = min(Low[u], Low[v]) else if (v in S)//5. Low[u] = min(Low[u], DFN[v]) if (DFN[u] == Low[u])//6. repeat v = S.pop//7. print v until (u== v)&#125; ä¸ºç»“ç‚¹uåˆå§‹åŒ–dfnå’Œlowçš„å€¼ä¸ºdfsæ—¶çš„è®¿é—®é¡ºåºï¼Œindexä¸ºå…¨å±€å˜é‡ å°†ç»“ç‚¹uåŽ‹å…¥æ ˆä¸­ éåŽ†ç»“ç‚¹uçš„æ¯ä¸€æ¡è¾¹ å¦‚æžœæ²¡è®¿é—®è¿‡ å¦‚æžœvåœ¨æ ˆä¸­ ä¸Šé¢è®²è¿‡ï¼Œå½“dfn[u]==low[u]æ—¶ï¼Œè¯¥èŠ‚ç‚¹ä¸ºå¼ºè¿žé€šåˆ†é‡æ ¹ç»“ç‚¹ å°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆï¼Œç›´åˆ°æ ˆé¡¶å…ƒç´ ä¸ºuæ—¶ï¼Œuå‡ºæ ˆï¼Œåˆ™æ­¤æ¬¡å‡ºæ ˆçš„ä¸€ç³»åˆ—å…ƒç´ ä¸ºä¸€ä¸ªå¼ºè¿žé€šåˆ†é‡ ï¼ˆ6-&gt;1çš„ç®­å¤´ç”»åäº†ï¼Œåº”è¯¥æ—¶1-&gt;6ï¼‰ ä»Žç»“ç‚¹1å¼€å§‹ï¼šdfn[1] = low[1] = 1; ç»“ç‚¹1è¿›æ ˆ 1-&gt;6ï¼šdfn[6] = low[6] = 2; ç»“ç‚¹6è¿›æ ˆç»“ç‚¹6æ²¡æœ‰å‡ºè¾¹ï¼Œæ— æ³•dfsï¼Œå‘çŽ°dfn[6]==low[6]ï¼Œæ ˆé¡¶å…ƒç´ å‡ºæ ˆï¼Œæ ˆé¡¶å…ƒç´ æ­£å¥½æ—¶ç»“ç‚¹6ï¼Œæ— éœ€ç»§ç»­å‡ºæ ˆï¼Œåˆ™ç»“ç‚¹6è‡ªå·±ä¸ºä¸€ä¸ªå•ç‹¬çš„å¼ºè”é€šåˆ†é‡ã€‚ 1-&gt;2ï¼šdfn[2] = low[2] = 3ï¼›ç»“ç‚¹2è¿›æ ˆç»“ç‚¹2æœ‰å‡ºè¾¹ä¸”ä¸ºè®¿é—®ï¼Œå¼€å§‹dfsã€‚ 2-&gt;5ï¼šdfn[5] = low[5] = 4ï¼›ç»“ç‚¹5è¿›æ ˆç»“ç‚¹5æœ‰å‡ºè¾¹ä¸”æœªè®¿é—®ï¼Œç»§ç»­dfs 5-&gt;4ï¼šdfn[4] = low[4] = 5ï¼›ç»“ç‚¹4è¿›æ ˆç»“ç‚¹4æœ‰æœªè®¿é—®çš„å‡ºè¾¹ï¼Œç»§ç»­dfs 4-&gt;3ï¼šdfn[3] = low[3] = 6ï¼›ç»“ç‚¹3è¿›æ ˆç»“ç‚¹3æœ‰å‡ºè¾¹ï¼Œä½†ç»“ç‚¹2å·²ç»è®¿é—®è¿‡äº†ï¼Œä¸”ç»“ç‚¹2åœ¨æ ˆé‡Œé¢ï¼Œæ‰€ä»¥3å¯ä»¥å›žæº¯åˆ°ç»“ç‚¹2ï¼Œå¯çŸ¥dfn[2]=3, low[3]=6; æ‰€ä»¥low[3] = dfn[2] = 3; æ­¤æ—¶dfn[3]!=low[3]ï¼Œæ‰€ä»¥ä¸å‡ºæ ˆã€‚ å½“dfså›žæº¯åˆ°5-&gt;4çš„æ—¶å€™ï¼Œå‘çŽ°(low[4]=5) &gt; (low[3]=3)ï¼Œæ‰€ä»¥low[4] = 3; ä¾æ­¤ç±»æŽ¨low[5]=3;ä¸”ç›´åˆ°dfså›žæº¯åˆ°ç»“ç‚¹2çš„æ—¶å€™æ‰ä¼šè¿›è¡Œå‡ºæ ˆæ“ä½œï¼Œå› ä¸º2æ—¶å¼ºè¿žé€šåˆ†é‡çš„æ ¹èŠ‚ç‚¹ã€‚ ä¸éš¾çœ‹å‡ºï¼Œä¾æ¬¡å‡ºæ ˆçš„æ—¶3ã€4ã€5ã€2ï¼Œè¿™å››ä¸ªç»“ç‚¹ä¸ºä¸€ä¸ªå¼ºè¿žé€šåˆ†é‡ æœ€åŽdfså›žæº¯åˆ°æœ€å¼€å§‹çš„å…¥å£ï¼Œç»“ç‚¹1å‡ºæ ˆ ç”±æ­¤çš„å¼ºè¿žé€šåˆ†é‡æœ‰3ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼šï¼ˆ1ï¼‰ã€ï¼ˆ6ï¼‰ã€ï¼ˆ3ï¼Œ4ï¼Œ5ï¼Œ2ï¼‰ tarjanç®—æ³•æ¨¡æ¿é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859struct Edge&#123; int net; int to; int w;&#125;edge[maxn];int head[maxn], cnt=0;//1.void add_dege(int u, int v, int w)&#123; edge[cnt].to = v; edge[cnt].net = head[u]; edge[cnt].w = w; head[u] = cnt++;&#125;int dfn[maxn], low[maxn], belong[maxn];//2.int index=0, Bcnt;//3.bool instack[maxn];stack&lt;int&gt; s;void tarjan(int u)&#123; dfn[u] = low[u] = ++index; s.push(u);instack[u] = true; for(int i=head[u]; i!=-1; i=edge[i].net) &#123; int v = edge[i].to; if(!dfn[v]) &#123; tarjan(v); low[u] = min(low[v], low[u]); &#125; else if(instack[v] &amp;&amp; dfn[v]&lt;low[u]) low[u] = dfn[v]; &#125; if(dfn[u]==low[u]) &#123; Bcnt++;int v; do &#123; v = s.top(); s.pop(); belong[v] = Bcnt; instack[v] = false; &#125;while(v!=u); &#125;&#125;void solve()&#123; Bcnt = index = 0; memset(dfn, 0, sizeof dfn); while(!s.empty())s.pop(); for(int i=0; i&lt;n; i++)//4. if(!dfn[i])//5. tarjan(i);&#125; head[u]è®°å¾—åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–ä¸º-1ã€‚ belongæ•°ç»„å€¼ç›¸åŒçš„ç»“ç‚¹å±žäºŽåŒä¸€ä¸ªå¼ºè¿žé€šåˆ†é‡ã€‚ Bcntç”¨äºŽåˆ’åˆ†å¼ºè¿žé€šåˆ†é‡ è¦ä»Žæ¯ä¸ªç»“ç‚¹éƒ½è¿›è¡Œä¸€æ¬¡tarjanï¼Œå¦åˆ™æœ‰äº›ä¸å¯è¾¾ç»“ç‚¹å°±æ— æ³•åˆ’åˆ†å¼ºè”é€šåˆ†é‡ï¼Œnä¸ºç»“ç‚¹æ•° dfnæ•°ç»„åˆå§‹åŒ–ä¸º0ï¼Œå½“dfn[u]çš„å€¼ä¸ä¸º0çš„æ—¶å€™åˆ™è¯´æ˜Žè¢«è®¿é—®è¿‡äº† é‚»æŽ¥çŸ©é˜µæ¨¡æ¿12345678910111213141516171819202122232425262728293031323334353637383940414243444546int mp[maxn][maxn];//1.int dfn[maxn], low[maxn], belong[maxn];int index=0, Bcnt;bool instack[maxn];stack&lt;int&gt; s;void tarjan(int u)&#123; dfn[u] = low[u] = ++index; s.push(u);instack[u] = true; for(int v=0; v&lt;n; v++)//2. &#123; if(mp[u][v]==-1) continue; if(!dfn[v]) &#123; tarjan(v); low[u] = min(low[v], low[u]); &#125; else if(instack[v] &amp;&amp; dfn[v]&lt;low[u]) low[u] = dfn[v]; &#125; if(dfn[u]==low[u]) &#123; Bcnt++; int v; do &#123; v = s.top(); s.pop(); belong[v] = Bcnt; instack[v] = false; &#125;while(v!=u); &#125;&#125;void solve()&#123; Bcnt = index = 0; memset(dfn, 0, sizeof dfn); while(!s.empty())s.pop(); for(int i=0; i&lt;n; i++) if(!dfn[i]) tarjan(i);&#125; é‚»æŽ¥çŸ©é˜µï¼Œå½“å€¼ä¸º-1æ—¶è¡¨ç¤ºä¸è¿žé€š nä¸ºç»“ç‚¹æ•° é‚»æŽ¥è¡¨æ¨¡æ¿1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253vector&lt;pair&lt;int, int&gt; &gt; G[maxn];//1.int dfn[maxn], low[maxn], belong[maxn];int index=0, Bcnt;bool instack[maxn];stack&lt;int&gt; s;void add_eage(int u, int v, int w)&#123; G[u].push_back(make_pair(w, v)); //G[v].push_back(make_pair(w, u));&#125;void tarjan(int u)&#123; dfn[u] = low[u] = ++index; s.push(u);instack[u] = true; for(int i=0; i&lt;G[u].size(); i++) &#123; int v = G[u][i].second; if(!dfn[v]) &#123; tarjan(v); low[u] = min(low[v], low[u]); &#125; else if(instack[v] &amp;&amp; dfn[v]&lt;low[u]) low[u] = dfn[v]; &#125; if(dfn[u]==low[u]) &#123; Bcnt++; int v; do &#123; v = s.top(); s.pop(); belong[v] = Bcnt; instack[v] = false; &#125;while(v!=u); &#125;&#125;void solve()&#123; for(int i=0; i&lt;n; i++)//2. G[i].clear(); Bcnt = index = 0; memset(dfn, 0, sizeof dfn); while(!s.empty())s.pop(); for(int i=0; i&lt;n; i++) if(!dfn[i]) tarjan(i);&#125; ç”¨vectorå’Œpairå®žçŽ°é‚»æŽ¥è¡¨ï¼Œpairçš„firstä¸ºè·¯å¾„æƒé‡ï¼Œpairçš„secondä¸ºå¦ä¸€ç«¯ç»“ç‚¹ åˆå§‹åŒ–é‚»æŽ¥è¡¨ ä¾‹é¢˜HDU1269é¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªå›¾ï¼Œè®©ä½ åˆ¤æ–­è¿™ä¸ªå›¾æ˜¯ä¸æ˜¯ä¸€æ•´ä¸ªå¼ºè¿žé€šåˆ†é‡ é¢˜è§£ï¼šæ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œtarjanæ¨¡æ¿é¢˜ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æœ‰çš„èƒ½ç»™çš„å›¾åªæœ‰ç‚¹æ²¡æœ‰è¾¹ï¼Œæ‰€ä»¥ç»“æŸæ¡ä»¶éœ€è¦æ—¶må’ŒnåŒæ—¶ä¸º0æ—¶æ‰è¡Œã€‚ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e5+10;struct Edge&#123; int to, net;&#125;edge[maxn];int head[maxn], cnt=0;int dfn[maxn], low[maxn], index, Bcnt, n, m, belong[maxn];bool instack[maxn];stack&lt;int&gt; s;void addedge(int u, int v)&#123; edge[cnt].to = v; edge[cnt].net = head[u]; head[u] = cnt++;&#125;void init()&#123; cnt = index = Bcnt = 0; memset(dfn, 0, sizeof dfn); memset(low, 0, sizeof low); memset(head, -1, sizeof head); memset(instack, 0, sizeof instack); memset(belong, 0, sizeof belong); while(!s.empty())s.pop();&#125;void tarjan(int u)&#123; dfn[u] = low[u] = ++index; instack[u] = true; s.push(u); int v; for(int i = head[u]; i!=-1; i=edge[i].net) &#123; v = edge[i].to; if(!dfn[v]) &#123; tarjan(v); if(low[v]&lt;low[u]) low[u] = low[v]; &#125; else if(instack[v] &amp;&amp; dfn[v]&lt;low[u]) low[u] = dfn[v]; &#125; if(dfn[u]==low[u]) &#123; Bcnt++; do &#123; v = s.top(); s.pop(); belong[v] = Bcnt; instack[v] = false; &#125;while(u!=v); &#125;&#125;int main()&#123; while(cin &gt;&gt;n &gt;&gt;m &amp;&amp; n+m) &#123; init(); for(int i=0; i&lt;m; i++) &#123; int u, v; cin &gt;&gt;u &gt;&gt;v; addedge(u, v); &#125; for(int i=1; i&lt;=n; i++) if(!dfn[i]) tarjan(i); int flag = belong[1]; bool f = true; for(int i=1; i&lt;=n; i++) if(belong[i]!=flag) f = false; if(!f) cout &lt;&lt;"No" &lt;&lt;endl; else cout &lt;&lt;"Yes" &lt;&lt;endl; &#125; return 0;&#125; HDU1827é¢˜æ„ï¼šç»™ä½ ä¸€äº›äººçš„è”ç³»æ–¹å¼ï¼Œä½†æ˜¯è¿™ç§è”ç³»æ–¹å¼æ—¶æœ‰å‘çš„ï¼Œå³xå¯ä»¥è”ç³»yä¸ä»£è¡¨yå¯ä»¥è”ç³»åˆ°xï¼Œå…¶å®žå°±æ˜¯æœ‰å‘å›¾ã€‚ä¹Ÿç»™å‡ºä½ è”ç³»æ¯ä¸ªäººçš„èŠ±è´¹ï¼Œå¦‚æžœå¯ä»¥è®©åˆ«äººå¸®å¿™è”ç³»ï¼Œå°±å¯ä»¥ä¸éœ€è¦èŠ±è´¹è¯è´¹ã€‚æ±‚æœ€å°‘éœ€è¦è”ç³»å¤šå°‘äººå’ŒèŠ±è´¹å¤šå°‘è¯è´¹ã€‚ é¢˜è§£ï¼šè¿™é“é¢˜æ²¡æœ‰é‚£ä¹ˆç›´æŽ¥ï¼Œä½†æ˜¯ä¹Ÿèƒ½çœ‹å‡ºå’Œå¼ºè¿žé€šåˆ†é‡æœ‰å…³ã€‚è¿™é“é¢˜è¦æ±‚çš„æ˜¯æ²¡æœ‰å…¥è¾¹çš„å¼ºè¿žé€šåˆ†é‡çš„ä¸ªæ•°ï¼Œå¹¶ä¸”æ±‚å‡ºè¿™äº›æ²¡æœ‰å…¥è¾¹çš„å¼ºè”é€šåˆ†é‡ä¸­èŠ±è´¹æœ€å°çš„äººã€‚ä¸ºä»€ä¹ˆæ˜¯æ²¡æœ‰å…¥è¾¹çš„å¼ºè¿žé€šåˆ†é‡è€Œä¸æ˜¯å¼ºè¿žé€šåˆ†é‡ï¼Œå› ä¸ºæœ‰å¦‚å…¥è¾¹çš„å¼ºè”é€šåˆ†é‡å¯ä»¥è¢«å…¶ä»–äººé€šçŸ¥åˆ°ï¼Œå°±ä¸éœ€è¦ä½ å†äº²è‡ªé€šçŸ¥äº†ã€‚ï¼ˆä¸€å¼€å§‹æˆ‘ç†è§£æˆå¼ºè¿žé€šåˆ†é‡çš„ä¸ªæ•°äº†(&gt;_&lt;) ï¼‰è¿™é¢˜è¦ç”¨scnafå’Œprintfï¼Œä¸èƒ½ç”¨cinå’Œcoutï¼Œæ•°æ®é‡å¤§ï¼Œä¼šè¶…æ—¶ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e4+10;const int INF = 1&lt;&lt;30;struct Edge&#123; int to, net;&#125; edge[maxn];int head[maxn], cnt=0;int dfn[maxn], low[maxn], index, Bcnt, n, m, belong[maxn], fee[maxn], cost[maxn], ans;bool instack[maxn], in[maxn];//1.stack&lt;int&gt; s;void addedge(int u, int v)&#123; edge[cnt].to = v; edge[cnt].net = head[u]; head[u] = cnt++;&#125;void init()&#123; cnt = index = ans = Bcnt = 0; memset(dfn, 0, sizeof dfn); memset(low, 0, sizeof low); memset(head, -1, sizeof head); memset(instack, 0, sizeof instack); memset(belong, 0, sizeof belong); memset(in, 0, sizeof in); for(int i=0; i&lt;maxn; i++) cost[i]=INF; memset(fee, 0, sizeof fee); while(!s.empty()) s.pop();&#125;void tarjan(int u)&#123; dfn[u] = low[u] = ++index; instack[u] = true; s.push(u); int v; for(int i = head[u]; i!=-1; i=edge[i].net) &#123; v = edge[i].to; if(!dfn[v]) &#123; tarjan(v); if(low[v]&lt;low[u]) low[u] = low[v]; &#125; else if(instack[v] &amp;&amp; dfn[v]&lt;low[u]) low[u] = dfn[v]; &#125; if(dfn[u]==low[u]) &#123; Bcnt++; do &#123; v = s.top(); s.pop(); belong[v] = Bcnt; instack[v] = false; &#125; while(u!=v); &#125;&#125;int main()&#123; while(scanf("%d%d", &amp;n, &amp;m) != EOF) &#123; init(); for(int i=1; i&lt;=n; i++) scanf("%d", &amp;fee[i]); for(int i=0; i&lt;m; i++) &#123; int u, v; scanf("%d%d", &amp;u, &amp;v); addedge(u, v); &#125; for(int i=1; i&lt;=n; i++) if(!dfn[i]) tarjan(i); int cnt=Bcnt; for(int i=1; i&lt;=n; i++)//2. for(int j=head[i]; j!=-1; j=edge[j].net) if(belong[i]!=belong[edge[j].to] &amp;&amp; !in[belong[edge[j].to]]) &#123; in[belong[edge[j].to]] = true; cnt--; &#125; for(int i=1; i&lt;=n; i++)//3. if(!in[belong[i]]) cost[belong[i]] = min(cost[belong[i]], fee[i]); for(int i=1; i&lt;=Bcnt; i++) if(!in[i]) ans+=cost[i]; printf("%d %d\n", cnt, ans); &#125; return 0;&#125; inæ•°ç»„è¡¨ç¤ºè¯¥å¼ºè¿žé€šåˆ†é‡æ˜¯å¦æœ‰å…¥è¾¹ï¼Œä¸ºtrueåˆ™æœ‰ï¼Œfalseåˆ™æ²¡æœ‰ã€‚ è¿™ä¸ªforå¾ªçŽ¯æ±‚å‡ºæœ‰å…¥è¾¹çš„å¼ºè¿žé€šåˆ†é‡ï¼Œå³çœ‹çœ‹æ¯ä¸ªç‚¹çš„å…¥è¾¹æ˜¯å¦å’Œè‡ªå·±åœ¨åŒä¸€ä¸ªå¼ºè¿žé€šåˆ†é‡ä¸­å³å¯ã€‚cntä¸ºæ²¡æœ‰å…¥è¾¹çš„ä¸ªæ•°ã€‚ æ±‚å‡ºæ²¡æœ‰å…¥è¾¹çš„å¼ºè¿žé€šåˆ†é‡ä¸­çš„æœ€å°èŠ±è´¹ï¼Œcost[i]ä»£è¡¨ç¬¬iä¸ªå¼ºè¿žé€šåˆ†é‡çš„èŠ±è´¹ å‚è€ƒï¼š BYVoidæœ‰å‘å›¾å¼ºè¿žé€šåˆ†é‡çš„tarjanç®—æ³•]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å›¾è®º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·®åˆ†çº¦æŸ]]></title>
    <url>%2F2019%2F08%2F01%2F%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F%2F</url>
    <content type="text"><![CDATA[å·®åˆ†çº¦æŸå·®åˆ†çº¦æŸç³»ç»Ÿæ˜¯æ±‚è§£ä¸€ç»„ç‰¹æ®Šçš„ä¸ç­‰å¼ç»„çš„æ–¹æ³•ã€‚ å·®åˆ†çº¦æŸä¸¾ä¾‹å·®åˆ†çº¦æŸæ˜¯æœ‰nä¸ªå˜é‡å’Œmä¸ªä¸ç­‰å¼ç»„æˆçš„ã€‚å…¶ä¸­æ¯ä¸ªä¸ç­‰å¼éƒ½æ˜¯å½¢å¦‚ï¼š$x_i-x_j \leq b_k(i,j\in[1,n], k\in[1,m])$ æˆ– $x_i-x_j \geq b_k(i,j\in[1,n], k\in[1,m])$ ã€‚ å…¶ä¸­xä¸ºnä¸ªå˜é‡ï¼Œbä¸ºmä¸ªä¸ç­‰å¼å³è¾¹çš„å€¼ï¼Œç”¨bçš„å€¼æ¥çº¦æŸxçš„å·®ç§°ä¸ºå·®åˆ†çº¦æŸã€‚æ±‚ä¸€ç»„è§£ï¼š$x_1=a_1,\quad x_2=a_2,\cdots x_n=a_n$ä½¿å¾—æ‰€æœ‰çº¦æŸæ¡ä»¶(å³mä¸ªä¸ç­‰å¼)å‡æˆç«‹ï¼Œåˆ™ç§°å·®åˆ†çº¦æŸæœ‰è§£ï¼Œå¦åˆ™æ— è§£ã€‚ ä¾‹å¦‚ï¼š$$(1)x_1-x_3 \leq 5;\quad(2)x_3-x_5 \leq 4;\quad$$$$(3)x_3-x_2 \leq 1;\quad(4)x_1-x_5 \leq 10;\quad(5)x_2-x_5 \leq 2;\quad$$ è§‚å¯Ÿ$ x_1-x_5 $çš„å…³ç³»ï¼Œæœ‰å¦‚ä¸‹ä¸‰ç§å…³ç³»ï¼š (4) $x_1-x_5 \leq 10$ (1)+(2) $x_1-x_5 \leq 9$ (1)+(3)+(5) $x_1-x_5 \leq 8 $ å› ä¸ºè¦æ»¡è¶³æ‰€æœ‰ç­‰å¼çš„å…³ç³»ï¼Œæ‰€ä»¥å–å…¶ä¸­æœ€å¤§çš„3.$x_1-x_5 \leq 8$ å› ä¸º8ä¸€å®šå°äºŽ9å’Œ10å˜›ï¼Œå¦‚æžœ$x_1-x_5$å°äºŽç­‰äºŽ8äº†ï¼Œé‚£ä»–ä»¬ä¸€å®šå°äºŽç­‰äºŽ9å’Œ10ã€‚ æœ€çŸ­è·¯é—®é¢˜è§‚å¯Ÿå¯å‘çŽ° $x_i-x_j \leq b_k$ å¯è½¬æ¢ä¸ºï¼š$x_i \leq b_k+x_j$ ã€‚ä¸Žæ±‚æœ€çŸ­è·¯å…¬å¼ä¸­çš„dis[j]&lt;dis[i]+w[i, j]éžå¸¸ç›¸ä¼¼ï¼Œé‚£å·®åˆ†çº¦æŸé—®é¢˜æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥è½¬åŒ–æˆæœ€çŸ­è·¯é—®é¢˜æ¥æ±‚è§£å‘¢ï¼Ÿè‚¯å®šæ˜¯å¯ä»¥çš„ï¼å…ˆæ¥çœ‹ä¸ªä¾‹å­ï¼š ä»”ç»†è§‚å¯Ÿå›¾ä¸­å¯å‘çŽ°æ€»å…±æœ‰ä¸‰æ¡è·¯å¾„ï¼š 5 -&gt; 1 é•¿åº¦ä¸º10 5 -&gt; 3 -&gt; 1 é•¿åº¦ä¸º9 5 -&gt; 2 -&gt; 3 -&gt; 1 é•¿åº¦ä¸º8 å¾ˆå®¹æ˜“å‘çŽ°ä»Ž5åˆ°1çš„æœ€çŸ­è·¯å¾„æ˜¯8ã€‚é‚£ä¸ºä»€ä¹ˆæ±‚å·®åˆ†çº¦æŸé—®é¢˜èƒ½å’Œæœ€çŸ­è·¯é—®é¢˜è”ç³»åˆ°ä¸€èµ·å‘¢ï¼Ÿæ­¤å¤„è¦å…ˆäº†è§£æœ€çŸ­è·¯çŸ¥è¯†ï¼Œä¸æ‡‚çš„å¯ä»¥çœ‹ä¸€çœ‹æˆ‘å‰é¢å†™çš„åšå®¢ï¼š1.dijkstra 2.SPFA 3.Floyd å·®åˆ†çº¦æŸå’Œæœ€çŸ­è·¯é—®é¢˜å¯¹äºŽæ¯ä¸ªä¸ç­‰å¼$x_i-x_j \leq b_k$ï¼Œæˆ‘ä»¬éƒ½ä»Žç»“ç‚¹jå‘ç»“ç‚¹iè¿žä¸€æ¡é•¿åº¦ä¸º$b_k$çš„æœ‰å‘è¾¹ã€‚æ­¤æ—¶å†çœ‹ä¸Šé¢ç»™å‡ºçš„é‚£äº›ä¸ç­‰å¼æ‰€è½¬åŒ–æˆçš„å›¾ï¼Œæ˜¯å¦å’Œç»™å‡ºçš„å›¾ä¸€æ ·å‘¢ï¼Œæœ€åŽæ±‚è§£çš„ç­”æ¡ˆä¹Ÿä¸€æ ·ã€‚é‚£ä¹ˆæˆ‘ä»¬å°†å·®åˆ†çº¦æŸé—®é¢˜è½¬åŒ–æˆæœ€çŸ­è·¯é—®é¢˜ï¼Œç”±æœ€çŸ­è·¯çŸ¥è¯†å¯çŸ¥ï¼Œå½“å›¾ä¸­å­˜åœ¨å¯è¾¾åˆ°çš„è´ŸçŽ¯æ—¶ï¼Œæœ€çŸ­è·¯ä¸€å®šæ— è§£ã€‚æ‰€ä»¥å¯ä»¥ç”¨SPFAæ¥åˆ¤æ–­è¯¥å·®åˆ†çº¦æŸé—®é¢˜æ˜¯å¦æœ‰è§£ã€‚ è¿™æ—¶å€™å°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œåœ¨æœ€çŸ­è·¯ä¸­æœ‰äº›ç‚¹æ˜¯ä¸å¯è¾¾çš„ï¼Œå½“é‡åˆ°ä¸å¯è¾¾çš„è´ŸçŽ¯ç”¨SPFAä¸€å®šåˆ¤æ–­ä¸å‡ºæ¥ï¼Œä½†æ­¤æ—¶å·®åˆ†çº¦æŸå´æ˜¯æ— è§£çš„ã€‚æ€Žä¹ˆåŠžå‘¢ï¼Ÿæœ‰ä¸¤ç§æ–¹æ³•ï¼Œå…¶å®žæœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ï¼š æˆ‘ä»¬æ–°å®šä¹‰ä¸€ä¸ªç»“ç‚¹ï¼Œå¯ä»¥æ˜¯$x_0$ï¼Œè®©å®ƒå‘æ‰€æœ‰å…¶å®ƒç»“ç‚¹è¿žä¸€æ¡è¾¹ï¼Œè®©è¿™äº›è¾¹çš„æƒå€¼ä¸º0ã€‚å› ä¸ºSPFAæ˜¯ä¸€ä¸ªbfsçš„è¿‡ç¨‹(æœ‰äº›é¢˜ç›®éœ€è¦æŠŠspfaæ”¹æˆdfsçš„å½¢å¼ï¼Œä½†æ˜¯å¹¶ä¸å½±å“å®ƒè®¿é—®çš„ç»“ç‚¹ä¸ªæ•°ï¼Œåªæ˜¯è®¿é—®é¡ºåºä¸ä¸€æ ·)ï¼Œæ‰€ä»¥ä»Žè¿™ä¸ªç»“ç‚¹å‡ºå‘ä¸€å®šèƒ½åˆ°è¾¾æ‰€æœ‰ç»“ç‚¹ï¼Œè€Œä¸”ä¸ä¼šå½±å“ç»“æžœçš„æ­£ç¡®æ€§ã€‚ ç¬¬äºŒç§æ–¹æ³•å°±æ¯”è¾ƒæš´åŠ›äº†ï¼ŒçŽ°åœ¨é—®é¢˜æ˜¯æœ‰çš„ç»“ç‚¹è®¿é—®ä¸åˆ°æ€Žä¹ˆåŠžï¼Œspfaåˆæ˜¯æ±‚å•æºæœ€çŸ­è·¯ï¼Œé‚£æˆ‘ä»¬ç›´æŽ¥ä¸€ä¸ªforå¾ªçŽ¯ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½å½“ä¸€æ¬¡æºç‚¹ï¼Œæ±‚næ¬¡å•æºæœ€çŸ­è·¯ï¼Œè¿™æ ·å°±èƒ½è®¿é—®åˆ°æ‰€æœ‰ç»“ç‚¹äº†ã€‚ ä¸¤ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æˆ‘ä¸å¤ªä¼šåˆ†æžï¼Œä½†æ˜¯æ„Ÿè§‰å¥½åƒå·®ä¸å¤šä¸€æ ·çš„ã€‚ å˜åŒ–æŠ€å·§ä¸ç­‰å¼è½¬åŒ–æœ‰æ—¶å€™é¢˜ä¸­ä¼šç»™å‡ºä¸‰ç§ä¸ç­‰å¼ï¼Œä½†æ˜¯æ±‚æœ€çŸ­è·¯åªèƒ½æœ‰ä¸€ç§ä¸ç­‰å¼ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥æŠŠå…¶ä»–ä¸ç­‰å¼å˜åŒ–æˆä¸€æ ·çš„ä¸ç­‰å¼ï¼Œè¿›è€Œè½¬åŒ–æˆå›¾ã€‚ é¢˜æ„ è½¬åŒ– è¿žè¾¹ $x_i-x_j \leq b_k$ $x_i-x_j \leq b_k$ add(j, i, $b_k$) $x_i-x_j \geq b_k $ $x_j-x_i \leq -b_k$ add(i, j, -$b_k$) $x_i=x_j$ $x_i-x_j \leq 0$, $x_j-x_i \leq 0$ add(i, j, 0), add(j, i, 0) æœ€çŸ­è·¯ä¸Žæœ€é•¿è·¯å’Œå·®åˆ†çº¦æŸçš„å…³ç³»æœ‰æœ€çŸ­è·¯äº†ä¸€å®šä¹Ÿæœ‰æœ€é•¿è·¯ï¼Œé‚£ä»–ä»¬å’Œå·®åˆ†çº¦æŸæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ å½“æˆ‘ä»¬è¦æ±‚å·®åˆ†çº¦æŸçš„æœ€å°å€¼æ—¶ï¼Œä¸€å®šå¸Œæœ›æ‰€æœ‰ä¸ç­‰å¼éƒ½æ˜¯å¤§äºŽç­‰äºŽå·ï¼Œè¿™æ ·æ±‚å‡ºæ¥çš„ä¸€å®šæ˜¯æœ€å°å€¼ã€‚ä½†æ˜¯å½“æˆ‘ä»¬æœ‰mä¸ªçº¦æŸæ¡ä»¶ï¼ˆå³ä¸ç­‰å¼ï¼‰ï¼Œæˆ‘ä»¬æƒ³è¦æ»¡è¶³æ‰€æœ‰å¤§äºŽç­‰äºŽçš„ä¸ç­‰å¼ï¼Œæˆ‘ä»¬ä¸€å®šå¾—æ‰¾åˆ°æ‰€æœ‰$ b_k $ä¸­æœ€å¤§çš„é‚£ä¸€ä¸ªï¼Œè¿™æ ·å¦‚æžœæ»¡è¶³äº†æœ€å¤§çš„é‚£ä¸ª$ b_k $ä¸ç­‰å¼ï¼Œå…¶ä»–çš„å¤§äºŽç­‰äºŽä¸ç­‰å¼ä¹Ÿä¸€å®šéƒ½æ»¡è¶³äº†ã€‚æ‰€ä»¥æ±‚$x_i-x_j$çš„æœ€å°å€¼ï¼Œå°±æ˜¯æ±‚å›¾ä¸­çš„æœ€é•¿è·¯ã€‚æ‰€ä»¥ï¼Œæ±‚æœ€é•¿è·¯å°±æ˜¯æ±‚å·®åˆ†çº¦æŸä¸­çš„æœ€å°å€¼ã€‚æ±‚æœ€é•¿è·¯çš„æ—¶å€™æœ‰æ­£çŽ¯åˆ™æ— è§£ã€‚ åŒç†æ±‚æœ€çŸ­è·¯å°±æ˜¯æ±‚å·®åˆ†çº¦æŸçš„æœ€å¤§å€¼ã€‚æ±‚æœ€çŸ­è·¯çš„æ—¶å€™æœ‰è´ŸçŽ¯åˆ™æ— è§£ã€‚ ä»€ä¹ˆï¼Ÿä½ é—®æˆ‘æœ€é•¿è·¯æ€Žä¹ˆæ±‚ï¼ŸæŠŠæœ€çŸ­è·¯ç®—æ³•ä¸­çš„å°äºŽå·æ”¹æˆå¤§äºŽå·ä¸å°±è¡Œäº†ã€‚ ä¾‹é¢˜æ´›è°·P1993 å‚è€ƒ å¤œæ·±äººé™å†™ç®—æ³•ï¼ˆå››ï¼‰- æœ€çŸ­è·¯å’Œå·®åˆ†çº¦æŸ OI-WiKiï¼ˆä¸€ä¸ªç®—æ³•ç«žèµ›çš„ç™¾ç§‘ï¼‰ ç»´åŸºç™¾ç§‘ï¼šå·®åˆ†çº¦æŸç³»ç»Ÿ P1993å°Kçš„å†œåœº é¢˜è§£]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å›¾è®º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å›¾çš„è¾¹å­˜å‚¨--é“¾å¼å‰å‘æ˜Ÿ]]></title>
    <url>%2F2019%2F07%2F31%2F%E5%9B%BE%E7%9A%84%E8%BE%B9%E5%AD%98%E5%82%A8-%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F%2F</url>
    <content type="text"><![CDATA[å›¾çš„è¾¹å­˜å‚¨â€“é“¾å¼å‰å‘æ˜Ÿé“¾å¼å‰å‘æ˜Ÿæ˜¯åœ¨çœ‹å·®åˆ†çº¦æŸçš„é¢˜çš„æ—¶å€™å¶ç„¶é—´çœ‹åˆ°çš„ï¼Œä¸€å¼€å§‹æ²¡å¤ªé‡è§†å®ƒï¼Œæ„Ÿè§‰å¥½åƒæ²¡æ€Žä¹ˆå¬è¯´è¿‡ã€‚è¿˜è¦å®šä¹‰ç»“æž„ä½“ï¼Œè€Œä¸”éœ€è¦è¾…åŠ©æ•°ç»„ï¼Œæ„Ÿè§‰æŒºéº»çƒ¦çš„ã€‚è¿˜ä¸å¦‚ç›´æŽ¥ç”¨STLçš„vector+pairå®šä¹‰çš„é‚»æŽ¥è¡¨å¥½ç”¨ã€‚ä½†æ˜¯åŽæ¥å‘çŽ°å¤§å®¶å†™SPFAçš„æ—¶å€™éƒ½ç”¨çš„é“¾å¼å‰å‘æ˜Ÿï¼Œæ„Ÿè§‰è¿˜æ˜¯å†™ä¸ªåšå®¢å­¦ä¹ ä¸€ä¸‹å§ï¼Œä»¥å‰éƒ½æ²¡å¬è¯´è¿‡ï¼Œå¤ªèœäº†ã€‚ã€‚ã€‚ è¾¹å­˜å‚¨ç»“æž„å­˜çš„éƒ½æ˜¯æœ‰å‘è¾¹ï¼ï¼ï¼ ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ é€‚ç”¨èŒƒå›´å¹¿ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰å›¾è®ºçš„é¢˜éƒ½èƒ½ç”¨é“¾å¼å‰å‘æ˜Ÿæ¥å­˜å‚¨ã€‚ å­˜å‚¨æ•ˆçŽ‡é«˜ï¼Œåƒé‚»æŽ¥è¡¨ä¸€æ ·ä¸ä¼šå­˜å‚¨ä¸å­˜åœ¨çš„è¾¹ å¯ä»¥ç”¨æ¥æ›¿ä»£é‚»æŽ¥è¡¨ï¼Œç”¨vectorå®žçŽ°é‚»æŽ¥è¡¨å¥½åƒå®¹æ˜“çˆ†å†…å­˜(çœ‹åˆ«äººè¯´çš„)å¥½åƒä¹Ÿç¡®å®žï¼Œvectoråœ¨å®¹é‡ä¸å¤Ÿæ—¶ä¼šé‡æ–°å¼€è¾Ÿä¸€ä¸ªä¸¤å€äºŽåŽŸæ¥å¤§å°çš„æ•°ç»„ã€‚ ç¼ºç‚¹ é‚»æŽ¥è¡¨çš„ç¼ºç‚¹å®ƒéƒ½æœ‰ï¼Œ æ— æ³•åˆ¤æ–­é‡è¾¹(å¿…é¡»éåŽ†æŸ¥æ‰¾) æ— æ³•æ“ä½œæŸä¸ªç‰¹å®šçš„è¾¹(å¿…é¡»éåŽ†æŸ¥æ‰¾) ç›¸å¯¹äºŽé‚»æŽ¥çŸ©é˜µæ¥è¯´ä¸å®¹æ˜“å®žçŽ°å’Œç†è§£ ä»£ç å®žçŽ°1234567891011121314151617struct Edge&#123; int net;//1. int to; int w;&#125;edge[maxn];int head[maxn], cnt=0;//2.void add_dege(int u, int v, int w)&#123; edge[cnt].to = v; edge[cnt].net = head[u];//3. edge[cnt].w = w; head[u] = cnt++;&#125;for(int i=head[u]; i!=-1; i=edge[i].net)//4. æ³¨é‡Šï¼š netæ˜¯nextï¼Œæœ‰æ—¶å€™å®šä¹‰nextå¯èƒ½ä¼šå’Œç³»ç»Ÿå…³é”®å­—é‡å¤ï¼Œæ‰€ä»¥å®šä¹‰ä¸ºnetã€‚netæŒ‡å‘å½“å‰è¾¹çš„å‡ºå‘ç»“ç‚¹çš„ä¸‹ä¸€æ¡è¾¹åœ¨edgeæ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚SPFAæ˜¯ä¸€ä¸ªbfsçš„è¿‡ç¨‹ï¼Œè¿›è¡Œå¹¿æœæ—¶ä¼šå…ˆéåŽ†æŸä¸ªé¡¶ç‚¹çš„æ‰€æœ‰å‡ºè¾¹ï¼Œnetå³æŒ‡å‘å½“å‰ç»“ç‚¹çš„ä¸‹ä¸€æ¡å‡ºè¾¹ã€‚toå³å½“å‰è¾¹çš„å°¾ç»“ç‚¹ã€‚wå³æƒé‡ã€‚ head[u]å³å­˜å‚¨uç»“ç‚¹çš„ç¬¬ä¸€ä¸ªå‡ºè¾¹åœ¨edgeæ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚cntå³è®°å½•å½“å‰å­˜å‚¨åˆ°edgeæ•°ç»„çš„ç¬¬å‡ ä½äº†ï¼Œç”¨æ¥è®¾ç½®æ•°ç»„ä¸‹æ ‡ã€‚ é“¾å¼å‰å‘æ˜Ÿæ˜¯åç€å­˜å‚¨çš„ï¼Œå³å…ˆè¾“å…¥çš„è¾¹å­˜åœ¨åŽé¢ï¼Œæœ‰äº›ç±»ä¼¼äºŽæ ˆï¼ŒåŽè¿›å…ˆå‡ºã€‚å½“açš„ç¬¬ä¸€æ¡å‡ºè¾¹å­˜å…¥edgeæ•°ç»„ä¸­ï¼Œnetç­‰äºŽhead[u]ï¼Œå³-1ã€‚(æ‰€æœ‰headåˆå§‹åŒ–ä¸º-1ï¼Œ-1è¡¨ç¤ºæ²¡æœ‰è¾¹å­˜å…¥)ä¹‹åŽhead[u]è¢«èµ‹å€¼ä¸ºcntï¼Œå³åˆšè¾“å…¥çš„é‚£æ¡è¾¹åœ¨edgeæ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚å½“açš„ç¬¬äºŒæ¡è¾¹å­˜å…¥edgeæ•°ç»„æ—¶ï¼Œnetç­‰äºŽhead[u]ï¼Œæ­¤æ—¶head[u]å­˜çš„æ˜¯ä¸Šä¸€æ¬¡å­˜å‚¨ä»¥uä¸ºå‡ºè¾¹çš„è¾¹åœ¨edgeæ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚æ¯æ¬¡head[u]å­˜å‚¨çš„éƒ½æ˜¯ä¸Šä¸€ä¸ªuçš„è¾¹ï¼Œæ‰€ä»¥éåŽ†çš„æ—¶å€™æ˜¯å…ˆéåŽ†æœ€åŽè¾“å…¥uçš„è¾¹ã€‚ é“¾å¼å‰å‘æ˜ŸéåŽ†ç»“ç‚¹uæ‰€æœ‰å‡ºè¾¹çš„æ–¹æ³•ï¼Œå½“ç­‰äºŽ-1æ—¶è¡¨ç¤ºæ²¡æœ‰ä¸‹ä¸€æ¡è¾¹äº†ï¼ŒéåŽ†ç»“æŸã€‚ ä¸¾ä¾‹ è¾“å…¥é¡ºåºä¸ºï¼š u = 0 v = 1 u = 1 v = 3 u = 0 v = 2 u = 2 v = 3 u = 1 v = 2 u = 3 v = 4 u = 4 v = 2 æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹ edge[0].to = 1 edge[0].net = -1 head[0] = 0 cnt = 0 edge[1].to = 3 edge[1].net = -1 head[1] = 0 cnt = 1 edge[2].to = 2 edge[2].net = 0 head[0] = 2 cnt = 2 edge[3].to = 3 edge[3].net = -1 head[2] = 0 cnt = 3 edge[4].to = 2 edge[4].net = 0 head[1] = 4 cnt = 4 edge[5].to = 4 edge[5].net = -1 head[3] = 5 cnt = 5 edge[6].to = 2 edge[6].net = -1 head[4] = 6 cnt = 6 ä¸Šå›¾ä¸­0çš„å‡ºè¾¹æœ‰ä¸¤æ¡ï¼Œåœ¨edgeæ•°ç»„ä¸­çš„å­˜å‚¨ä½ç½®åˆ†åˆ«ä¸º0ã€2ï¼Œæœ€åŽhead[0] = 2ï¼›å½“éåŽ†ä»¥0ä¸ºèµ·ç‚¹çš„è¾¹æ—¶ï¼Œå…ˆä»Žedge[2]å¼€å§‹éåŽ†ï¼Œå¯å‘çŽ°edge[2].net = 0;å³ä»¥0ä¸ºèµ·ç‚¹çš„æœ€åŽä¸€æ¡è¾¹ã€‚å¯çœ‹å‡ºï¼ŒéåŽ†å’Œè¾“å…¥é¡ºåºæ˜¯ç›¸åçš„ï¼Œä½†æ˜¯å¹¶ä¸å½±å“ç»“æžœã€‚ å‚è€ƒ ä¸çŸ¥é“ä¸ºä»€ä¹ˆ404äº† ACMå›¾è®ºä¹‹å­˜å›¾æ–¹å¼]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å›¾çš„å­˜å‚¨</tag>
        <tag>å›¾è®º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ€çŸ­è·¯--Floyd]]></title>
    <url>%2F2019%2F07%2F30%2F%E6%9C%80%E7%9F%AD%E8%B7%AF-Floyd%2F</url>
    <content type="text"><![CDATA[æœ€çŸ­è·¯â€“FloydFloydæ˜¯ç”¨æ¥æ±‚å…¨å±€ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯çš„ã€‚ Floydå¾ˆå¥½ç†è§£ï¼Œä¾æ¬¡ç”¨æ¯ä¸ªç‚¹åŽ»æ¾å¼›å…¶å®ƒæ‰€æœ‰è¾¹ï¼Œæ„Ÿè§‰æ²¡ä»€ä¹ˆå¥½è®²çš„ã€‚ç†è§£äº†dijkstraå’ŒSPFAä¹‹åŽï¼Œæ„Ÿè§‰Floydå°±å¾ˆç®€å•æ˜“æ‡‚äº†ï¼Œç›´æŽ¥ä¸Šä»£ç å§ã€‚ æ—¶é—´å¤æ‚åº¦ï¼šO(n^3) ç©ºé—´å¤æ‚åº¦ï¼šO(n^2) ç®—æ³•å®žçŽ°1234for(int k=0; k&lt;n; k++)//1. for(int i=0; i&lt;n; i++) for(int j=0; j&lt;n; j++) d[i][j] = min(d[i][j], d[i][k]+d[k][j]); æ³¨é‡Šï¼š å…¶ä¸­nä¸ºå›¾ä¸­é¡¶ç‚¹ä¸ªæ•°ï¼Œkä¾æ¬¡æžšä¸¾æ‰€æœ‰é¡¶ç‚¹åŽ»æ¾å¼›å…¶å®ƒæ‰€æœ‰è¾¹ã€‚]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å›¾è®º</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ€çŸ­è·¯--SPFA]]></title>
    <url>%2F2019%2F07%2F26%2F%E6%9C%80%E7%9F%AD%E8%B7%AF-SPFA%2F</url>
    <content type="text"><![CDATA[æœ€çŸ­è·¯â€“SPFASPFAæ˜¯ä¸ªå¾ˆç¥žå¥‡çš„ç®—æ³•ï¼Œä»–åœ¨ä¸€èˆ¬æƒ…å†µä¸‹æ—¶é—´ä¼šè·‘çš„å¾ˆå¿«ï¼Œè‚¯å®šæœ‰äººæƒ³ç”¨SPFAæ¥ä»£æ›¿dijkstraï¼Œä½†æ˜¯æœ‰ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ä¸“é—¨æ¥å¡SPFAï¼Œåªèƒ½è®©dijkstraè¿‡ï¼ŒSPFAè¿‡ä¸åŽ»ï¼Œé‚£å°±æ˜¯ç½‘æ ¼å›¾ï¼Œæˆ‘ç¨åŽä¼šè®²ä¸ºä»€ä¹ˆç½‘æ ¼å›¾å¯ä»¥å¡æŽ‰SPFAã€‚ ä½†æ˜¯ä¸ºä»€ä¹ˆSPFAè·‘ä¸è¿‡dijkstraï¼Œå¤§å®¶è¿˜è¦ç”¨SPFAï¼Ÿå› ä¸ºdijkstraåªèƒ½è®¡ç®—ä¸å¸¦è´ŸçŽ¯çš„å›¾ï¼Œå½“å›¾ä¸­å‡ºçŽ°è´ŸçŽ¯ï¼Œdijkstraå°±ä¼šä¸€ç›´å¡åœ¨è´ŸçŽ¯é‡Œå‡ºä¸æ¥äº†ã€‚å¦‚æžœä¸å¤ªæ‡‚å¯ä»¥çœ‹ä¸€çœ‹æˆ‘çš„ä¸Šä¸€ç¯‡åšå®¢ï¼šDijkstra å½“å›¾ä¸­å­˜åœ¨å¯åˆ°è¾¾çš„è´ŸçŽ¯ï¼Œåˆ™è¯¥å›¾ä¸€å®šä¸å­˜åœ¨æœ€çŸ­è·¯ï¼Œå› ä¸ºè´ŸçŽ¯å¯ä»¥ä¸€ç›´å½“åšæœ€çŸ­è·¯æ¥æ¾å¼›å…¶ä»–è¾¹ï¼Œé‚£ä¹ˆæœ€çŸ­è·¯å°±èƒ½æ— é™å°ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æœ€çŸ­è·¯ã€‚ SPFAä¹Ÿæ˜¯ç”¨æ¥æ±‚å•æºæœ€çŸ­è·¯ï¼Œå®ƒå½“ç„¶ä¹Ÿä¸èƒ½åœ¨å­˜åœ¨å¯è¾¾è´ŸçŽ¯çš„æ—¶å€™è®¡ç®—æœ€çŸ­è·¯ï¼Œä½†æ˜¯ä»–æœ‰ä¸€ä¸ªç¥žå¥‡çš„åŠŸèƒ½ï¼šåˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨å¯è¾¾è´ŸçŽ¯ã€‚ Bellman-FordSPFAæ˜¯Bellman-Fordçš„é˜Ÿåˆ—ä¼˜åŒ–ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹æ¯”Bellman-Fordå¿«å¾ˆå¤šã€‚è¿™é‡Œä»‹ç»Bellman-Fordæ˜¯å¸Œæœ›å¯ä»¥æ›´å¥½åœ°ç†è§£SPFAï¼Œå› ä¸ºä¸¤è€…æœ¬è´¨åŒºåˆ«ä¸å¤§ã€‚ ç®—æ³•æ­¥éª¤ç®—æ³•æ€»å…±è·‘n-1è½®å°±èƒ½ç¡®å®šæ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯ã€‚æ€»å…±æœ‰nä¸ªç‚¹ï¼Œx1, x2, x3, x4â€¦xnï¼Œå…¶ä¸­x1ä¸ºæºç‚¹ï¼Œç¬¬ä¸€è½®ä¸€å®šå¯ä»¥ç¡®å®šç¦»æºç‚¹æœ€è¿‘çš„ç‚¹çš„æœ€çŸ­è·¯ï¼Œå³x2çš„æœ€çŸ­è·¯ã€‚ä¾æ¬¡ç±»æŽ¨ï¼Œå¦‚æžœå›¾ä¸­ä¸å­˜åœ¨è´ŸçŽ¯ï¼Œåˆ™ä¸€å®šèƒ½åœ¨n-1è½®æŽ¨å‡ºæ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯ã€‚ ç®—æ³•å®žçŽ°ä¸‹é¢æŠŠæ•¦çˆ·è®²è¯¾çš„æ—¶å€™çš„ä»£ç æ”¾å‡ºæ¥ï¼š 12345678for(int k=1; k&lt;=n-1; k++)&#123; for(int i=1; i&lt;m; i++) &#123; if(dis[v[i]] &gt; dis[u[i]]+w[i]) dis[v[i]] = dis[u[i]]+w[i] &#125;&#125; SPFAè§‚å¯Ÿä¸Šé¢çš„Bellman-Fordå¯å‘çŽ°ï¼Œå½“dis[u]æ²¡æœ‰è¢«æ›´æ–°çš„æ—¶å€™ï¼Œå®ƒä¾ç„¶ä¼šç”¨dis[u]åŽ»æ¾å¼›å…¶å®ƒè¾¹ï¼Œè¿™æ ·å°±åšäº†å¾ˆå¤šå†—ä½™çš„æ“ä½œï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥ä¼˜åŒ–å®ƒï¼Œå°±æ˜¯å½“æœ‰ä¸€ä¸ªç‚¹è¢«æ›´æ–°äº†ï¼Œå¦‚æžœè¿™ä¸ªç‚¹æ²¡åœ¨é˜Ÿåˆ—é‡Œé¢ï¼Œå°±æŠŠå®ƒæ”¾åˆ°é˜Ÿåˆ—é‡Œé¢åŽ»ã€‚è¿™æ ·ä¸€ä¸ªç‚¹å¾ˆä¹…æ²¡æœ‰è¢«æ›´æ–°è¿‡çš„è¯ï¼Œå°±ä¸ä¼šç”¨å®ƒåŽ»æ›´æ–°å…¶å®ƒè¾¹ã€‚ ç®—æ³•å®žçŽ°æ­¤å¤„å»ºè®®å…ˆçœ‹æ‡‚æˆ‘çš„ä¸Šä¸€ç¯‡åšå®¢ï¼šDijkstra 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354int dis[maxn], viscnt[maxn];bool inq[maxn];vector&lt;pair&lt;int, int&gt; &gt; G[maxn];//1.void add_eage(int s, int t, int w)&#123; G[s].push_back(make_pair(w, t));//2. G[t].push_back(make_pair(w, s));//3.&#125;void init(int n)//4.&#123; for(int i=0; i&lt;n; i++) G[i].clear();&#125;bool SPFA(int n, int s)//5.&#123; for(int i=0; i&lt;n; i++)//6. &#123; dis[i] = (i==s)?0:INF; inq[i] = false; viscnt[i] = 0; &#125; queue&lt;pair&lt;int, int&gt; &gt; q; q.push(make_pair(dis[s], s));//7. inq[s] = true; while(!q.empty()) &#123; pair&lt;int, int&gt; p = q.front(); int x = p.second;//8. q.pop(); inq[x] = false; if(viscnt[x]++&gt;n)//9. return true; for(int i=0; i&lt;G[x].size(); i++)//10. &#123; int y=G[x][i].second, w=G[x][i].first; if(dis[x]+w&lt;dis[y])//11. &#123; dis[y] = dis[x]+w; if(!inq[y]) &#123; q.push(make_pair(dis[y], y)); inq[y] = true; &#125; &#125; &#125; &#125; return false;&#125; æ³¨é‡Šï¼š viscnt[i]ç”¨æ¥è®¡æ•°ç¬¬iä¸ªç‚¹è¢«æ›´æ–°äº†å‡ æ¬¡ï¼Œå¦‚æžœæ›´æ–°æ¬¡æ•°è¶…è¿‡nï¼Œåˆ™è¯´æ˜Žå›¾ä¸­å­˜åœ¨è´ŸçŽ¯ã€‚inq[i]è¡¨ç¤ºç¬¬iä¸ªç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—é‡Œé¢ã€‚å­˜æ”¾pairçš„vectorç”¨æ¥å­˜æ”¾è¾¹å’Œè¾¹æƒï¼ŒG[i] [j]å­˜æ”¾çš„æ˜¯å’Œç»“ç‚¹iç›¸è¿žçš„ç¬¬jæ¡è¾¹ã€‚G[i] [j].secondå­˜æ”¾çš„æ˜¯å’Œç»“ç‚¹iç›¸è¿žçš„ç¬¬jæ¡è¾¹çš„å¦ä¸€ä¸ªç«¯ç‚¹ã€‚G[i] [j].firstå­˜æ”¾çš„æ˜¯å’Œç»“ç‚¹iç›¸è¿žçš„ç¬¬jæ¡è¾¹çš„æƒé‡ã€‚maxnä¸ºè‡ªå·±å®šä¹‰çš„å¸¸é‡ã€‚ å°†è¾¹æ·»åŠ è‡³vectorä¸­ï¼Œsã€wã€t è¯´æ˜ŽåŒä¸Šã€‚ æ— å‘å›¾çš„è¾¹æ˜¯æ— å‘çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨G[s]å’ŒG[w]ä¸­éƒ½åŠ å…¥ä¸€æ¡è¾¹ã€‚æœ‰å‘å›¾ä¸éœ€è¦è¿™ä¸€æ­¥ã€‚ åˆå§‹åŒ–vectorï¼Œæ¸…ç©ºæ‰€æœ‰å…ˆå‰åŠ å…¥çš„è¾¹ã€‚ SPFAå½“å›¾ä¸­å­˜åœ¨è´ŸçŽ¯æ—¶è¿”å›žtrueï¼Œä¸å­˜åœ¨æ—¶è¿”å›žfalseã€‚ åˆå§‹åŒ–disæ•°ç»„ï¼Œå°†æºç‚¹åˆ°æºç‚¹çš„è·ç¦»è®¾ç½®ä¸º0ï¼Œå…¶ä»–çš„è®¾ç½®ä¸ºINF(è‡ªå·±å®šä¹‰)ã€‚viscntå’Œinqè®¾ä¸º0å’Œfalseã€‚ å°†æºç‚¹åŽ‹å…¥é˜Ÿåˆ—ã€‚inq[s]è®¾ä¸ºtrueã€‚ ä¾æ¬¡å–é˜Ÿé¦–å…ƒç´ ã€‚å–å‡ºåŽinq[i]è®¾ä¸ºfalseã€‚ æ¯æ¬¡è®¿é—®ä¸€ä¸ªç‚¹ï¼Œä»¤è¿™ä¸ªç‚¹çš„viscnt++ï¼Œå½“è¿™ä¸ªç‚¹çš„è®¿é—®æ¬¡æ•°è¶…è¿‡næ¬¡ï¼Œåˆ™è¯´æ˜Žå›¾ä¸­å­˜åœ¨è´ŸçŽ¯ã€‚ ä¾æ¬¡éåŽ†ä¸Žxç›¸è¿žçš„è¾¹ï¼Œyè¡¨ç¤ºä¸Žxç›¸è¿žçš„è¾¹çš„å¦ä¸€ç«¯ç»“ç‚¹ç¼–å·ã€‚wè¡¨ç¤ºxåˆ°yè·¯å¾„æƒé‡ã€‚ è¿›è¡Œæ¾å¼›æ“ä½œï¼Œå¦‚æžœæŸä¸ªç‚¹æ¾å¼›æ“ä½œæˆåŠŸï¼Œåˆ™æŠŠå®ƒåŽ‹å…¥é˜Ÿåˆ—ã€‚ å¦‚ä½•å¡SPFAå› ä¸ºSPFAæ²¡å›žæ›´æ–°çš„æ—¶å€™ç”¨çš„æ˜¯ä¸€æ¡è¾¹åŽ»æ›´æ–°ï¼Œè¢«æ›´æ–°è¿‡çš„ç‚¹å…¥é˜Ÿã€‚ æ¯”å¦‚è¯´æˆ‘ä»¬æœ‰ä¸€æ¡é“¾ å½“æˆ‘ä»¬ç”¨è¾¹0-1åŽ»æ›´æ–°åŽé¢æ‰€æœ‰è¾¹ä¹‹åŽï¼Œå¦‚æžœè¾¹0-1åˆè¢«æ›´æ–°ï¼Œåˆ™åŽé¢çš„æ‰€æœ‰è¾¹éƒ½è¦è¢«ä¾æ¬¡å†æ›´æ–°ä¸€éã€‚ è¿™æ ·SPFAçš„æ—¶é—´å¤æ‚åº¦å°±ä¼šå˜å¾—éžå¸¸é«˜ å‚è€ƒ å¤œæ·±äººé™å†™ç®—æ³•ï¼ˆå››ï¼‰- æœ€çŸ­è·¯å’Œå·®åˆ†çº¦æŸ 2019ccpcå¤ä»¤è¥æ•¦çˆ·è®²çš„å›¾è®º]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å›¾è®º</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ€çŸ­è·¯--Dijkstra]]></title>
    <url>%2F2019%2F07%2F25%2F%E6%9C%80%E7%9F%AD%E8%B7%AF--Dijkstra%2F</url>
    <content type="text"><![CDATA[æœ€çŸ­è·¯â€“DijkstraDijkstraæ˜¯å•æºæœ€çŸ­è·¯ç®—æ³•ï¼Œç”¨äºŽæ±‚æ­£æƒå›¾æºç‚¹åˆ°æ¯ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·¯ã€‚Dijkstraç”¨åˆ°äº†ä¸€äº›BFSçš„æ€æƒ³ ç®—æ³•æ­¥éª¤ åˆå§‹åŒ–disæ•°ç»„å’Œvisæ•°ç»„ã€‚ dis[i]è¡¨ç¤ºæºç‚¹åˆ°ç¬¬iä¸ªç‚¹çš„è·ç¦»ï¼Œåˆå§‹åŒ–ä¸ºINFï¼Œè¡¨ç¤ºæ— ç©·å¤§ã€‚ï¼ˆINFä¸ºè‡ªå·±å®šä¹‰ï¼‰ vis[i]æ•°ç»„è¡¨ç¤ºç¬¬iä¸ªç‚¹çš„æœ€çŸ­è·¯æ˜¯å¦ç”¨äºŽå¤„ç†è¿‡æœªæ±‚å‡ºæœ€çŸ­è·¯çš„ç‚¹ã€‚ï¼ˆå½“ç”¨ä¼˜å…ˆé˜Ÿåˆ—çš„æ—¶å€™åˆ™ä¸ç”¨visæ•°ç»„ï¼‰ æ‰¾å‡ºå½“å‰æœ€çŸ­dis[i]ï¼Œå¹¶ä¸”vis[i]ä¸ºfalseçš„ç‚¹ã€‚å¦‚æžœæ‰¾ä¸åˆ°ï¼Œåˆ™æœ€çŸ­è·¯æ±‚è§£å®Œæˆï¼Œç®—æ³•ç»“æŸã€‚ ä»¤vis[i]ä¸ºtrueï¼Œè¡¨ç¤ºå·²ç»ä½¿ç”¨è¿‡è¯¥æœ€çŸ­è·¯å¤„ç†å…¶dis[i]ï¼Œé˜²æ­¢é‡å¤ä½¿ç”¨ã€‚ä¾æ¬¡éåŽ†å…¶ä½™æ‰€æœ‰ç‚¹ï¼Œä»¤dis[j] = min(dis[j], dis[i]+w[i] [j]) w[i] [j]è¡¨ç¤ºç‚¹iåˆ°ç‚¹jçš„è·ç¦»ã€‚è¿™ä¸€æ­¥è¡¨ç¤ºæºç‚¹åˆ°iåŠ ä¸Šiåˆ°jçš„è·ç¦»å’Œæºç‚¹åˆ°jçš„è·ç¦»å“ªä¸ªå°ã€‚ ç®—æ³•å®žçŽ°é‚»æŽ¥çŸ©é˜µç‰ˆæ—¶é—´å¤æ‚åº¦ä¸ºO(n*n) nä¸ºé¡¶ç‚¹æ•° 123456789101112131415161718192021222324252627void dijkstra(int n, int s)//1.&#123; for(int i=0; i&lt;n; i++)//2. &#123; dis[i] = w[s][i]; vis[i] = false; &#125; dis[s] = 0; for(int i=0; i&lt;n; i++)//3. &#123; int mn = INF, x; for(int j=0; j&lt;n; j++)//4. if(!vis[j] &amp;&amp; dis[j]&lt;mn) &#123; mn = dis[j]; x=j; &#125; if(mn==INF)//5. return; vis[x] = true;//6. for(int j=0; j&lt;n; j++) dis[j] = min(dis[j], dis[x]+w[x][j]); &#125;&#125; æ³¨é‡Šï¼š nä¸ºç»“ç‚¹ä¸ªæ•°ï¼Œsä¸ºæºç‚¹ã€‚ åˆå§‹åŒ–disæ•°ç»„å’Œvisæ•°ç»„ ä¾æ¬¡éåŽ†æ¯ä¸ªç»“ç‚¹ æ‰¾å‡ºå½“å…ˆæœªä½¿ç”¨è¿‡çš„æœ€çŸ­è·¯ï¼Œå¹¶æŠŠä¸‹æ ‡å­˜å…¥x å¦‚æžœå…¨éƒ¨ä½¿ç”¨è¿‡åˆ™ç®—æ³•ç»“æŸ vis[x]è®¾ä¸ºtrueï¼Œæ¯”è¾ƒdis[j]å’Œdis[x]+w[x] [j]çš„å¤§å° ä¼˜å…ˆé˜Ÿåˆ—ç‰ˆç”¨ä¼˜å…ˆé˜Ÿåˆ—ä¼˜åŒ–dijkstraå¤§éƒ¨åˆ†æ—¶é—´ä¼˜äºŽæ™®é€šç‰ˆï¼Œä½†æ˜¯åœ¨å®Œå…¨å›¾æ—¶æ™®é€šç‰ˆæ›´å¥½ã€‚ æ—¶é—´å¤æ‚åº¦ï¼šO((m+n)logm) å…¶ä¸­nä¸ºé¡¶ç‚¹æ•°ï¼Œmä¸ºè¾¹æ•°ã€‚æ‰€ä»¥å½“å®Œå…¨å›¾æ—¶æ™®é€šç‰ˆæ›´å¥½ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041int dis[maxn];vector&lt;pair&lt;int, int&gt; &gt; G[maxn];//1.void add_eage(int s, int t, int w)&#123; G[s].push_back(make_pair(w, t));//2. G[t].push_back(make_pair(w, s));//3.&#125;void init(int n)//4.&#123; for(int i=0; i&lt;n; i++) G[i].clear();&#125;void dijkstra(int n, int s)&#123; for(int i=0; i&lt;n; i++)//5. dis[i] = (i==s)?0:INF; priority_queue&lt;pair&lt;int, int&gt;, vector&lt;pair&lt;int, int&gt; &gt;, greater&lt;pair&lt;int, int&gt; &gt; &gt; q;//6. q.push(make_pair(dis[s], s));//7. while(!q.empty()) &#123; pair&lt;int, int&gt; p = q.top(); int x = p.second;//8. q.pop(); for(int i=0; i&lt;G[x].size(); i++) &#123; int y=G[x][i].second, w=G[x][i].first;//9. if(dis[x]+w&lt;dis[y])//10. &#123; dis[y] = dis[x]+w; q.push(make_pair(dis[y], y)); &#125; &#125; &#125;&#125; æ³¨é‡Šï¼š å­˜æ”¾pairçš„vectorç”¨æ¥å­˜æ”¾è¾¹å’Œè¾¹æƒï¼Œå› ä¸ºpairæ¯”è¾ƒå¤§å°æ˜¯firstä¼˜å…ˆï¼Œæ‰€ä»¥pairçš„firstæ”¾çš„æ˜¯æƒé‡ã€‚G[i] [j]å­˜æ”¾çš„æ˜¯å’Œç»“ç‚¹iç›¸è¿žçš„ç¬¬jæ¡è¾¹ã€‚G[i] [j].secondå­˜æ”¾çš„æ˜¯å’Œç»“ç‚¹iç›¸è¿žçš„ç¬¬jæ¡è¾¹çš„å¦ä¸€ä¸ªç«¯ç‚¹ã€‚G[i] [j].firstå­˜æ”¾çš„æ˜¯å’Œç»“ç‚¹iç›¸è¿žçš„ç¬¬jæ¡è¾¹çš„æƒé‡ã€‚maxnä¸ºè‡ªå·±å®šä¹‰çš„å¸¸é‡ã€‚ å°†è¾¹æ·»åŠ è‡³vectorä¸­ï¼Œsã€wã€t è¯´æ˜ŽåŒä¸Šã€‚ æ— å‘å›¾çš„è¾¹æ˜¯æ— å‘çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨G[s]å’ŒG[w]ä¸­éƒ½åŠ å…¥ä¸€æ¡è¾¹ã€‚æœ‰å‘å›¾ä¸éœ€è¦è¿™ä¸€æ­¥ã€‚ åˆå§‹åŒ–vectorï¼Œæ¸…ç©ºæ‰€æœ‰å…ˆå‰åŠ å…¥çš„è¾¹ã€‚ åˆå§‹åŒ–disæ•°ç»„ï¼Œå°†æºç‚¹åˆ°æºç‚¹çš„è·ç¦»è®¾ç½®ä¸º0ï¼Œå…¶ä»–çš„è®¾ç½®ä¸ºINF(è‡ªå·±å®šä¹‰)ã€‚ å®šä¹‰ä¼˜å…ˆé˜Ÿåˆ—ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ•°æ®ç±»åž‹ï¼Œæ¯”è¾ƒpairç±»åž‹ï¼Œpairçš„firstä¼˜å…ˆã€‚ç¬¬äºŒä¸ªå‚æ•°ä¸ºå­˜å‚¨å®¹å™¨ï¼Œå’Œå…ˆå‰å­˜è¾¹çš„vectorå®šä¹‰ç›¸åŒã€‚ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºå°é¡¶å †(greaterä¸ºå°é¡¶å †ï¼Œlessä¸ºå¤§é¡¶å †)ã€‚ å°†æºç‚¹åŽ‹å…¥é˜Ÿåˆ—ã€‚ xå­˜æ”¾å½“å‰æœªè®¿é—®è¿‡çš„æƒå€¼æœ€å°è¾¹çš„ä¸€ç«¯ç»“ç‚¹ç¼–å·ã€‚ ä¾æ¬¡éåŽ†ä¸Žxç›¸è¿žçš„è¾¹ï¼Œyè¡¨ç¤ºä¸Žxç›¸è¿žçš„è¾¹çš„å¦ä¸€ç«¯ç»“ç‚¹ç¼–å·ã€‚wè¡¨ç¤ºxåˆ°yè·¯å¾„æƒé‡ è¯¥æ­¥éª¤é€šé‚»æŽ¥çŸ©é˜µdijkstraç›¸ä¼¼ æ¨¡æ¿ä¾‹é¢˜hdoj1874 å‚è€ƒ å¤œæ·±äººé™å†™ç®—æ³•ï¼ˆå››ï¼‰- æœ€çŸ­è·¯å’Œå·®åˆ†çº¦æŸ dijkstraå‡ å¤§æ¨¡æ¿ï¼ˆè¿™é‡Œé¢çš„ä¼˜å…ˆé˜Ÿåˆ—æ¨¡æ¿å¥½åƒæ—¶é”™çš„ï¼Œæˆ‘åªå‚è€ƒäº†ä»–çš„stlç”¨æ³•ï¼‰ C++ pairçš„æ¯”è¾ƒå¤§å°]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å›¾è®º</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¹¶æŸ¥é›†]]></title>
    <url>%2F2019%2F07%2F22%2F%E5%B9%B6%E6%9F%A5%E9%9B%86%2F</url>
    <content type="text"><![CDATA[å¹¶æŸ¥é›†å¹¶æŸ¥é›†æ˜¯ä¸€ç§æ ‘åž‹æ•°æ®ç»“æž„ï¼Œç”¨äºŽæŸ¥æ‰¾ä¸ç›¸äº¤çš„å­é›†ï¼Œå¹¶å°†ä»–ä»¬åˆå¹¶åœ¨ä¸€èµ·ï¼Œç®€ç§°å¹¶æŸ¥é›†ã€‚å¹¶æŸ¥é›†åˆ†ä¸ºæ‹†åˆ†ã€æŸ¥æ‰¾å’Œåˆå¹¶ä¸‰ä¸ªæ“ä½œã€‚ å¹¶æŸ¥é›†æŸ¥æ‰¾ preæ•°ç»„è®°å½•æ‰€æœ‰ç»“ç‚¹çš„å‰é©±ç»“ç‚¹ï¼Œæ ¹èŠ‚ç‚¹çš„å‰é©±ç»“ç‚¹æ˜¯å®ƒè‡ªå·± findå‡½æ•°å…ˆæ‰¾åˆ°xçš„æ ¹èŠ‚ç‚¹ 12345678int pre[1000];//1.int find(int x)//2.&#123; int r=x; while ( pre[r] != r )//3. r=pre[r]; return r ;&#125; æ³¨é‡Šï¼š è®°å½•å‰é©±ç»“ç‚¹ æŸ¥æ‰¾æ ¹èŠ‚ç‚¹ æ‰¾åˆ°æ ¹èŠ‚ç‚¹ r åˆå¹¶ joinå‡½æ•°å…ˆæ‰¾åˆ°ä¸¤ä¸ªå˜é‡çš„æ ¹èŠ‚ç‚¹ â€‹ å¦‚æžœä»–ä»¬ç›¸åŒåˆ™è¯´æ˜Žä¸¤ä¸ªå˜é‡åœ¨åŒä¸€ä¸ªé›†åˆä¸­ â€‹ å¦‚æžœä¸åŒåˆ™å°†å…¶ä¸­ä¸€ä¸ªæ ¹èŠ‚ç‚¹è®¾ç½®ä¸ºå¦å¤–ä¸€ä¸ªæ ¹èŠ‚ç‚¹çš„å‰é©± 123456void join(int x,int y)//1.&#123; int fx=find(x),fy=find(y); if(fx!=fy) pre[fx ]=fy;&#125; æ³¨é‡Šï¼š åˆ¤æ–­x yæ˜¯å¦è¿žé€šï¼Œå¦‚æžœå·²ç»è¿žé€šï¼Œå°±ä¸ç”¨ç®¡äº† å¦‚æžœä¸è¿žé€šï¼Œå°±æŠŠå®ƒä»¬æ‰€åœ¨çš„è¿žé€šåˆ†æ”¯åˆå¹¶èµ·ã€‚ å¹¶æŸ¥é›†çš„ä¼˜åŒ–è·¯å¾„åŽ‹ç¼©è·¯å¾„åŽ‹ç¼©æ˜¯åœ¨å¯»æ‰¾æ ¹ç»“ç‚¹çš„è¿‡ç¨‹ä¸­ï¼Œå°†å­é›†ä¸­æ‰€æœ‰çš„ç‚¹çš„å‰é©±è®¾ç½®ä¸ºæ ¹ç»“ç‚¹ã€‚ ä¸ºä»€ä¹ˆè¦è¿›è¡Œè·¯å¾„åŽ‹ç¼©å‘¢ï¼Ÿå› ä¸ºåœ¨å¹¶æŸ¥é›†åˆå¹¶è¿‡ç¨‹ä¸­ï¼Œä»–æœ‰å¯èƒ½å˜æˆä¸€ä¸ªå•é“¾è¡¨ï¼Œè¿™æ ·æ¯æ¬¡å¯»æ‰¾æ ¹ç»“ç‚¹è¦éåŽ†å­é›†ä¸­æ‰€æœ‰çš„ç»“ç‚¹ã€‚è¿›è¡Œè·¯å¾„åŽ‹ç¼©ä¹‹åŽï¼Œæ¯æ¬¡å¯»æ‰¾æ ¹ç»“ç‚¹åªéœ€è®¿é—®ä»–çš„çˆ¶ç»“ç‚¹å°±å¯æ‰¾åˆ°æ ¹ç»“ç‚¹ã€‚ ä¼˜åŒ–åŽçš„findå‡½æ•°ï¼š 12345678910111213141516int pre[1000 ];int find(int x) &#123; int r=x; while ( pre[r] != r ) r=pre[r]; int i=x , j ; while( i != r )//1. &#123; j = pre[ i ];//2. pre[ i ]= r ;//3. i=j; &#125; return r ;&#125; æ³¨é‡Šï¼š è·¯å¾„åŽ‹ç¼© åœ¨æ”¹å˜ä¸Šçº§ä¹‹å‰ç”¨ä¸´æ—¶å˜é‡jè®°å½•ä¸‹ä»–çš„å€¼ æŠŠä¸Šçº§æ”¹ä¸ºæ ¹èŠ‚ç‚¹ æŒ‰ç§©(Rank)åˆå¹¶æŒ‰ç§©åˆå¹¶å°±æ˜¯åœ¨åˆå¹¶è¿‡ç¨‹ä¸­å°†å…ƒç´ æ‰€åœ¨æ·±åº¦å°çš„é›†åˆåˆå¹¶åˆ°å…ƒç´ æ‰€åœ¨æ·±åº¦å¤§çš„é›†åˆ ä¸ºä»€ä¹ˆè¦æŒ‰ç§©åˆå¹¶å‘¢ï¼Ÿå› ä¸ºå¦‚æžœå°†å…ƒç´ æ·±åº¦å¤§çš„é›†åˆåˆå¹¶åˆ°å°çš„é›†åˆï¼Œé‚£ä¹ˆåˆå¹¶åŽçš„é›†åˆæ·±åº¦åˆ™ç­‰äºŽè¾ƒå¤§çš„æ·±åº¦åŠ ä¸€ã€‚å¦‚æžœå°†æ·±åº¦å°çš„é›†åˆåˆå¹¶åˆ°æ·±åº¦å¤§çš„é›†åˆï¼Œåˆ™åˆå¹¶åŽçš„é›†åˆæ·±åº¦ä¸å˜ã€‚ ä¼˜åŒ–åŽçš„joinå‡½æ•°ï¼š 12345678910111213void join(int x, int y)&#123; int fx=find(x),fy=find(y); if(rank[fx]&gt;rank[fy])//1. pre[fy] = pre[fx];//2. else &#123; pre[fx] = fy; if(rank[fx]==rank[fy])//3. rank[fy]++; &#125;&#125; æ³¨é‡Šï¼š rankæ•°ç»„ä¸ºå½“å‰ç»“ç‚¹ç§©çš„å€¼ åªéœ€è¦æ¯”è¾ƒæ ¹ç»“ç‚¹çš„rankå€¼å°±å¤Ÿäº† ä¿®æ”¹æ—¶ä¹Ÿåªç”¨ä¿®æ”¹æ ¹ç»“ç‚¹çš„rankå€¼ å¹¶æŸ¥é›†çš„ç²¾ç®€å®žçŽ°12345678910void init(int n) &#123; for(int i=1; i&lt;=n; i++) pre[i]=i; &#125;int find(int x) &#123; return pre[x]=x?x:pre[x]=get(pre[x]); &#125;//1.void join(int x, int y) &#123; pre[get(x)] = get[y]; &#125;void join(int x, int y)&#123;//2. pre[rank[find(x)&gt;rank[find(y)?find(y):find(x)] = pre[rank[find(x)&gt;rank[find(y)?find(x):find(y)]; if(rank[find(x)]==rank[find(y)]) rank[find(y)]++;&#125; æ³¨é‡Šï¼š æ ¹ç»“ç‚¹çš„preä¸º0ã€‚ å¸¦ç§©åˆå¹¶ï¼Œè¿˜æ²¡éªŒè¯ï¼Œä¸èƒ½ç¡®å®šå¯¹é”™ã€‚ å‚è€ƒï¼š ç»´åŸºç™¾ç§‘ï¼šå¹¶æŸ¥é›† å¹¶æŸ¥é›†è¯¦è§£â€”â€”å›¾æ–‡è§£è¯´ï¼Œç®€å•æ˜“æ‡‚ï¼ˆè½¬ï¼‰ å¹¶æŸ¥é›†ç¬”è®°&amp;æ¨¡æ¿]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å›¾è®º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯ä»¥è¯„è®ºäº†ï¼ï¼ï¼]]></title>
    <url>%2F2018%2F11%2F02%2F%E5%8F%AF%E4%BB%A5%E8%AF%84%E8%AE%BA%E4%BA%86%EF%BC%81%EF%BC%81%EF%BC%81%2F</url>
    <content type="text"><![CDATA[æ¥åæ§½å§]]></content>
  </entry>
  <entry>
    <title><![CDATA[Hello Word!]]></title>
    <url>%2F2018%2F11%2F01%2FHello-Word%2F</url>
    <content type="text"><![CDATA[HELLO WORD!!!]]></content>
  </entry>
</search>
