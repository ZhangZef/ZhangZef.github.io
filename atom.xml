<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>zhangzef</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="zhangzef.com/"/>
  <updated>2020-02-14T14:20:15.012Z</updated>
  <id>zhangzef.com/</id>
  
  <author>
    <name>å¼ æ³½</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä¸€å‘¨å¹´</title>
    <link href="zhangzef.com/2020/02/14/%E4%B8%80%E5%91%A8%E5%B9%B4/"/>
    <id>zhangzef.com/2020/02/14/ä¸€å‘¨å¹´/</id>
    <published>2020-02-14T11:11:29.000Z</published>
    <updated>2020-02-14T14:20:15.012Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¼ æ³½é”‹andéƒ­å¥•å®"><a href="#å¼ æ³½é”‹andéƒ­å¥•å®" class="headerlink" title="å¼ æ³½é”‹andéƒ­å¥•å®"></a>å¼ æ³½é”‹andéƒ­å¥•å®</h2><p><img src="http://image.zhangzef.com/20200214221939.png" alt="img" style="zoom:15%;"></p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>ä»Šå¤©æ˜¯2æœˆ14å·ï¼Œ2020å¹´çš„æƒ…äººèŠ‚ï¼Œå¯¹äºæ‰€æœ‰æƒ…ä¾£æ¥è¯´æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„æ—¥å­ï¼Œå¯¹äºæˆ‘ä»¬æ¥è¯´è¿™ä¸€å¤©æ›´æ˜¯æ„ä¹‰éå‡¡ã€‚</p><p>ç»è¿‡ä¸€å¹´æ—¶é—´çš„ç£•ç£•ç»Šç»Šï¼Œæˆ‘ä»¬æœ‰é«˜å…´ï¼Œæœ‰æ‚²ä¼¤ï¼Œæœ‰æ—¶å’Œç¦ï¼Œæœ‰æ—¶äº‰åµï¼Œä½“éªŒäº†æƒ…ä¾£é—´æœ€éš¾ç›¸å¤„çš„å…³ç³»â€”â€”å¼‚åœ°æ‹ã€‚å¯¹äºæˆ‘ä»¬æ¥è¯´è¿™ä¸€å¹´æœ‰å–œæœ‰å¿§ï¼Œä½†æ˜¯åœ¨ä½ å¼€å¿ƒçš„æ—¶å€™æ‰€æœ‰çš„å¿§æ„éƒ½å¥½åƒä¸€æ‰«è€Œç©ºï¼Œåªå‰©ä¸‹æ™´ç©ºä¸‡é‡Œï¼Œå¯èƒ½åœ¨è¿™é‡Œä½ å°±æ˜¯é‚£ä¸ªæ™´å¤©å¥³å­©å§ã€‚ä¸€ç¯‡åšå®¢è®°å½•ä¸å‡ºæˆ‘ä»¬æœŸå¾…è§é¢æ—¶æœ›çœ¼æ¬²ç©¿çš„æ¨¡æ ·ï¼Œä¹Ÿè®°å½•ä¸ä¸‹æˆ‘ä»¬çš„å–œæ€’å“€ä¹ï¼Œä½†æ˜¯ä¹Ÿè®¸åœ¨å°†æ¥è¿½å¿†å¾€äº‹ï¼Œä¼šå¸¦æ¥åˆ«æ ·çš„æ„ŸåŠ¨ã€‚</p><p>2019å¹´2æœˆ13æ—¥ï¼Œæˆ‘ä»¬ä¿©ç›¸çº¦è§é¢ï¼Œä¸€èµ·å»çœ‹ç”µå½±ï¼Œåƒä»¥å¾€ä¸€æ ·ã€‚å½“æˆ‘ä»¬èµ°å‡ºå•†åœºæ—¶ï¼Œå¤–é¢ä¸‹èµ·é¹…æ¯›å¤§é›ªï¼Œä½†æˆ‘ä»¬å´ä¸çº¦è€ŒåŒåœ°ä¸€èµ·å»åƒé¥­ã€‚ä¹Ÿè®¸æ˜¯å¤©æ„é™ä¸‹äº†è¿™åœºé›ªï¼Œå¯’å†·çš„ç©ºæ°”å’Œé›ªèŠ±å°†æˆ‘ä»¬çš„æ‰‹æ¡åœ¨äº†ä¸€èµ·ã€‚æ™šä¸Šå„è‡ªå›å®¶æˆ‘ä»¬çº¦å¥½ä¸€èµ·ç©æ˜Ÿéœ²è°·ç›´åˆ°æ·±å¤œã€‚</p><p>2019å¹´2æœˆ14æ—¥ï¼Œå½“æˆ‘ä»ç¡æ¢¦ä¸­é†’æ¥å·²æ˜¯æ­£åˆï¼Œä¸‹æ„è¯†åœ°æ‹¿èµ·æ‰‹æœºçœ‹æ—¶é—´ï¼Œå½“çœ‹åˆ°ä½ ç»™æˆ‘å‘æ¥çš„æ¶ˆæ¯æ—¶ï¼Œæˆ‘çš„å¿ƒè„çŒ›åœ°ä¸€ä¸‹ç ¸å‘èƒ¸è†›ï¼Œå¤§è„‘è¢«éœ‡çš„ä¸€ç‰‡ç©ºç™½ã€‚è‡³ä»Šæˆ‘è¿˜è®°å¾—é‚£å¥ç®€å•ä½†æ˜¯è§¦åŠ¨å¿ƒçµçš„è¯ï¼Œæˆ‘æƒ³è¿™å¯èƒ½å°±æ˜¯ç °ç„¶å¿ƒåŠ¨çš„æ„Ÿè§‰å§</p><blockquote><p><strong>Some of us get dipped in flat, some in satin, some in gloss. But every once in a while, you find someone whoâ€™s iridescent. And when you do,nothing will ever compare.</strong></p></blockquote><p>19å¹´åŠ³åŠ¨èŠ‚ï¼Œæˆ‘ä»¬ç»ˆäºæœ‰æœºä¼šè§é¢ï¼Œæˆ‘åç€ç«è½¦ä¸è¿œä¸‡é‡Œä»å¼€å°æ¥åˆ°ä¸Šæµ·çœ‹ä½ ï¼Œæˆ‘è§‰å¾—é‚£ä¸ªåŠ³åŠ¨èŠ‚å¯èƒ½æ˜¯æˆ‘æœ‰ç”Ÿä»¥æ¥è¿‡çš„æœ€å¿«ä¹çš„åŠ³åŠ¨èŠ‚äº†å§ã€‚å°½ç®¡å‡ å¤©çš„ç©ä¹æŠŠæˆ‘ä»¬ç´¯çš„ç­‹ç–²åŠ›ç«­ï¼Œä½†æ˜¯æ—¶é—´æ€»æ˜¯ä¼šå¸¦èµ°é‚£äº›çƒ¦æ¼ï¼Œç•™ä¸‹ç¾å¥½çš„å›å¿†ã€‚æˆ‘ä»¬ä¸€èµ·åƒç«é”…å°é¾™è™¾ï¼Œä¸€èµ·å–å¥¶èŒ¶çœ‹ç”µå½±ï¼Œä¸€èµ·åè¿‡å±±è½¦ï¼Œä¸€èµ·è§‚èµä¸Šæµ·å¤œæ™¯ã€‚ã€‚ã€‚è‡³ä»Šè¿˜è®°å¾—ä½ æƒ³åœ¨æµ·åº•æå…è´¹åšç¾ç”²çš„å°å¿ƒæ„¿ï¼Œå’Œçœ‹ç”µå½±æ—¶æˆ‘å»ä¸Šå•æ‰€ä½ ä¸ºæˆ‘å½•ä¸‹ä¸­é—´çš„éƒ¨åˆ†ï¼Œè°·æœ¨æ¸¸é¾™çš„æƒŠé™©åˆºæ¿€å’Œé‚£ä¸‰ä¸ªå°æ—¶çš„æ’é˜Ÿï¼Œè¿˜æœ‰å˜‰å–„é‚£ä¸ªä»¤æˆ‘æ°¸ç”Ÿéš¾å¿˜æ²¡æ”¾ç›çš„å°é¾™è™¾ã€‚äº”æœˆè¿™ä¸ªå³å°†ç«‹å¤çš„å­£èŠ‚é‡Œï¼Œç•™ä¸‹äº†æ˜¥å¤©é‡Œæœ€éš¾å¿˜çš„è®°å¿†ã€‚</p><p>å¤§äºŒä¸‹å­¦æœŸçš„æœŸæœ«è€ƒè¯•ï¼Œä¹˜ç€æˆ‘ä»¬ä¿©è€ƒè¯•çš„æ—¶é—´å·®ï¼Œä½ ä»ä¸Šæµ·æ¥åˆ°å¼€å°æ‰¾æˆ‘ã€‚å‰ä¸€å¤©æ™šä¸Šæˆ‘æ¿€åŠ¨çš„éš¾ä»¥å…¥ç¡ï¼Œç›´åˆ°å¤œé‡Œä¸¤ä¸‰ç‚¹æ‰ç¡ç€ã€‚åœ¨å¼€å°æ²¡å¸¦ä½ ç©ä»€ä¹ˆï¼Œä¸è¿‡å¸¦ä½ åƒäº†æˆ‘ä»¬é™„è¿‘çš„ååƒæ‘‡æ»šç‚’é¸¡ï¼Œå°äº†å¼€å°ä¸æ–°é²œçš„å°é¾™è™¾ï¼Œå–äº†å†°é•‡çš„æ·±æµ·ç‚¸å¼¹ï¼Œæœ€é—æ†¾çš„å°±æ˜¯æ²¡èƒ½è®©ä½ æ„Ÿå—åˆ°åŒ–ä¸‰é©´è‚‰æ±¤çš„é­…åŠ›ã€‚</p><p>å¤§äºŒæš‘å‡æ—¶ï¼Œæˆ‘åœ¨å­¦æ ¡å­¦ä¹ ï¼Œä½ åœ¨å®¶é‡Œã€‚è®°å¾—æˆ‘ä»¬æ¯å¤©æ™šä¸Šéƒ½ä¸€èµ·ä¼šç©æ˜Ÿéœ²è°·ã€‚æš‘å‡çš„æ—¶é—´ç›¸å¯¹è¾ƒæ¾ï¼Œæˆ‘ä»¬æ–­æ–­ç»­ç»­è§äº†è®¸å¤šæ¬¡é¢ã€‚æœ€è®©æˆ‘æ„§ç–šçš„å°±æ˜¯é‚£ä¸ªå¤±è´¥çš„ç”Ÿæ—¥ï¼Œä»¥åæˆ‘ä¸€å®šä¼šæŠŠé‚£ä»½é—æ†¾è¡¥å›æ¥çš„ï¼Œä¸è¿‡å½“ä½ æ”¶åˆ°æ³¢å¦æ—¶çš„é‚£ä¸ªååº”åƒä¸ªä¹åäº†çš„å­©å­ã€‚åŸæ¥æˆ‘ä»¬ç»å¸¸ä¸€èµ·ç©èƒ¡é—¹å¨æˆ¿ï¼ŒçŸ¥é“ä½ ç‰¹åˆ«å–œæ¬¢ç©èƒ¡é—¹å¨æˆ¿ï¼Œä½†æ˜¯ç¬¬ä¸€ç‰ˆåªèƒ½å•æœºç©ï¼Œæˆ‘ä»¬å¾ˆéš¾æœ‰æ—¶é—´ä¸€èµ·ç©ã€‚å½“æ—¶æ­£å¥½æœ‰èƒ¡é—¹å¨æˆ¿2ï¼Œæˆ‘å°±é¡ºä¾¿ç»™æˆ‘ä»¬ä¿©ä¸€äººä¹°äº†ä¸€ä¸ªï¼Œè¿™æ ·ä»¥åå°±å¯ä»¥ä¸€èµ·ç©äº†ã€‚åæ¥æˆ‘æ€•ä½ ç”¨é”®ç›˜ç©ç€å¤ªéš¾å—äº†ï¼Œå°±è¶ç€ä¸ƒå¤•é€ä½ äº†ä¸€ä¸ªå’Œæˆ‘åŒæ¬¾çš„æ‰‹æŸ„ï¼Œè™½è¯´ä¸ä¸Šå¥½ç”¨ï¼Œä½†æ˜¯ç”¨èµ·æ¥æ¯”é”®ç›˜è¦èˆ’æœå¤šäº†ï¼Œç­‰ä»¥åæˆ‘ä»¬ä¸€å®šè¦ä¸€èµ·æ¢xboxçš„æ‰‹æŸ„ã€‚å°±è¿™æ ·æˆ‘ä»¬ç”¨äº†ä¸åˆ°ä¸€ä¸ªæš‘å‡çš„æ—¶é—´å°±å°†èƒ¡é—¹å¨æˆ¿2ç»™é€šå…³äº†ï¼Œç­‰ä»¥åæœ‰æœºä¼šäº†ä¸€å®šè¦å°†ä¸€ä¹Ÿé€šå…³ã€‚</p><p>2019å¹´ä¸­ç§‹èŠ‚ï¼Œæˆ‘é™ªä½ ä¸€èµ·å»å­¦æ ¡å¼€å­¦ï¼Œå¸®ä½ æè¡Œææ”¶æ‹¾ä¸œè¥¿ï¼Œä½†å¥ˆä½•ç¬¬ä¸€å¤©è¿›ä¸å»ä½ ä»¬å¯å®¤ï¼Œæ²¡æœ‰å¸®åˆ°ä½ å¤ªå¤šã€‚åæ¥æˆ‘ä»¬åˆä¸€èµ·åƒäº†è°­é¸­è¡€ï¼Œé‚£ä¸ªç«é”…çœŸæ˜¯å¤ªå¥½åƒäº†ï¼ï¼ï¼è¿˜æœ‰é‚£å¿˜ä¸äº†çš„é±¿é±¼è˜¸å°é¾™è™¾æ±¤æ±ã€‚ã€‚ã€‚ä½†æ˜¯æ—¶é—´å¾ˆçŸ­ï¼Œæˆ‘å°±è¦ä¼šåˆ°å¼€å°ä¸Šå­¦äº†ã€‚ã€‚ã€‚</p><p>ä»é‚£ä¹‹åå¤§ä¸‰æ•´æ•´ä¸€ä¸ªå­¦æœŸæˆ‘ä»¬å†ä¹Ÿæ²¡æœ‰æœºä¼šè§é¢äº†ã€‚ã€‚ã€‚åªå‰©ä¸‹å›½åº†æ—¶æˆ‘ä»¬æ¯å¤©çš„è§†é¢‘</p><p>å¤§ä¸‰æœŸæœ«çš„æ—¶å€™æˆ‘ä»¬éƒ½å¤ªç´¯äº†ï¼Œå¯¼è‡´æˆ‘ä»¬çš„æ„Ÿæƒ…å‡ºäº†è£‚ç¼ï¼Œä¸è¿‡å¹¸å¥½åœ¨å¯’å‡æ—¶ï¼Œæˆ‘ä»¬åˆå°†è£‚ç¼è¡¥ä¸Šï¼Œè®©ä»–æ…¢æ…¢æ„ˆåˆã€‚</p><p>ç°åœ¨ç–«æƒ…ä¸¥é‡ï¼Œæˆ‘ä»¬ç¦»å¾—é‚£ä¹ˆè¿‘å´éš¾ä»¥è§ä¸Šä¸€é¢ã€‚ä¹‹åçš„ä¸€å¹´æ›´æ˜¯æˆ‘ä»¬äººç”Ÿä¸­å…³é”®çš„ä¸€å¹´ï¼Œæˆ‘ä»¬è¦ç›¸æ¿¡ä»¥æ²«ï¼Œç ¥ç ºå‰è¡Œï¼Œå¤šä¸€ä»½åŒ…å®¹ï¼Œå¤šä¸€ä»½ç†è§£ï¼Œå°‘ä¸€ä»½äº‰åµï¼Œä¸ºæˆ‘ä»¬å¿ƒä¸­çš„ç†æƒ³è€ŒåŠªåŠ›ã€‚åƒè¨€ä¸‡è¯­é“ä¸å°½ï¼Œåªå¾…èŠ±å¼€å†é€¢æ—¶ã€‚</p><p>æœ€åæˆ‘æƒ³ç”¨å‘¨æ€»ç†çš„è¯æ¥ç»“å°¾ï¼š</p><blockquote><p><strong>æˆ‘ä¸€ç”Ÿéƒ½æ˜¯åšå®šä¸ç§»çš„å”¯ç‰©ä¸»ä¹‰è€…ï¼Œå”¯æœ‰ä½ ï¼Œæˆ‘å¸Œæœ›æœ‰æ¥ç”Ÿ</strong></p></blockquote><h2 id="ä¸€å¹´çš„æˆæœ"><a href="#ä¸€å¹´çš„æˆæœ" class="headerlink" title="ä¸€å¹´çš„æˆæœ"></a>ä¸€å¹´çš„æˆæœ</h2><p><img src="http://image.zhangzef.com/20200214220710.jpg" style="zoom: 15%;"></p><p><img src="http://image.zhangzef.com/20200214220708.jpg" style="zoom:50%;"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å¼ æ³½é”‹andéƒ­å¥•å®&quot;&gt;&lt;a href=&quot;#å¼ æ³½é”‹andéƒ­å¥•å®&quot; class=&quot;headerlink&quot; title=&quot;å¼ æ³½é”‹andéƒ­å¥•å®&quot;&gt;&lt;/a&gt;å¼ æ³½é”‹andéƒ­å¥•å®&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://image.zhangzef.com/202002
      
    
    </summary>
    
      <category term="å…³äºæˆ‘ä»¬" scheme="zhangzef.com/categories/%E5%85%B3%E4%BA%8E%E6%88%91%E4%BB%AC/"/>
    
    
  </entry>
  
  <entry>
    <title>kuangbinä¸“é¢˜å›› æœ€çŸ­è·¯ç»ƒä¹ </title>
    <link href="zhangzef.com/2020/02/05/kuangbin%E4%B8%93%E9%A2%98%E5%9B%9B-%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%BB%83%E4%B9%A0/"/>
    <id>zhangzef.com/2020/02/05/kuangbinä¸“é¢˜å››-æœ€çŸ­è·¯ç»ƒä¹ /</id>
    <published>2020-02-05T13:45:42.000Z</published>
    <updated>2020-02-14T10:54:47.394Z</updated>
    
    <content type="html"><![CDATA[<p>tipsï¼šå¤§å®¶è¯„è®ºçš„æ—¶å€™å†™ä¸€ä¸‹é‚®ç®±å’Œæ˜µç§°å‘€ï¼Œå¤´åƒæ˜¯æ ¹æ®æ˜µç§°å’Œé‚®ç®±éšæœºç”Ÿæˆçš„ğŸ˜</p><p><a href="https://vjudge.net/article/187" target="_blank" rel="noopener">kuangbinä¸“é¢˜åˆé›†</a></p><p><a href="https://www.zhihu.com/question/51727516/answer/127265733" target="_blank" rel="noopener">ACMæ­£ç¡®å…¥é—¨æ–¹å¼â€”â€”æ•°å­¦lover</a></p><h2 id="é¢˜ç›®åˆ—è¡¨"><a href="#é¢˜ç›®åˆ—è¡¨" class="headerlink" title="é¢˜ç›®åˆ—è¡¨"></a>é¢˜ç›®åˆ—è¡¨</h2><ol><li><strong><a href="https://vjudge.net/problem/POJ-2387" target="_blank" rel="noopener">POJ 2387</a></strong> Til the Cows Come Home    <font color="green">AC: 2020-02-05 21:08:20</font></li><li><a href="https://vjudge.net/problem/POJ-2253" target="_blank" rel="noopener"><strong>POJ 2253</strong></a> Frogger    <font color="green">AC: 2020-02-11 20:17:15</font></li><li><strong><a href="https://vjudge.net/problem/POJ-1797" target="_blank" rel="noopener">POJ 1797</a></strong> Heavy Transportation</li><li><a href="https://vjudge.net/problem/POJ-3268" target="_blank" rel="noopener"><strong>POJ 3268</strong></a> Silver Cow Party</li><li><a href="https://vjudge.net/problem/POJ-1860" target="_blank" rel="noopener"><strong>POJ 1860</strong></a> Currency Exchange</li><li><a href="https://vjudge.net/problem/POJ-3259" target="_blank" rel="noopener"><strong>POJ 3259</strong></a> Wormholes</li><li><a href="https://vjudge.net/problem/POJ-1502" target="_blank" rel="noopener"><strong>POJ 1502</strong></a> MPI Maelstrom</li><li><a href="https://vjudge.net/problem/POJ-3660" target="_blank" rel="noopener"><strong>POJ 3660</strong></a> Cow Contest</li><li><a href="https://vjudge.net/problem/POJ-2240" target="_blank" rel="noopener"><strong>POJ 2240</strong></a> Arbitrage</li><li><a href="https://vjudge.net/problem/POJ-1511" target="_blank" rel="noopener"><strong>POJ 1511</strong></a> Invitation Cards</li><li><a href="https://vjudge.net/problem/POJ-3159" target="_blank" rel="noopener"><strong>POJ 3159</strong></a> Candies</li><li><a href="https://vjudge.net/problem/POJ-2502" target="_blank" rel="noopener"><strong>POJ 2502</strong></a> Subway</li><li><a href="https://vjudge.net/problem/POJ-1062" target="_blank" rel="noopener"><strong>POJ 1062</strong></a> æ˜‚è´µçš„è˜ç¤¼</li><li><a href="https://vjudge.net/problem/POJ-1847" target="_blank" rel="noopener"><strong>POJ 1847</strong></a> Tram    <font color="green">AC: 2018-07-22 01:13:19</font></li><li><a href="https://vjudge.net/problem/LightOJ-1074" target="_blank" rel="noopener"><strong>LightOJ 1074</strong></a> Extended Traffic</li><li><a href="https://vjudge.net/problem/HDU-4725" target="_blank" rel="noopener"><strong>HDU 4725</strong></a> The Shortest Path in Nya Graph</li><li><a href="https://vjudge.net/problem/HDU-3416" target="_blank" rel="noopener"><strong>HDU 3416</strong></a> Marriage Match IV</li><li><a href="https://vjudge.net/problem/HDU-4370" target="_blank" rel="noopener"><strong>HDU 4370</strong></a> 0 or 1</li><li><a href="https://vjudge.net/problem/POJ-3169" target="_blank" rel="noopener"><strong>POJ 3169</strong></a> Layout</li></ol><h2 id="POJ-2387-Til-the-Cows-Come-Home"><a href="#POJ-2387-Til-the-Cows-Come-Home" class="headerlink" title="POJ 2387    Til the Cows Come Home"></a><a href="https://vjudge.net/problem/POJ-2387" target="_blank" rel="noopener">POJ 2387    Til the Cows Come Home</a></h2><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>æœ‰Nä¸ªç‚¹ï¼ŒTæ¡è¾¹ï¼Œæ¯æ¡è¾¹éƒ½æ˜¯åŒå‘è¾¹ã€‚è®©ä½ æ±‚å‡ºä»ç‚¹Nèµ°åˆ°ç‚¹1çš„æœ€çŸ­è·¯ã€‚ã€‚ã€‚</p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ï¼ˆwrtmï¼Œsbé¢˜å‘æ­»æˆ‘äº†ï¼Œå†™çš„æˆ‘æ€€ç–‘æ™ºå•†ï¼Œä¸€ä¸ªdijkstraæ¨¡æ¿é¢˜WAäº†å…­å‘ã€‚ã€‚ã€‚ï¼‰<br>dijkstraæ¨¡æ¿é¢˜ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ³¨æ„æ˜¯åŒå‘è¾¹ï¼Œå¦‚æœç”¨é‚»æ¥çŸ©é˜µçš„è¯è¦æ³¨æ„å¯èƒ½æœ‰é‡è¾¹ï¼Œé‚»æ¥è¡¨å°±ä¸ç”¨ç®¡æœ‰æ²¡æœ‰é‡è¾¹äº†ã€‚<br>æœ€ä¸»è¦çš„æ˜¯ä»–é¢˜ç›®ä¸­è¯´çš„æ¯æ¡è¾¹çš„èŒƒå›´æ˜¯1-100ï¼Œç„¶åæˆ‘æœ€å¤§å€¼å°±ç”¨1000äº†ï¼Œç»“æœä¸€ç›´WAï¼Œæˆ‘ä½›äº†ã€‚ã€‚ã€‚æœ€åæ”¹æˆäº†1&lt;&lt;30æ‰è¿‡çš„ã€‚ã€‚ã€‚</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Edge</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Edge</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> t, d;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Edge</span><span class="params">(<span class="keyword">int</span> t, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.t = t;</span><br><span class="line">        <span class="keyword">this</span>.d = d;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Edge o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.d &gt; o.d) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.d == o.d) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> t = cin.nextInt();</span><br><span class="line">        <span class="keyword">int</span> n = cin.nextInt();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> dis[] = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">10</span>];</span><br><span class="line">        List[] lists = <span class="keyword">new</span> List[n + <span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lists.length; i++) &#123;</span><br><span class="line">            lists[i] = <span class="keyword">new</span> ArrayList&lt;Edge&gt;();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; t; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> u = cin.nextInt(), v = cin.nextInt(), d = cin.nextInt();</span><br><span class="line">            lists[u - <span class="number">1</span>].add(<span class="keyword">new</span> Edge(v - <span class="number">1</span>, d));</span><br><span class="line">            lists[v - <span class="number">1</span>].add(<span class="keyword">new</span> Edge(u - <span class="number">1</span>, d));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            dis[i] = (i == n - <span class="number">1</span>) ? <span class="number">0</span> : (<span class="number">1</span> &lt;&lt; <span class="number">30</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        PriorityQueue&lt;Edge&gt; pQueue = <span class="keyword">new</span> PriorityQueue&lt;Edge&gt;();</span><br><span class="line">        Edge now = <span class="keyword">new</span> Edge(n - <span class="number">1</span>, dis[n - <span class="number">1</span>]);</span><br><span class="line">        pQueue.add(now);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!pQueue.isEmpty()) &#123;</span><br><span class="line">            now = pQueue.poll();</span><br><span class="line">            <span class="keyword">int</span> x = now.t;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lists[x].size(); i++) &#123;</span><br><span class="line">                Edge next = (Edge) lists[x].get(i);</span><br><span class="line">                <span class="keyword">int</span> y = next.t, w = next.d;</span><br><span class="line">                <span class="keyword">if</span> (dis[x] + w &lt; dis[y]) &#123;</span><br><span class="line">                    dis[y] = dis[x] + w;</span><br><span class="line">                    pQueue.add(<span class="keyword">new</span> Edge(y, dis[y]));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(dis[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="POJ-2253-Frogger"><a href="#POJ-2253-Frogger" class="headerlink" title="POJ 2253    Frogger"></a><a href="https://vjudge.net/problem/POJ-2253" target="_blank" rel="noopener">POJ 2253    Frogger</a></h2><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>æœ‰ä¸¤åªé’è›™åˆ†åˆ«åœ¨ä¸¤ä¸ªçŸ³å¤´ä¸Šï¼Œä»–ä»¬ä¸­é—´æœ‰ä¸€äº›çŸ³å¤´ï¼Œé’è›™Freddyæƒ³è¦è·³åˆ°é’è›™Fionaé‚£é‡Œï¼Œæ±‚å‡ºä¸¤ä¸ªé’è›™ä¹‹é—´çš„é’è›™è·ç¦»ã€‚ï¼ˆé‚£ä¹ˆä»€ä¹ˆæ˜¯é’è›™è·ç¦»å‘¢ï¼Œä¸€å¼€å§‹çœ‹é¢˜çš„æ—¶å€™æˆ‘ä¹Ÿä¸€è„¸æ‡µé€¼ï¼Œè¿™ä¸ªminimax distanceæ˜¯ä¸ªç¥tmçš„ç©æ„å„¿ï¼Ÿï¼Ÿï¼Ÿï¼‰</p><p>é’è›™è·ç¦»ï¼šä¸¤ä¸ªç‚¹ä¹‹é—´æœ‰è‹¥å¹²æ¡è·¯å¾„å¯ä»¥äº’é€šï¼Œé’è›™è·ç¦»å°±æ˜¯å–<strong>æ¯æ¡è·¯å¾„ä¸­çš„æœ€é•¿è¾¹</strong>ä¸­çš„<strong>æœ€å°å€¼</strong><br>å‡å¦‚ä»ç‚¹aåˆ°ç‚¹bæœ‰ä¸¤æ¡è·¯å¾„åˆ†åˆ«ä¸ºï¼ša-&gt;c-&gt;bï¼Œa-&gt;e-&gt;bï¼›å…¶ä¸­<strong>acé•¿åº¦ä¸º6</strong>ï¼Œ<strong>cbé•¿åº¦ä¸º9</strong>ï¼›<strong>aeé•¿åº¦ä¸º3</strong>ï¼Œ<strong>ebé•¿åº¦ä¸º10</strong>ã€‚é‚£ä¹ˆç¬¬ä¸€æ¡è·¯å¾„ä¸­æœ€é•¿çš„ä¸€æ¡è¾¹å°±æ˜¯cbï¼Œç¬¬äºŒæ¡è·¯å¾„ä¸­æœ€é•¿çš„ä¸€æ¡è¾¹å°±æ˜¯ebï¼Œé’è›™è·¯å¾„å°±æ˜¯å–<strong>cbå’Œebä¸­è¾ƒå°çš„ä¸€ä¸ª</strong>ï¼Œå³aåˆ°bçš„é’è›™è·ç¦»ä¸º9ã€‚</p><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>å…¶å®å°±æ˜¯æŠŠæœ€çŸ­è·¯çš„å®šä¹‰æ”¹äº†ä¸€ä¸‹ï¼ŒåŸæ¥æœ€çŸ­è·¯çš„å®šä¹‰æ˜¯ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·ç¦»ï¼Œç°åœ¨æ˜¯ä¸¤ç‚¹ä¹‹é—´è·¯å¾„ä¸­æœ€é•¿è¾¹çš„æœ€å°å€¼ï¼Œå°±æŠŠdijkstraã€SPFAæˆ–Floydä¸­çš„æ¾å¼›æ“ä½œçš„å…¬å¼æ”¹ä¸€ä¸‹å°±è¡Œäº†ï¼Œå…¶ä»–ç…§æ—§ã€‚å› ä¸ºè¿™ä¸ªé¢˜æ˜¯å®Œå…¨å›¾ï¼Œæ‰€ä»¥ç”¨é‚»æ¥çŸ©é˜µæ¯”è¾ƒå®¹æ˜“ä¸€äº›ã€‚<br>åˆ«ç»™æˆ‘è¯´ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»å…¬å¼ä¸ä¼šã€‚ã€‚ã€‚</p><p><img src="http://image.zhangzef.com/20200214182253.png" alt="img" style="zoom: 50%;"></p><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line"><span class="keyword">this</span>.x = x;</span><br><span class="line"><span class="keyword">this</span>.y = y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> x, y;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">double</span> dis[] = <span class="keyword">new</span> <span class="keyword">double</span>[<span class="number">300</span>];</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">double</span>[][] mp = <span class="keyword">new</span> <span class="keyword">double</span>[<span class="number">300</span>][<span class="number">300</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">boolean</span> vis[] = <span class="keyword">new</span> <span class="keyword">boolean</span>[n+<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vis.length; i++) &#123;</span><br><span class="line">vis[i] = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">double</span> mn = <span class="number">100000.0</span>;</span><br><span class="line"><span class="keyword">int</span> x=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (!vis[j] &amp;&amp; dis[j]&lt;mn) &#123;</span><br><span class="line">mn = dis[j];</span><br><span class="line">x = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (mn == <span class="number">100000.0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">vis[x] = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">dis[j] = Math.min(dis[j], Math.max(mp[x][j],mn));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"><span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">n = cin.nextInt();</span><br><span class="line">t++;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">List&lt;Point&gt; points = <span class="keyword">new</span> ArrayList&lt;Point&gt;();</span><br><span class="line">dis[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">mp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">double</span> x, y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">x = cin.nextInt();</span><br><span class="line">y = cin.nextInt();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; points.size(); j++) &#123;</span><br><span class="line"><span class="keyword">double</span> z = Math.sqrt((points.get(j).x - x) * (points.get(j).x - x)</span><br><span class="line">+ (points.get(j).y - y) * (points.get(j).y - y));<span class="comment">//ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»å…¬å¼</span></span><br><span class="line"><span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">dis[i] = z;</span><br><span class="line">&#125;</span><br><span class="line">mp[i][j] = z;</span><br><span class="line">mp[j][i] = z;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">points.add(<span class="keyword">new</span> Point(x, y));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dijkstra();</span><br><span class="line">System.out.println(<span class="string">"Scenario #"</span> + t + <span class="string">"\nFrog Distance = "</span> + String.format(<span class="string">"%.3f"</span>, dis[<span class="number">1</span>]) + <span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;tipsï¼šå¤§å®¶è¯„è®ºçš„æ—¶å€™å†™ä¸€ä¸‹é‚®ç®±å’Œæ˜µç§°å‘€ï¼Œå¤´åƒæ˜¯æ ¹æ®æ˜µç§°å’Œé‚®ç®±éšæœºç”Ÿæˆçš„ğŸ˜&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://vjudge.net/article/187&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;kuangbinä¸“é¢˜åˆé›†&lt;/a&gt;&lt;/
      
    
    </summary>
    
      <category term="åˆ·é¢˜" scheme="zhangzef.com/categories/%E5%88%B7%E9%A2%98/"/>
    
    
      <category term="ACM" scheme="zhangzef.com/tags/ACM/"/>
    
      <category term="æœ€çŸ­è·¯" scheme="zhangzef.com/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
      <category term="è“æ¡¥æ¯" scheme="zhangzef.com/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/"/>
    
      <category term="dijkstra" scheme="zhangzef.com/tags/dijkstra/"/>
    
  </entry>
  
  <entry>
    <title>åƒç“œç¨‹åº</title>
    <link href="zhangzef.com/2020/01/12/%E5%90%83%E7%93%9C%E7%A8%8B%E5%BA%8F/"/>
    <id>zhangzef.com/2020/01/12/åƒç“œç¨‹åº/</id>
    <published>2020-01-12T14:27:59.000Z</published>
    <updated>2020-02-14T10:53:57.845Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡çº¯å±å¨±ä¹ï¼Œå¯’å‡äº†æ²¡äº‹æ‰¾äº‹å¹²ï¼ˆè¯è¯´æˆ‘å¥½åƒä¹Ÿä¸æ˜¯æ²¡äº‹ï¼Œè¯¥å‡†å¤‡è€ƒç ”äº†ï¼‰,ç”¨C#æ§åˆ¶å°å®ç°äº†ä¸€ä¸‹å¥½ç“œåç“œä»å‡è®¾ç©ºé—´æ±‚å¯¹åº”æ•°æ®é›†çš„ç‰ˆæœ¬ç©ºé—´ã€‚</p><h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p><strong>å‡è®¾ç©ºé—´</strong>ï¼šå±æ€§æ‰€æœ‰å¯èƒ½å–å€¼ç»„æˆçš„å¯èƒ½çš„æ ·æœ¬ã€‚</p><p><strong>ç‰ˆæœ¬ç©ºé—´</strong>ï¼šä¸å·²çŸ¥æ•°æ®é›†ä¸€è‡´çš„æ‰€æœ‰å‡è®¾çš„å­é›†é›†åˆã€‚</p><p><img src="http://image.zhangzef.com/20200214185055.png" alt="img" style="zoom: 80%;"></p><p>ï¼ˆç»¿è‰²åŠ å·ä»£è¡¨æ­£ç±»æ ·æœ¬ï¼Œçº¢è‰²å°åœˆä»£è¡¨è´Ÿç±»æ ·æœ¬ï¼‰</p><p>GB æ˜¯æœ€å¤§æ³›åŒ–æ­£å‡è®¾è¾¹ç•Œ(maximally General positive hypothesis Boundary),ï¼›</p><p>SB æ˜¯æœ€å¤§ç²¾ç¡®æ­£å‡è®¾è¾¹ç•Œ(maximally Specific positive hypothesis Boundary)</p><p>GBä¸SBä¹‹é—´æ‰€å›´æˆçš„åŒºåŸŸå°±æ˜¯ç‰ˆæœ¬ç©ºé—´ã€‚</p><h1 id="è¥¿ç“œé—®é¢˜"><a href="#è¥¿ç“œé—®é¢˜" class="headerlink" title="è¥¿ç“œé—®é¢˜"></a>è¥¿ç“œé—®é¢˜</h1><p>å…ˆå†™å‡ºå‡è®¾ç©ºé—´ï¼Œå†æ ¹æ®è®­ç»ƒæ•°æ®é›†æ±‚å…¶ç‰ˆæœ¬ç©ºé—´</p><ol><li>å‡è®¾ç©ºé—´ï¼Œå³æ‰€æœ‰å¯èƒ½çš„ç»„åˆï¼ˆåŠ ä¸Šç©ºé›†ï¼‰</li><li>å†æ ¹æ®è®­ç»ƒæ•°æ®é›†ï¼Œä¸æ­£ç±»ï¼ˆå³å¥½ç“œï¼‰ä¸åŒ¹é…çš„åˆ é™¤ï¼Œä¸è´Ÿç±»ï¼ˆå³åç“œï¼‰åŒ¹é…çš„åˆ é™¤ã€‚</li></ol><p><strong>ä¸Šä»£ç </strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">namespace ConsoleApp1</span><br><span class="line">&#123;</span><br><span class="line">    struct Gua                  //ç“œçš„ç»“æ„ä½“</span><br><span class="line">    &#123;</span><br><span class="line">        public string Se;       //è‰²æ³½</span><br><span class="line">        public string Gen;      //æ ¹è’‚</span><br><span class="line">        public string Qiao;     //æ•²å£°</span><br><span class="line">        public bool isEmpty;    //æ˜¯å¦ä¸ºç©ºé›†</span><br><span class="line">        public bool isHaoGua;   //æ˜¯å¦ä¸ºå¥½ç“œï¼Œç”¨äºæ ‡è®°è®­ç»ƒæ•°æ®é›†</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    class Program</span><br><span class="line">    &#123;</span><br><span class="line">        static string print(Gua gua)    //ç”¨äºè¾“å‡ºç“œçš„å±æ€§ï¼Œå³toStringå‡½æ•°</span><br><span class="line">        &#123;</span><br><span class="line">            if (gua.isEmpty)</span><br><span class="line">            &#123;</span><br><span class="line">                return &quot;âˆ…&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            return &quot;è‰²æ³½=&quot; + gua.Se + &quot;, æ ¹è’‚=&quot; + gua.Gen + &quot;, æ•²å£°=&quot; + gua.Qiao;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        static void Main(string[] args)</span><br><span class="line">        &#123;</span><br><span class="line">            string[] seze = &#123; &quot;*&quot;, &quot;é’ç»¿&quot;, &quot;ä¹Œé»‘&quot; &#125;;                //è‰²æ³½</span><br><span class="line">            string[] gendi = &#123; &quot;*&quot;, &quot;èœ·ç¼©&quot;, &quot;ç¡¬æŒº&quot;, &quot;ç¨èœ·&quot; &#125;;       //æ ¹è’‚</span><br><span class="line">            string[] qiaosheng = &#123; &quot;*&quot;, &quot;æµŠå“&quot;, &quot;æ¸…è„†&quot;, &quot;æ²‰é—·&quot; &#125;;   //æ•²å£°</span><br><span class="line">            List&lt;Gua&gt; Space = new List&lt;Gua&gt;();                      //åˆå§‹ä¸ºå‡è®¾ç©ºé—´çš„åˆ—è¡¨</span><br><span class="line">            List&lt;Gua&gt; TrainData = new List&lt;Gua&gt;();                  //è®­ç»ƒæ•°æ®é›†</span><br><span class="line">            Gua gua = new Gua();                                    //æ·»åŠ ç©ºé›†</span><br><span class="line">            gua.isEmpty = true;</span><br><span class="line">            gua.isHaoGua = false;</span><br><span class="line">            Space.Add(gua);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            foreach (var item in seze)                  //æ±‚å‡è®¾ç©ºé—´</span><br><span class="line">            &#123;</span><br><span class="line">                foreach (var item1 in gendi)</span><br><span class="line">                &#123;</span><br><span class="line">                    foreach (var item2 in qiaosheng)</span><br><span class="line">                    &#123;</span><br><span class="line">                        Gua g = new Gua();</span><br><span class="line">                        g.Se = item;</span><br><span class="line">                        g.Gen = item1;</span><br><span class="line">                        g.Qiao = item2;</span><br><span class="line">                        g.isEmpty = false;</span><br><span class="line">                        g.isHaoGua = false;</span><br><span class="line">                        Space.Add(g);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //æ­¤å¤„ä¸ºè¾“å…¥è®­ç»ƒæ•°æ®é›†</span><br><span class="line">            Gua hao = new Gua();        //è¯¥æ•°æ®ä¸ºä¹¦ä¸­è¡¨1.1çš„æ•°æ®1</span><br><span class="line">            hao.isHaoGua = true;</span><br><span class="line">            hao.isEmpty = false;</span><br><span class="line">            hao.Se = seze[1];</span><br><span class="line">            hao.Gen = gendi[1];</span><br><span class="line">            hao.Qiao = qiaosheng[1];</span><br><span class="line">            TrainData.Add(hao);</span><br><span class="line"></span><br><span class="line">            Gua hao1 = new Gua();       //è¯¥æ•°æ®ä¸ºä¹¦ä¸­è¡¨1.1çš„æ•°æ®2</span><br><span class="line">            hao1.isHaoGua = true;</span><br><span class="line">            hao1.isEmpty = false;</span><br><span class="line">            hao1.Se = seze[2];</span><br><span class="line">            hao1.Gen = gendi[1];</span><br><span class="line">            hao1.Qiao = qiaosheng[1];</span><br><span class="line">            TrainData.Add(hao1);</span><br><span class="line"></span><br><span class="line">            Gua huai = new Gua();       //è¯¥æ•°æ®ä¸ºä¹¦ä¸­è¡¨1.1çš„æ•°æ®3</span><br><span class="line">            huai.isHaoGua = false;</span><br><span class="line">            huai.isEmpty = false;</span><br><span class="line">            huai.Se = seze[1];</span><br><span class="line">            huai.Gen = gendi[2];</span><br><span class="line">            huai.Qiao = qiaosheng[2];</span><br><span class="line">            TrainData.Add(huai);</span><br><span class="line"></span><br><span class="line">            Gua huai1 = new Gua();      //è¯¥æ•°æ®ä¸ºä¹¦ä¸­è¡¨1.1çš„æ•°æ®4</span><br><span class="line">            huai1.isHaoGua = false;</span><br><span class="line">            huai1.isEmpty = false;</span><br><span class="line">            huai1.Se = seze[2];</span><br><span class="line">            huai1.Gen = gendi[3];</span><br><span class="line">            huai1.Qiao = qiaosheng[3];</span><br><span class="line">            TrainData.Add(huai1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            //é€šè¿‡è®­ç»ƒæ•°æ®é›†å¯¹å‡è®¾ç©ºé—´è¿›è¡Œå‰”é™¤ï¼Œæ±‚å…¶ç‰ˆæœ¬ç©ºé—´</span><br><span class="line">            foreach (var item in TrainData)</span><br><span class="line">            &#123;</span><br><span class="line">                for (int i = Space.Count-1; i &gt;= 0; i--)</span><br><span class="line">                &#123;</span><br><span class="line">                    var item1 = Space[i];</span><br><span class="line">                    if (item.isHaoGua)//å¦‚æœæœ‰å¥½ç“œ</span><br><span class="line">                    &#123;</span><br><span class="line">                        if (item1.isEmpty)//å¦‚æœæœ‰å¥½ç“œåˆ™ä¸å¯èƒ½å­˜åœ¨ç©ºé›†ï¼Œåˆ é™¤ç©ºé›†</span><br><span class="line">                        &#123;</span><br><span class="line">                            Space.Remove(item1);</span><br><span class="line">                            continue;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        if ((item1.Se.Equals(item.Se) || item1.Se.Equals(&quot;*&quot;)) &amp;&amp; (item1.Gen.Equals(item.Gen) || item1.Gen.Equals(&quot;*&quot;))</span><br><span class="line">                            &amp;&amp; (item1.Qiao.Equals(item.Qiao) || item1.Qiao.Equals(&quot;*&quot;)))    //å’Œå¥½ç“œç›¸åŒ¹é…çš„æ•°æ®ä¸åˆ é™¤</span><br><span class="line">                        &#123;</span><br><span class="line">                            continue;</span><br><span class="line">                        &#125;</span><br><span class="line">                        else</span><br><span class="line">                        &#123;</span><br><span class="line">                            Space.Remove(item1);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    else</span><br><span class="line">                    &#123;</span><br><span class="line">                        if ((item1.Se.Equals(item.Se) || item1.Se.Equals(&quot;*&quot;)) &amp;&amp; (item1.Gen.Equals(item.Gen) || item1.Gen.Equals(&quot;*&quot;))</span><br><span class="line">                            &amp;&amp; (item1.Qiao.Equals(item.Qiao) || item1.Qiao.Equals(&quot;*&quot;)))    //å’Œåç“œç›¸åŒ¹é…çš„æ•°æ®åˆ é™¤</span><br><span class="line">                        &#123;</span><br><span class="line">                            Space.Remove(item1);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            foreach (var item in Space)         //è¾“å‡º</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(print(item));</span><br><span class="line">            &#125;</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬æ–‡çº¯å±å¨±ä¹ï¼Œå¯’å‡äº†æ²¡äº‹æ‰¾äº‹å¹²ï¼ˆè¯è¯´æˆ‘å¥½åƒä¹Ÿä¸æ˜¯æ²¡äº‹ï¼Œè¯¥å‡†å¤‡è€ƒç ”äº†ï¼‰,ç”¨C#æ§åˆ¶å°å®ç°äº†ä¸€ä¸‹å¥½ç“œåç“œä»å‡è®¾ç©ºé—´æ±‚å¯¹åº”æ•°æ®é›†çš„ç‰ˆæœ¬ç©ºé—´ã€‚&lt;/p&gt;
&lt;h1 id=&quot;æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚å¿µ&quot;&gt;&lt;/a&gt;æ¦‚å¿µ&lt;/h
      
    
    </summary>
    
      <category term="æœºå™¨å­¦ä¹ " scheme="zhangzef.com/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="è¥¿ç“œä¹¦" scheme="zhangzef.com/tags/%E8%A5%BF%E7%93%9C%E4%B9%A6/"/>
    
      <category term="æœºå™¨å­¦ä¹ " scheme="zhangzef.com/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>SpringMVC--äºŒã€SpringMVCè¯·æ±‚å‚æ•°ç»‘å®šå’Œå¸¸ç”¨æ³¨è§£</title>
    <link href="zhangzef.com/2019/11/19/SpringMVC--%E4%BA%8C%E3%80%81SpringMVC%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A%E5%92%8C%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/"/>
    <id>zhangzef.com/2019/11/19/SpringMVC--äºŒã€SpringMVCè¯·æ±‚å‚æ•°ç»‘å®šå’Œå¸¸ç”¨æ³¨è§£/</id>
    <published>2019-11-19T09:42:51.000Z</published>
    <updated>2020-02-14T10:55:34.815Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¯·æ±‚å‚æ•°ç»‘å®š"><a href="#è¯·æ±‚å‚æ•°ç»‘å®š" class="headerlink" title="è¯·æ±‚å‚æ•°ç»‘å®š"></a>è¯·æ±‚å‚æ•°ç»‘å®š</h2><h3 id="ç»‘å®šæœºåˆ¶"><a href="#ç»‘å®šæœºåˆ¶" class="headerlink" title="ç»‘å®šæœºåˆ¶"></a>ç»‘å®šæœºåˆ¶</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè¡¨å•ä¸­è¯·æ±‚å‚æ•°éƒ½æ˜¯åŸºäºkey=valueçš„ã€‚ SpringMVCç»‘å®šè¯·æ±‚å‚æ•°çš„è¿‡ç¨‹æ˜¯é€šè¿‡æŠŠè¡¨å•æäº¤è¯·æ±‚å‚æ•°ï¼Œä½œä¸ºæ§åˆ¶å™¨ä¸­æ–¹æ³•å‚æ•°è¿›è¡Œç»‘å®šçš„ã€‚</p><h3 id="æ”¯æŒçš„æ•°æ®ç±»å‹"><a href="#æ”¯æŒçš„æ•°æ®ç±»å‹" class="headerlink" title="æ”¯æŒçš„æ•°æ®ç±»å‹"></a>æ”¯æŒçš„æ•°æ®ç±»å‹</h3><h4 id="åŸºæœ¬ç±»å‹å‚æ•°ï¼š-åŒ…æ‹¬åŸºæœ¬ç±»å‹å’ŒStringç±»å‹"><a href="#åŸºæœ¬ç±»å‹å‚æ•°ï¼š-åŒ…æ‹¬åŸºæœ¬ç±»å‹å’ŒStringç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹å‚æ•°ï¼š åŒ…æ‹¬åŸºæœ¬ç±»å‹å’ŒStringç±»å‹"></a>åŸºæœ¬ç±»å‹å‚æ•°ï¼š åŒ…æ‹¬åŸºæœ¬ç±»å‹å’ŒStringç±»å‹</h4><p>æˆ‘ä»¬åœ¨è¡¨å•ä¸­çš„å‚æ•°åç§°å¿…é¡»å’Œæ§åˆ¶å™¨ä¸­æ–¹æ³•çš„å½¢å‚åç§°ä¿æŒä¸€è‡´ã€‚(ä¸¥æ ¼åŒºåˆ†å¤§å°å†™)</p><p>index.jspæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"param/test"</span>&gt;</span></span><br><span class="line">    å§“åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    å¹´é¾„ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"age"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"æäº¤"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Controllerç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/param"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ParamController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">ParamTest</span><span class="params">(String name, User user)</span></span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">'\t'</span> + user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Userç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    String password;</span><br><span class="line">    Integer age;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">                <span class="string">"password='"</span> + password + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç›´æ¥ä½¿ç”¨å®ä½“ç±»çš„æ—¶å€™ï¼Œè¡¨å•ä¸­çš„nameå‘½åå¯ä»¥å½“ä½œåŸºæœ¬ç±»å‹ï¼Œä½†æ˜¯å½“å®ä½“ç±»ä¸­ä½¿ç”¨å…¶ä»–å®ä½“ç±»ï¼Œè¦ä½¿ç”¨å¦‚ä¸‹å‘½åæ–¹å¼</p><h4 id="POJOç±»å‹å‚æ•°ï¼š-åŒ…æ‹¬å®ä½“ç±»ï¼Œä»¥åŠå…³è”çš„å®ä½“ç±»"><a href="#POJOç±»å‹å‚æ•°ï¼š-åŒ…æ‹¬å®ä½“ç±»ï¼Œä»¥åŠå…³è”çš„å®ä½“ç±»" class="headerlink" title="POJOç±»å‹å‚æ•°ï¼š åŒ…æ‹¬å®ä½“ç±»ï¼Œä»¥åŠå…³è”çš„å®ä½“ç±»"></a>POJOç±»å‹å‚æ•°ï¼š åŒ…æ‹¬å®ä½“ç±»ï¼Œä»¥åŠå…³è”çš„å®ä½“ç±»</h4><p>ä¸­æ–‡é‡Šä¹‰ä¸ºç®€å•çš„javaå¯¹è±¡ï¼Œå…¶å®å°±æ˜¯Java beanï¼Œå¥½åƒæ˜¯ä¸ºäº†é¿å…å’ŒEJBæ··æ·†æ‰€åˆ›é€ çš„ç®€ç§°<br>è¦æ±‚è¡¨å•ä¸­å‚æ•°åç§°å’ŒPOJOç±»çš„å±æ€§åç§°ä¿æŒä¸€è‡´ã€‚å¹¶ä¸”æ§åˆ¶å™¨æ–¹æ³•çš„å‚æ•°ç±»å‹æ˜¯POJOç±»å‹ã€‚ä¾‹å¦‚ï¼šname.firstname<br>ç”¨äºè¿™é‡Œçš„å®ä½“ç±»<strong>éƒ½è¦å®ç°Serializableæ¥å£</strong></p><p>index.jsp</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"param/test"</span>&gt;</span><br><span class="line">    å§“ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"name.firstname"</span>&gt;&lt;br&gt;</span><br><span class="line">    åï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"name.secondname"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¯†ç ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"password"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¹´é¾„ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"age"</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"æäº¤"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><p>Controllerç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/param"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ParamController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">ParamTest</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Userç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    String password;</span><br><span class="line">    Name name;<span class="comment">//è‡ªå®šä¹‰ç±»å‹JavaBean</span></span><br><span class="line">    Integer age;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">                <span class="string">"password='"</span> + password + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", name="</span> + name +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Name <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(Name name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Nameç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Name</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Name&#123;"</span> +</span><br><span class="line">                <span class="string">"firstname='"</span> + firstname + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", secondname='"</span> + secondname + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String firstname, secondname;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFirstname</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> firstname;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFirstname</span><span class="params">(String firstname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.firstname = firstname;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSecondname</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> secondname;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSecondname</span><span class="params">(String secondname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.secondname = secondname;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ•°ç»„å’Œé›†åˆç±»å‹å‚æ•°ï¼š-åŒ…æ‹¬Listç»“æ„å’ŒMapç»“æ„çš„é›†åˆï¼ˆåŒ…æ‹¬æ•°ç»„ï¼‰"><a href="#æ•°ç»„å’Œé›†åˆç±»å‹å‚æ•°ï¼š-åŒ…æ‹¬Listç»“æ„å’ŒMapç»“æ„çš„é›†åˆï¼ˆåŒ…æ‹¬æ•°ç»„ï¼‰" class="headerlink" title="æ•°ç»„å’Œé›†åˆç±»å‹å‚æ•°ï¼š åŒ…æ‹¬Listç»“æ„å’ŒMapç»“æ„çš„é›†åˆï¼ˆåŒ…æ‹¬æ•°ç»„ï¼‰"></a>æ•°ç»„å’Œé›†åˆç±»å‹å‚æ•°ï¼š åŒ…æ‹¬Listç»“æ„å’ŒMapç»“æ„çš„é›†åˆï¼ˆåŒ…æ‹¬æ•°ç»„ï¼‰</h4><ul><li>è¦æ±‚é›†åˆç±»å‹çš„è¯·æ±‚å‚æ•°å¿…é¡»åœ¨POJOä¸­ã€‚åœ¨è¡¨å•ä¸­è¯·æ±‚å‚æ•°åç§°è¦å’ŒPOJOä¸­é›†åˆå±æ€§åç§°ç›¸åŒã€‚<br>ç»™Listé›†åˆä¸­çš„å…ƒç´ èµ‹å€¼ï¼Œä½¿ç”¨ä¸‹æ ‡ã€‚ ä¾‹å¦‚ï¼šlist[0].user<br>ç»™Mapé›†åˆä¸­çš„å…ƒç´ èµ‹å€¼ï¼Œä½¿ç”¨é”®å€¼å¯¹ã€‚ä¾‹å¦‚ï¼šmap[â€˜oneâ€™].user</li><li>æ¥æ”¶çš„è¯·æ±‚å‚æ•°æ˜¯jsonæ ¼å¼æ•°æ®ã€‚éœ€è¦å€ŸåŠ©ä¸€ä¸ªæ³¨è§£å®ç°ã€‚</li></ul><p>index.jsp</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"param/test"</span>&gt;</span><br><span class="line">    å§“ä¸€ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"nameList[0].firstname"</span>&gt;&lt;br&gt;</span><br><span class="line">    åä¸€ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"nameList[0].secondname"</span>&gt;&lt;br&gt;</span><br><span class="line">    å§“äºŒï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"nameList[1].firstname"</span>&gt;&lt;br&gt;</span><br><span class="line">    åäºŒï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"nameList[1].secondname"</span>&gt;&lt;br&gt;</span><br><span class="line">    å§“ä¸‰ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"nameMap['one'].firstname"</span>&gt;&lt;br&gt;</span><br><span class="line">    åä¸‰ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"nameMap['one'].secondname"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¯†ç ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"password"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¹´é¾„ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"age"</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"æäº¤"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><p>Controllerç±»åŒä¸Š</p><p>Userç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    String password;</span><br><span class="line">    Integer age;</span><br><span class="line">    List&lt;Name&gt; nameList;</span><br><span class="line">    Map&lt;String, Name&gt; nameMap;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">                <span class="string">"password='"</span> + password + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">", nameList="</span> + nameList +</span><br><span class="line">                <span class="string">", nameMap="</span> + nameMap +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Name&gt; <span class="title">getNameList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> nameList;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNameList</span><span class="params">(List&lt;Name&gt; nameList)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nameList = nameList;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Name&gt; <span class="title">getNameMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> nameMap;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNameMap</span><span class="params">(Map&lt;String, Name&gt; nameMap)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nameMap = nameMap;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Nameç±»åŒä¸Š</p><h3 id="è¯·æ±‚å‚æ•°ä¹±ç é—®é¢˜"><a href="#è¯·æ±‚å‚æ•°ä¹±ç é—®é¢˜" class="headerlink" title="è¯·æ±‚å‚æ•°ä¹±ç é—®é¢˜"></a>è¯·æ±‚å‚æ•°ä¹±ç é—®é¢˜</h3><p>åœ¨web.xmlä¸­é…ç½®Springæä¾›çš„è¿‡æ»¤å™¨ç±»ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®è¿‡æ»¤å™¨ï¼Œè§£å†³ä¸­æ–‡ä¹±ç çš„é—®é¢˜ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filterclass</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šå­—ç¬¦é›† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/*ä»£è¡¨æ‹¦æˆªæ‰€æœ‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨"><a href="#è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨" class="headerlink" title="è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨"></a>è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</h3><p>ä»»ä½•å˜é‡ä»jspä¼ åˆ°æ§åˆ¶å™¨ç”¨çš„éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå½“å…¶åˆ°æ§åˆ¶å™¨æ—¶ï¼ŒSpringæœ‰è‡ªå®šä¹‰çš„ç±»å‹è½¬æ¢å™¨å°†å…¶è½¬æ¢ä¸ºç‰¹å®šçš„ç±»å‹çš„å˜é‡ï¼Œå½“æœ‰äº›å˜é‡æ— æ³•é€šè¿‡Springè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨è½¬æ¢ç±»å‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªç±»å‹è½¬æ¢å™¨æ¥å¸®åŠ©è½¬æ¢ã€‚</p><p>ä¾‹å¦‚Dataç±»ï¼Œé»˜è®¤æ—¥æœŸæ ¼å¼ä¸º1999/10/1ï¼Œå½“æˆ‘ä»¬è¾“å…¥1999-10-1æ—¶åˆ™ä¼šå‘ç”Ÿé”™è¯¯ï¼ŒSpringè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨æ— æ³•è½¬æ¢ï¼Œæ­¤æ—¶æˆ‘ä»¬è‡ªå·±å®šä¹‰ä¸€ä¸ªç±»å‹è½¬æ¢å™¨ï¼Œæ¥è®²1999-10-1æ ¼å¼çš„æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢æˆDataç±»ã€‚</p><h4 id="å®šä¹‰ä¸€ä¸ªç±»å‹è½¬æ¢å™¨ç±»"><a href="#å®šä¹‰ä¸€ä¸ªç±»å‹è½¬æ¢å™¨ç±»" class="headerlink" title="å®šä¹‰ä¸€ä¸ªç±»å‹è½¬æ¢å™¨ç±»"></a>å®šä¹‰ä¸€ä¸ªç±»å‹è½¬æ¢å™¨ç±»</h4><p>è‡ªå®šä¹‰çš„ç±»å‹è½¬æ¢å™¨ç±»éœ€è¦ç»§æ‰¿ä¸€ä¸ª<strong>Converter</strong>æ¥å£ï¼Œè¦çœ‹æ¸…æ¥šæ˜¯Springæ ¸å¿ƒåŒ…ä¸­çš„Converteræ¥å£ï¼š<img src="http://image.zhangzef.com/20200214184006.png" alt="img"></p><p>ç±»ä¸­çš„ä¸¤ä¸ªæ³›å‹Så’ŒTåˆ†åˆ«å†™è¦ä»ç±»å‹Sè½¬æ¢åˆ°ç±»å‹T</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringToData</span> <span class="keyword">implements</span> <span class="title">Converter</span>&lt;<span class="title">String</span>, <span class="title">Date</span>&gt;</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">convert</span><span class="params">(String source)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (source==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"å€¼ç©º"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        SimpleDateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> dateFormat.parse(source);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"é”™è¯¯"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é…ç½®è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨"><a href="#é…ç½®è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨" class="headerlink" title="é…ç½®è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨"></a>é…ç½®è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</h4><p>åœ¨resourcesä¸­çš„xmlé…ç½®æ–‡ä»¶ä¸­é…ç½®è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨ï¼Œå°±æ˜¯ä½ é…ç½®è§†å›¾è§£æå™¨çš„é‚£ä¸ªé…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"conversionServiceFactoryBean"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.context.support.ConversionServiceFactoryBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"converters"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.utils.StringToData"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é…ç½®springå¼€å¯æ³¨è§£mvcçš„æ”¯æŒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span> <span class="attr">conversion-service</span>=<span class="string">"conversionServiceFactoryBean"</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¿˜è¦ä¿®æ”¹å¼€å¯æ³¨è§£mvcçš„æ”¯æŒï¼Œå› ä¸ºåœ¨å¼€å¯æ³¨è§£mvcçš„æ”¯æŒæ—¶æ˜¯é»˜è®¤å¼€å¯äº†å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨ä¸‰å¤§ç»„ä»¶ï¼Œè€Œç°åœ¨æƒ³ç”¨ç±»å‹è½¬æ¢å™¨ï¼Œåˆ™å¿…é¡»åœ¨è¿™é‡Œé…ç½®å¼€å¯ã€‚</p><h2 id="å¸¸ç”¨æ³¨è§£"><a href="#å¸¸ç”¨æ³¨è§£" class="headerlink" title="å¸¸ç”¨æ³¨è§£"></a>å¸¸ç”¨æ³¨è§£</h2><h3 id="RequestParam"><a href="#RequestParam" class="headerlink" title="RequestParam"></a>RequestParam</h3><h4 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><p>ä½œç”¨ï¼šæŠŠè¯·æ±‚ä¸­çš„æŒ‡å®šåç§°çš„å‚æ•°ä¼ é€’ç»™æ§åˆ¶å™¨ä¸­çš„å½¢å‚èµ‹å€¼</p><p>å±æ€§ï¼š</p><ol><li>valueï¼šè¯·æ±‚å‚æ•°ä¸­çš„åç§°ï¼ˆå½“ä½ ä½¿ç”¨äº†RequestParamæ³¨è§£ä¹‹åå°±å¿…é¡»æŒ‰ç…§valueä¸­çš„å‘½åæ¥ä¼ é€’å‚æ•°ï¼Œä¸èƒ½å†åƒè¯·æ±‚å‚æ•°ç»‘å®šä¸­ï¼ŒæŠŠå‚æ•°å‘½åæˆç›¸åŒçš„åå­—äº†ã€‚ï¼‰</li><li>requiredï¼šè¯·æ±‚å‚æ•°ä¸­æ˜¯å¦å¿…é¡»æä¾›æ­¤å‚æ•°ï¼Œé»˜è®¤å€¼æ˜¯trueï¼ˆå³å¿…é¡»æä¾›ï¼Œå¦‚æœä¸æä¾›å°†æŠ¥é”™ï¼‰</li></ol><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><h5 id="index-jsp"><a href="#index-jsp" class="headerlink" title="index.jsp"></a>index.jsp</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;a href="anno/testRp?name=haha"&gt;testRequestParam&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h5 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"anno"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnoController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/testRp"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">testRp</span><span class="params">(@RequestParam(value = <span class="string">"name"</span>, required = <span class="keyword">false</span>)</span> String username)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (username==<span class="keyword">null</span>)</span><br><span class="line">            System.out.println(<span class="string">"æ— ç”¨æˆ·å"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            System.out.println(username);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬æŠŠrequiredæ”¹ä¸ºfalseï¼Œåˆ™å½“æ²¡æœ‰å‚æ•°ä¼ é€’ç»™usernameæ—¶å®ƒä¸ºnullã€‚å½“ä½¿ç”¨RequestParamæ—¶åˆ™å¿…é¡»æŒ‰ç…§å®ƒçš„valueåœ¨jspé¡µé¢å‘½åï¼Œä¸èƒ½åƒè¯·æ±‚å‚æ•°ç»‘å®šä¸­å‘½åæˆç›¸åŒçš„åå­—ã€‚ä¾‹å¦‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œjspé¡µé¢æƒ³è¦ä¼ é€’å‚æ•°ç»™æ§åˆ¶å™¨ä¸­çš„usernameï¼Œå°±å¿…é¡»ç»™æ§åˆ¶å™¨ä¼ é€’ä¸€ä¸ªåä¸ºnameçš„å‚æ•°ï¼Œè€Œä¸èƒ½ä¼ é€’ä¸€ä¸ªåä¸ºusernameçš„å‚æ•°ã€‚</p><h3 id="RequestBody"><a href="#RequestBody" class="headerlink" title="RequestBody"></a>RequestBody</h3><h4 id="ä½¿ç”¨è¯´æ˜-1"><a href="#ä½¿ç”¨è¯´æ˜-1" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><p>ä½œç”¨ï¼šç”¨äºè·å–è¯·æ±‚ä½“çš„å†…å®¹ï¼Œç›´æ¥ä½¿ç”¨å¾—åˆ°æ˜¯key=value&amp;key=valueâ€¦ç»“æ„çš„æ•°æ®ã€‚ï¼ˆæ³¨æ„ï¼šgetæ–¹æ³•ä¸å¯ä»¥ï¼Œå› ä¸ºgetæ²¡æœ‰è¯·æ±‚ä½“ï¼Œå®ƒæŠŠå‚æ•°éƒ½å°è£…åˆ°åœ°å€æ äº†ï¼‰</p><p>å±æ€§ï¼š</p><ol><li>requiredï¼šæ˜¯å¦å¿…é¡»æœ‰è¯·æ±‚ä½“ï¼Œé»˜è®¤å€¼æ˜¯trueã€‚å½“å–å€¼ä¸ºtrueæ—¶,getè¯·æ±‚æ–¹å¼ä¼šæŠ¥é”™ã€‚å¦‚æœå–å€¼ä¸ºfalseï¼Œgetè¯·æ±‚å¾—åˆ°æ˜¯nullã€‚</li></ol><h4 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><h5 id="index-jsp-1"><a href="#index-jsp-1" class="headerlink" title="index.jsp"></a>index.jsp</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"anno/testRequestBody"</span>&gt;</span><br><span class="line">    ç”¨æˆ·åï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¯†ç ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"password"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¹´é¾„ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"age"</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"æäº¤"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h5 id="Controller-1"><a href="#Controller-1" class="headerlink" title="Controller"></a>Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"anno"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnoController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/testRequestBody"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">testRequestBody</span><span class="params">(@RequestBody String body)</span></span>&#123;</span><br><span class="line">        System.out.println(body);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æœ¬ä¾‹ä¸­çš„è¯·æ±‚ä½“è¾“å‡ºç¤ºä¾‹ï¼šusername=int64Saturday&amp;password=111&amp;age=111</p><h3 id="PathVaribale"><a href="#PathVaribale" class="headerlink" title="PathVaribale"></a>PathVaribale</h3><h4 id="ä½¿ç”¨è¯´æ˜-2"><a href="#ä½¿ç”¨è¯´æ˜-2" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><p>ä½œç”¨ï¼šç”¨äºç»‘å®šurlä¸­çš„å ä½ç¬¦ã€‚ä¾‹å¦‚ï¼šè¯·æ±‚urlä¸­ /delete/{id}ï¼Œè¿™ä¸ª{id}å°±æ˜¯urlå ä½ç¬¦ã€‚<br>urlæ”¯æŒå ä½ç¬¦æ˜¯spring3.0ä¹‹ååŠ å…¥çš„ã€‚æ˜¯springmvcæ”¯æŒresté£æ ¼URLçš„ä¸€ä¸ªé‡è¦æ ‡å¿—ã€‚</p><p>é‚£ä¹ˆä»€ä¹ˆæ—¶resté£æ ¼çš„URLå‘¢ï¼Œä¸€èˆ¬resté£æ ¼éƒ½ç§°ä¸ºrestfulé£æ ¼ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€ç§è§„èŒƒï¼ŒåŒºåˆ«äºæˆ‘ä»¬å¹³æ—¶æ™®é€šçš„urlï¼Œè§ä¸‹å›¾</p><p><img src="http://image.zhangzef.com/20200214184007.png" alt="img" style="zoom:50%;"></p><p>ï¼ˆå›¾ä¸­çš„FindById()æ–¹æ³•å°‘å†™äº†ä¸ªå‚æ•°idï¼‰ä»å›¾ä¸­å¯çœ‹å‡ºæ™®é€šçš„urlæ¯ä¸ªæ–¹æ³•éƒ½ä¼šå¯¹åº”ä¸€ä¸ªåœ°å€ï¼Œä½†æ˜¯restfulé£æ ¼çš„urlç›¸åŒç±»ä¸‹çš„æ¯ä¸ªæ–¹æ³•åœ°å€éƒ½æ˜¯ç›¸åŒçš„ã€‚restfulé£æ ¼çš„urlæ˜¯é€šè¿‡httpåè®®çš„å››ç§æ–¹æ³•æ¥å¯»æ‰¾è¦æ‰§è¡Œçš„æ–¹æ³•ï¼Œå³ï¼š</p><ol><li>GET ç”¨æ¥è·å–èµ„æº</li><li>POST ç”¨æ¥æ–°å»ºèµ„æº</li><li>PUT ç”¨æ¥æ›´æ–°èµ„æº</li><li>DELETE ç”¨æ¥åˆ é™¤èµ„æºã€‚</li></ol><p>ä½†æ˜¯å½“é‡åˆ°ç›¸åŒçš„æ–¹æ³•æ—¶ï¼Œå¦‚ä¸Šå›¾çš„FindAll()æ–¹æ³•å’ŒFindById(id)æ–¹æ³•ï¼Œå®ƒä¼šé€šè¿‡ä¸åŒçš„å‚æ•°æ¥å¯»æ‰¾ç‰¹å®šçš„æ–¹æ³•ï¼Œæœ‰äº›ç±»ä¼¼å‡½æ•°çš„é‡è½½ã€‚ä¸Šå›¾ä¸­çš„{id}æ˜¯å ä½ç¬¦ï¼Œå½“æˆ‘ä»¬æƒ³è°ƒç”¨FindById(id)æ–¹æ³•æ—¶ï¼Œå‚æ•°id=10ï¼Œæ­¤æ—¶çš„urlåº”è¯¥ä¸ºï¼š/user/10</p><p>ä½†æ˜¯formè¡¨å•åªæ”¯æŒGETå’ŒPOSTæ–¹æ³•ï¼Œè€ŒDELETEã€PUTç­‰æ–¹æ³•å¹¶ä¸æ”¯æŒï¼ŒSpring3.0æ·»åŠ äº†ä¸€ä¸ªè¿‡æ»¤å™¨èƒ½å¸®æˆ‘ä»¬æ¨¡æ‹Ÿè¿™äº›æ–¹æ³•ï¼Œä½†æ˜¯é…ç½®æ¯”è¾ƒéº»çƒ¦ï¼Œä¸å¦‚å…¶ä»–çš„ä¸€äº›ç±»å®ç°å®¹æ˜“ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œæƒ³äº†è§£çš„å¯ä»¥è‡ªè¡Œç™¾åº¦ã€‚</p><p>å±æ€§ï¼š</p><ol><li>valueï¼šç”¨äºæŒ‡å®šurlä¸­å ä½ç¬¦åç§°ã€‚</li><li>requiredï¼šæ˜¯å¦å¿…é¡»æä¾›å ä½ç¬¦ã€‚</li></ol><h4 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><h5 id="index-jsp-2"><a href="#index-jsp-2" class="headerlink" title="index.jsp"></a>index.jsp</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"anno/10"</span>&gt;</span><br><span class="line">    ç”¨æˆ·åï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¯†ç ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"password"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¹´é¾„ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"age"</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"æäº¤"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><h5 id="Controller-2"><a href="#Controller-2" class="headerlink" title="Controller"></a>Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"anno"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnoController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/&#123;sid&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">testPathVaribale</span><span class="params">(@PathVariable(value = <span class="string">"sid"</span>)</span> String id)</span>&#123;</span><br><span class="line">        System.out.println(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åæ§åˆ¶å°è¾“å‡ºç»“æœä¸º10ã€‚</p><h3 id="RequestHeader"><a href="#RequestHeader" class="headerlink" title="RequestHeader"></a>RequestHeader</h3><h4 id="ä½¿ç”¨è¯´æ˜-3"><a href="#ä½¿ç”¨è¯´æ˜-3" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><p>ä½œç”¨ï¼šç”¨äºè·å–è¯·æ±‚æ¶ˆæ¯å¤´ã€‚httpè¯·æ±‚å¤´æœ‰å¾ˆå¤šç§ï¼Œè¯¦æƒ…è§ç™¾åº¦ç™¾ç§‘ï¼š<a href="https://baike.baidu.com/item/http%E8%AF%B7%E6%B1%82%E5%A4%B4/6623287?fr=aladdin" target="_blank" rel="noopener">httpè¯·æ±‚å¤´</a></p><p>å±æ€§ï¼š</p><ol><li>valueï¼šæä¾›æ¶ˆæ¯å¤´åç§°  </li><li>requiredï¼šæ˜¯å¦å¿…é¡»æœ‰æ­¤æ¶ˆæ¯å¤´</li></ol><p>æ³¨ï¼š  åœ¨å®é™…å¼€å‘ä¸­ä¸€èˆ¬ä¸æ€ä¹ˆç”¨ã€‚</p><h4 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><h5 id="index-jsp-3"><a href="#index-jsp-3" class="headerlink" title="index.jsp"></a>index.jsp</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href="anno/testRequestHeader"&gt;testRequestHeader&lt;/a&gt;</span><br></pre></td></tr></table></figure><h5 id="Controller-3"><a href="#Controller-3" class="headerlink" title="Controller"></a>Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testRequestHeader"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testRequestHeader</span><span class="params">(@RequestHeader(value = <span class="string">"Accept"</span>)</span> String header)</span>&#123;</span><br><span class="line">    System.out.println(header);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="CookieValue"><a href="#CookieValue" class="headerlink" title="CookieValue"></a>CookieValue</h3><h4 id="ä½¿ç”¨è¯´æ˜-4"><a href="#ä½¿ç”¨è¯´æ˜-4" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><p>ä½œç”¨ï¼šç”¨äºæŠŠæŒ‡å®š cookie åç§°çš„å€¼ä¼ å…¥æ§åˆ¶å™¨æ–¹æ³•å‚æ•°ã€‚</p><p>å±æ€§ï¼š</p><ol><li>valueï¼šæŒ‡å®š cookie çš„åç§°ã€‚  </li><li>requiredï¼šæ˜¯å¦å¿…é¡»æœ‰æ­¤ cookieã€‚</li></ol><p>æ³¨ï¼š  åœ¨å®é™…å¼€å‘ä¸­ä¸€èˆ¬ä¸æ€ä¹ˆç”¨ã€‚</p><h4 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><h5 id="index-jsp-4"><a href="#index-jsp-4" class="headerlink" title="index.jsp"></a>index.jsp</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href="anno/testCookieValue"&gt;testRequestHeader&lt;/a&gt;</span><br></pre></td></tr></table></figure><h5 id="Controller-4"><a href="#Controller-4" class="headerlink" title="Controller"></a>Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testCookieValue"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testCookieValue</span><span class="params">(@CookieValue(value = <span class="string">"JSESSIONID"</span>)</span> String cookieValue)</span>&#123;</span><br><span class="line">    System.out.println(cookieValue);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ModelAttribute"><a href="#ModelAttribute" class="headerlink" title="ModelAttribute"></a>ModelAttribute</h3><h4 id="ä½¿ç”¨è¯´æ˜-5"><a href="#ä½¿ç”¨è¯´æ˜-5" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><p>ä½œç”¨ï¼šè¯¥æ³¨è§£æ˜¯ SpringMVC4.3 ç‰ˆæœ¬ä»¥åæ–°åŠ å…¥çš„ã€‚å®ƒå¯ä»¥ç”¨äºä¿®é¥°æ–¹æ³•å’Œå‚æ•°ã€‚ </p><ol><li>å‡ºç°åœ¨æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºå½“å‰æ–¹æ³•ä¼šåœ¨æ§åˆ¶å™¨çš„æ–¹æ³•æ‰§è¡Œä¹‹å‰ï¼Œå…ˆæ‰§è¡Œã€‚å®ƒå¯ä»¥ä¿®é¥°æ²¡æœ‰è¿”å›å€¼çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä¿®é¥°æœ‰å…·ä½“è¿”å›å€¼çš„æ–¹æ³•ã€‚  </li><li>å‡ºç°åœ¨å‚æ•°ä¸Šï¼Œè·å–æŒ‡å®šçš„æ•°æ®ç»™å‚æ•°èµ‹å€¼ã€‚</li></ol><p>å±æ€§ï¼š</p><ol><li>valueï¼šç”¨äºè·å–æ•°æ®çš„ keyã€‚key å¯ä»¥æ˜¯ POJO çš„å±æ€§åç§°ï¼Œä¹Ÿå¯ä»¥æ˜¯ map ç»“æ„çš„ keyã€‚</li></ol><p>åº”ç”¨åœºæ™¯ï¼š</p><p>å½“è¡¨å•æäº¤æ•°æ®ä¸æ˜¯å®Œæ•´çš„å®ä½“ç±»æ•°æ®æ—¶ï¼Œä¿è¯æ²¡æœ‰æäº¤æ•°æ®çš„å­—æ®µä½¿ç”¨æ•°æ®åº“å¯¹è±¡åŸæ¥çš„æ•°æ®ã€‚</p><h4 id="ç¤ºä¾‹1"><a href="#ç¤ºä¾‹1" class="headerlink" title="ç¤ºä¾‹1"></a>ç¤ºä¾‹1</h4><h5 id="index-jsp-5"><a href="#index-jsp-5" class="headerlink" title="index.jsp"></a>index.jsp</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"anno/testModelAttribute"</span>&gt;</span><br><span class="line">    ç”¨æˆ·åï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¯†ç ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"password"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¹´é¾„ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"age"</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"æäº¤"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><h5 id="Controller-5"><a href="#Controller-5" class="headerlink" title="Controller"></a>Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testModelAttribute"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testModelAttribute</span> <span class="params">(User user)</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"testModelAttributeæ‰§è¡Œäº†..."</span> + user.getUsername());</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ModelAttribute</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showUser</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"showUseræ‰§è¡Œäº†..."</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åæ§åˆ¶å°è¾“å‡ºç»“æœä¸ºï¼š<br>showUseræ‰§è¡Œäº†â€¦<br>testModelAttributeæ‰§è¡Œäº†â€¦int64Saturday</p><h4 id="ç¤ºä¾‹2"><a href="#ç¤ºä¾‹2" class="headerlink" title="ç¤ºä¾‹2"></a>ç¤ºä¾‹2</h4><p>æœ‰è¿”å›å€¼ï¼Œè¡¨å•ä¸­æ²¡æœ‰è¾“å…¥ageçš„æ–‡æœ¬æ¡†ï¼Œå¦‚æœä¸è¿›è¡Œé…ç½®ï¼Œåˆ™ageä¸ºnull</p><h5 id="index-jsp-6"><a href="#index-jsp-6" class="headerlink" title="index.jsp"></a>index.jsp</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"anno/testModelAttribute"</span>&gt;</span><br><span class="line">    ç”¨æˆ·åï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span>&gt;&lt;br&gt;</span><br><span class="line">    å¯†ç ï¼š&lt;input type=<span class="string">"text"</span> name=<span class="string">"password"</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"æäº¤"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><h5 id="Controller-6"><a href="#Controller-6" class="headerlink" title="Controller"></a>Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testModelAttribute"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testModelAttribute</span> <span class="params">(User user)</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"testModelAttributeæ‰§è¡Œäº†..."</span>);</span><br><span class="line">    System.out.println(user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ModelAttribute</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">showUser</span><span class="params">(String username)</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    <span class="comment">//æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢</span></span><br><span class="line">    user.setAge(<span class="number">10</span>);</span><br><span class="line">    user.setPassword(<span class="string">"111"</span>);</span><br><span class="line">    user.setUsername(username);</span><br><span class="line">    System.out.println(<span class="string">"showUseræ‰§è¡Œäº†..."</span>);</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹3"><a href="#ç¤ºä¾‹3" class="headerlink" title="ç¤ºä¾‹3"></a>ç¤ºä¾‹3</h4><p>æ— è¿”å›å€¼ï¼Œæ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œéœ€è¦æ–¹æ³•æä¾›ä¸€ä¸ªmapç»“æ„ï¼Œå°†Userå¯¹è±¡å­˜å…¥mapä¸­ï¼Œç„¶ååœ¨æ§åˆ¶å™¨æ–¹æ³•ä¸­ç”¨ModelAttributeä¿®é¥°å½¢å‚ä»mapä¸­å–å‡ºè¯¥å¯¹è±¡ã€‚</p><h5 id="index-jsp-7"><a href="#index-jsp-7" class="headerlink" title="index.jsp"></a>index.jsp</h5><p>åŒä¸Š</p><h5 id="Controller-7"><a href="#Controller-7" class="headerlink" title="Controller"></a>Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ModelAttribute</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showUser</span><span class="params">(String username, Map&lt;String, User&gt; map)</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    <span class="comment">//æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢</span></span><br><span class="line">    user.setAge(<span class="number">10</span>);</span><br><span class="line">    user.setPassword(<span class="string">"111"</span>);</span><br><span class="line">    user.setUsername(username);</span><br><span class="line">    map.put(<span class="string">"user"</span>, user);</span><br><span class="line">    System.out.println(<span class="string">"showUseræ‰§è¡Œäº†..."</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="SessionAttribute"><a href="#SessionAttribute" class="headerlink" title="SessionAttribute"></a>SessionAttribute</h3><h4 id="ä½¿ç”¨è¯´æ˜-6"><a href="#ä½¿ç”¨è¯´æ˜-6" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h4><p>ä½œç”¨ï¼šç”¨äºå¤šæ¬¡æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•é—´çš„å‚æ•°å…±äº«ï¼Œä½œç”¨äºç±»ä¸Šã€‚</p><p>å±æ€§ï¼š</p><ol><li>valueï¼šç”¨äºæŒ‡å®šå­˜å…¥çš„å±æ€§åç§°</li><li>typeï¼šç”¨äºæŒ‡å®šå­˜å…¥çš„æ•°æ®ç±»å‹</li></ol><h4 id="ç¤ºä¾‹-5"><a href="#ç¤ºä¾‹-5" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><h5 id="index-jsp-8"><a href="#index-jsp-8" class="headerlink" title="index.jsp"></a>index.jsp</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href="anno/testSaveSessionAttribute"&gt;SaveSessionAttribute&lt;/a&gt;&lt;br&gt;</span><br><span class="line">&lt;a href="anno/testGetSessionAttribute"&gt;GetSessionAttribute&lt;/a&gt;&lt;br&gt;</span><br><span class="line">&lt;a href="anno/testDeleteSessionAttribute"&gt;DeleteSessionAttribute&lt;/a&gt;</span><br></pre></td></tr></table></figure><h5 id="Controller-8"><a href="#Controller-8" class="headerlink" title="Controller"></a>Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"anno"</span>)</span><br><span class="line"><span class="meta">@SessionAttributes</span>(value = &#123;<span class="string">"username"</span>, <span class="string">"password"</span>&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnoController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/testSaveSessionAttribute"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">testSaveSessionAttribute</span> <span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å‘sessionä¸­ä¿å­˜äº†æ•°æ®"</span>);</span><br><span class="line">        model.addAttribute(<span class="string">"username"</span>, <span class="string">"root"</span>);</span><br><span class="line">        model.addAttribute(<span class="string">"password"</span>, <span class="string">"1234"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/testGetSessionAttribute"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">testGetSessionAttribute</span> <span class="params">(ModelMap modelMap)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ä»sessionä¸­è·å–äº†æ•°æ®"</span>);</span><br><span class="line">        String username = (String)modelMap.get(<span class="string">"username"</span>);</span><br><span class="line">        String password = (String)modelMap.get(<span class="string">"password"</span>);</span><br><span class="line">        System.out.println(<span class="string">"username:"</span> + username + <span class="string">"\tpassword:"</span> + password);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/testDeleteSessionAttribute"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">testDeleteSessionAttribute</span> <span class="params">(SessionStatus sessionStatus)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ä»sessionä¸­åˆ é™¤äº†æ•°æ®"</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®å®Œæˆï¼Œå°±æ˜¯è¿™äº›æ“ä½œåšå®Œäº†ï¼Œå®ƒä¼šå¸®ä½ æŠŠsessionä¸­çš„æ•°æ®æ¸…é™¤</span></span><br><span class="line">        sessionStatus.setComplete();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¶…é“¾æ¥ç‚¹å‡»æ­¥éª¤ï¼šå­˜å€¼-&gt;å–å€¼-&gt;åˆ é™¤-&gt;å–å€¼<br>æ§åˆ¶å°è¾“å‡ºï¼š</p><blockquote><p>  å‘sessionä¸­ä¿å­˜äº†æ•°æ®<br>  ä»sessionä¸­è·å–äº†æ•°æ®<br>  username:root    password:1234<br>  ä»sessionä¸­åˆ é™¤äº†æ•°æ®<br>  ä»sessionä¸­è·å–äº†æ•°æ®<br>  username:null    password:null</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è¯·æ±‚å‚æ•°ç»‘å®š&quot;&gt;&lt;a href=&quot;#è¯·æ±‚å‚æ•°ç»‘å®š&quot; class=&quot;headerlink&quot; title=&quot;è¯·æ±‚å‚æ•°ç»‘å®š&quot;&gt;&lt;/a&gt;è¯·æ±‚å‚æ•°ç»‘å®š&lt;/h2&gt;&lt;h3 id=&quot;ç»‘å®šæœºåˆ¶&quot;&gt;&lt;a href=&quot;#ç»‘å®šæœºåˆ¶&quot; class=&quot;headerlink&quot; title=&quot;ç»‘
      
    
    </summary>
    
      <category term="JavaWeb" scheme="zhangzef.com/categories/JavaWeb/"/>
    
    
      <category term="Spring" scheme="zhangzef.com/tags/Spring/"/>
    
      <category term="æ¡†æ¶" scheme="zhangzef.com/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="SpringMVC" scheme="zhangzef.com/tags/SpringMVC/"/>
    
  </entry>
  
  <entry>
    <title>SpringMVC--ä¸€ã€SpringMVCå…¥é—¨</title>
    <link href="zhangzef.com/2019/11/14/SpringMVC--%E4%B8%80%E3%80%81SpringMVC%E5%85%A5%E9%97%A8/"/>
    <id>zhangzef.com/2019/11/14/SpringMVC--ä¸€ã€SpringMVCå…¥é—¨/</id>
    <published>2019-11-14T12:59:18.000Z</published>
    <updated>2020-02-14T10:55:40.618Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸‰å±‚æ¶æ„å’ŒMVC"><a href="#ä¸‰å±‚æ¶æ„å’ŒMVC" class="headerlink" title="ä¸‰å±‚æ¶æ„å’ŒMVC"></a>ä¸‰å±‚æ¶æ„å’ŒMVC</h2><h3 id="ä¸‰å±‚æ¶æ„"><a href="#ä¸‰å±‚æ¶æ„" class="headerlink" title="ä¸‰å±‚æ¶æ„"></a>ä¸‰å±‚æ¶æ„</h3><ol><li>å’±ä»¬å¼€å‘æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œä¸€èˆ¬éƒ½åŸºäºä¸¤ç§å½¢å¼ï¼Œä¸€ç§C/Sæ¶æ„ç¨‹åºï¼Œä¸€ç§B/Sæ¶æ„ç¨‹åº</li><li>ä½¿ç”¨Javaè¯­è¨€åŸºæœ¬ä¸Šéƒ½æ˜¯å¼€å‘B/Sæ¶æ„çš„ç¨‹åºï¼ŒB/Sæ¶æ„åˆåˆ†æˆäº†ä¸‰å±‚æ¶æ„</li><li>ä¸‰å±‚æ¶æ„<ol><li>è¡¨ç°å±‚ï¼šWEBå±‚ï¼Œç”¨æ¥å’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’çš„ã€‚è¡¨ç°å±‚ä¸€èˆ¬ä¼šé‡‡ç”¨MVCçš„è®¾è®¡æ¨¡å‹</li><li>ä¸šåŠ¡å±‚ï¼šå¤„ç†å…¬å¸å…·ä½“çš„ä¸šåŠ¡é€»è¾‘çš„</li><li>æŒä¹…å±‚ï¼šç”¨æ¥æ“ä½œæ•°æ®åº“çš„</li></ol></li></ol><p><img src="http://image.zhangzef.com/20200214184141.png" alt="img"></p><h3 id="MVCæ¨¡å‹"><a href="#MVCæ¨¡å‹" class="headerlink" title="MVCæ¨¡å‹"></a>MVCæ¨¡å‹</h3><ol><li>MVCå…¨åæ˜¯Model View Controller æ¨¡å‹è§†å›¾æ§åˆ¶å™¨ï¼Œæ¯ä¸ªéƒ¨åˆ†å„å¸å…¶èŒã€‚<ol start="2"><li>Modelï¼šæ•°æ®æ¨¡å‹ï¼ŒJavaBeançš„ç±»ï¼Œç”¨æ¥è¿›è¡Œæ•°æ®å°è£…ã€‚</li><li>Viewï¼šæŒ‡JSPã€HTMLç”¨æ¥å±•ç¤ºæ•°æ®ç»™ç”¨æˆ·</li><li>Controllerï¼šç”¨æ¥æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ï¼Œæ•´ä¸ªæµç¨‹çš„æ§åˆ¶å™¨ã€‚ç”¨æ¥è¿›è¡Œæ•°æ®æ ¡éªŒç­‰ã€‚</li></ol></li></ol><h3 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h3><p>è€ŒSpringMVCå°±æ˜¯ä¸€ç§åŸºäºJavaçš„å®ç°MVCè®¾è®¡æ¨¡å‹çš„è¯·æ±‚é©±åŠ¨ç±»å‹çš„è½»é‡çº§Webæ¡†æ¶ï¼Œå±äº Spring FrameWork çš„åç»­äº§å“ï¼Œå·²ç»èåˆåœ¨Spring Web Flowé‡Œé¢ã€‚</p><h2 id="SpringMVCå…¥é—¨æ¡ˆä¾‹"><a href="#SpringMVCå…¥é—¨æ¡ˆä¾‹" class="headerlink" title="SpringMVCå…¥é—¨æ¡ˆä¾‹"></a>SpringMVCå…¥é—¨æ¡ˆä¾‹</h2><h3 id="å¯¼å…¥çš„åŒ…"><a href="#å¯¼å…¥çš„åŒ…" class="headerlink" title="å¯¼å…¥çš„åŒ…"></a>å¯¼å…¥çš„åŒ…</h3><p>åˆ›å»ºmavené¡¹ç›®ï¼Œåœ¨pom.xmlæ–‡ä»¶ä¸­å¯¼å…¥å¦‚ä¸‹åŒ…ï¼š</p><ol><li>spring-context</li><li>spring-web</li><li>spring-webmvc</li><li>servlet-api</li><li>jsp-api</li></ol><h3 id="é…ç½®æ ¸å¿ƒæ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰"><a href="#é…ç½®æ ¸å¿ƒæ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰" class="headerlink" title="é…ç½®æ ¸å¿ƒæ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰"></a>é…ç½®æ ¸å¿ƒæ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰</h3><p>web.xmlæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--SpringMVCæ ¸å¿ƒæ§åˆ¶å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®Servletçš„åˆå§‹åŒ–å‚æ•°ï¼Œè¯»å–springmvcçš„é…ç½®æ–‡ä»¶(æˆ‘è¿™é‡Œæ˜¯springmvc.xml)ï¼Œåˆ›å»ºspringå®¹å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®servletå¯åŠ¨æ—¶åŠ è½½å¯¹è±¡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è®¾ç½®mappingä¸º/ï¼Œä»»ä½•è¯·æ±‚éƒ½ä¼šç»è¿‡servlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æºæ–‡ä»¶"><a href="#é…ç½®æºæ–‡ä»¶" class="headerlink" title="é…ç½®æºæ–‡ä»¶"></a>é…ç½®æºæ–‡ä»¶</h3><p>åœ¨src/main/resourcesæ–‡ä»¶ä¸‹åˆ›å»ºä¸€ä¸ªxmlç”¨äºé…ç½®springmvcå„ç§ç»„ä»¶ï¼Œè¿™é‡Œåˆ›å»ºspringmvc.xmlï¼Œ</p><h4 id="å¯¼å…¥å‘½åç©ºé—´"><a href="#å¯¼å…¥å‘½åç©ºé—´" class="headerlink" title="å¯¼å…¥å‘½åç©ºé—´"></a>å¯¼å…¥å‘½åç©ºé—´</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®ç»„ä»¶"><a href="#é…ç½®ç»„ä»¶" class="headerlink" title="é…ç½®ç»„ä»¶"></a>é…ç½®ç»„ä»¶</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®springåˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ…--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com"</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é…ç½®è§†å›¾è§£æå™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"internalResourceViewResolver"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è¦è·³è½¬çš„åŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/pages/"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åç¼€å--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é…ç½®springå¼€å¯æ³¨è§£mvcçš„æ”¯æŒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™viewå±‚"><a href="#ç¼–å†™viewå±‚" class="headerlink" title="ç¼–å†™viewå±‚"></a>ç¼–å†™viewå±‚</h3><p>index.jspï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">hello&lt;br&gt;</span><br><span class="line">&lt;a href="hello"&gt;ç¿»è¯‘&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>åœ¨WEB-INFç›®å½•ä¸‹åˆ›å»ºpagesæ–‡ä»¶å¤¹ï¼Œç¼–å†™success.jspï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;a&gt;ä½ å¥½&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™æ§åˆ¶å™¨"><a href="#ç¼–å†™æ§åˆ¶å™¨" class="headerlink" title="ç¼–å†™æ§åˆ¶å™¨"></a>ç¼–å†™æ§åˆ¶å™¨</h3><p>HelloControllerï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">translate</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"translate..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¡ˆä¾‹è¿‡ç¨‹åˆ†æ"><a href="#æ¡ˆä¾‹è¿‡ç¨‹åˆ†æ" class="headerlink" title="æ¡ˆä¾‹è¿‡ç¨‹åˆ†æ"></a>æ¡ˆä¾‹è¿‡ç¨‹åˆ†æ</h3><ol><li>æœåŠ¡å™¨å¯åŠ¨ï¼Œåº”ç”¨è¢«åŠ è½½ã€‚è¯»å–åˆ°web.xmlä¸­çš„é…ç½®åˆ›å»ºspringå®¹å™¨å¹¶ä¸”åˆå§‹åŒ–å®¹å™¨ä¸­çš„å¯¹è±¡ã€‚å› ä¸ºé…ç½®äº†load-on-startupæ ‡ç­¾ï¼Œæ‰€ä»¥ä¼šåˆ›å»ºDispatcherServletå¯¹è±¡ï¼Œå°±ä¼šåŠ è½½springmvc.xmlé…ç½®æ–‡ä»¶ã€‚å¼€å¯äº†æ³¨è§£æ‰«æï¼Œé‚£ä¹ˆHelloControllerå¯¹è±¡å°±ä¼šè¢«åˆ›å»ºã€‚</li><li>æµè§ˆå™¨å‘é€è¯·æ±‚ï¼ˆå³index.jspï¼‰ï¼Œè¢«DispatherServletæ•è·ï¼Œè¯¥Servletå¹¶ä¸å¤„ç†è¯·æ±‚ï¼Œè€Œæ˜¯æŠŠè¯·æ±‚è½¬å‘å‡ºå»ã€‚è½¬å‘çš„è·¯å¾„æ˜¯æ ¹æ®è¯·æ±‚URLï¼ŒåŒ¹é…@RequestMappingä¸­çš„å†…å®¹ï¼ˆå³HelloControllerçš„translateï¼‰ã€‚</li><li>æ ¹æ®æ‰§è¡Œæ–¹æ³•çš„è¿”å›å€¼ï¼Œå†æ ¹æ®é…ç½®çš„è§†å›¾è§£æå™¨ï¼Œå»æŒ‡å®šçš„ç›®å½•ä¸‹æŸ¥æ‰¾æŒ‡å®šåç§°çš„JSPæ–‡ä»¶ã€‚</li><li>æ¸²æŸ“ç»“æœè§†å›¾ï¼Œå“åº”æµè§ˆå™¨ã€‚</li></ol><p>å“åº”æµç¨‹ï¼š</p><p><img src="http://image.zhangzef.com/20200214184142.png" alt="img"></p><h2 id="å…¥é—¨æ¡ˆä¾‹æ¶‰åŠçš„ç»„ä»¶"><a href="#å…¥é—¨æ¡ˆä¾‹æ¶‰åŠçš„ç»„ä»¶" class="headerlink" title="å…¥é—¨æ¡ˆä¾‹æ¶‰åŠçš„ç»„ä»¶"></a>å…¥é—¨æ¡ˆä¾‹æ¶‰åŠçš„ç»„ä»¶</h2><h4 id="DispatcherServletï¼šå‰ç«¯æ§åˆ¶å™¨"><a href="#DispatcherServletï¼šå‰ç«¯æ§åˆ¶å™¨" class="headerlink" title="DispatcherServletï¼šå‰ç«¯æ§åˆ¶å™¨"></a>DispatcherServletï¼šå‰ç«¯æ§åˆ¶å™¨</h4><p>ç”¨æˆ·è¯·æ±‚åˆ°è¾¾å‰ç«¯æ§åˆ¶å™¨ï¼Œå®ƒå°±ç›¸å½“äºmvcæ¨¡å¼ä¸­çš„cï¼ŒdispatcherServletæ˜¯æ•´ä¸ªæµç¨‹æ§åˆ¶çš„ä¸­å¿ƒï¼Œç”±å®ƒè°ƒç”¨å…¶å®ƒç»„ä»¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ŒdispatcherServletçš„å­˜åœ¨é™ä½äº†ç»„ä»¶ä¹‹é—´çš„è€¦åˆæ€§ã€‚</p><h4 id="HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„å™¨"><a href="#HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„å™¨" class="headerlink" title="HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„å™¨"></a>HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„å™¨</h4><p>HandlerMappingè´Ÿè´£æ ¹æ®ç”¨æˆ·è¯·æ±‚æ‰¾åˆ°Handlerå³å¤„ç†å™¨ï¼ŒSpringMVCæä¾›äº†ä¸åŒçš„æ˜ å°„å™¨å®ç°ä¸åŒçš„æ˜ å°„æ–¹å¼ï¼Œä¾‹å¦‚ï¼šé…ç½®æ–‡ä»¶æ–¹å¼ï¼Œå®ç°æ¥å£æ–¹å¼ï¼Œæ³¨è§£æ–¹å¼ç­‰ã€‚</p><h4 id="Handlerï¼šå¤„ç†å™¨"><a href="#Handlerï¼šå¤„ç†å™¨" class="headerlink" title="Handlerï¼šå¤„ç†å™¨"></a>Handlerï¼šå¤„ç†å™¨</h4><p>å®ƒå°±æ˜¯æˆ‘ä»¬å¼€å‘ä¸­è¦ç¼–å†™çš„å…·ä½“ä¸šåŠ¡æ§åˆ¶å™¨ã€‚ç”±DispatcherServletæŠŠç”¨æˆ·è¯·æ±‚è½¬å‘åˆ°Handlerã€‚ç”±Handlerå¯¹å…·ä½“çš„ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚</p><h4 id="HandlAdapterï¼šå¤„ç†å™¨é€‚é…å™¨"><a href="#HandlAdapterï¼šå¤„ç†å™¨é€‚é…å™¨" class="headerlink" title="HandlAdapterï¼šå¤„ç†å™¨é€‚é…å™¨"></a>HandlAdapterï¼šå¤„ç†å™¨é€‚é…å™¨</h4><p>é€šè¿‡HandlerAdapterå¯¹å¤„ç†å™¨è¿›è¡Œæ‰§è¡Œï¼Œè¿™æ˜¯é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨ï¼Œé€šè¿‡æ‰©å±•é€‚é…å™¨å¯ä»¥å¯¹æ›´å¤šç±»å‹çš„å¤„ç†å™¨è¿›è¡Œæ‰§è¡Œã€‚</p><h4 id="View-Resolverï¼šè§†å›¾è§£æå™¨"><a href="#View-Resolverï¼šè§†å›¾è§£æå™¨" class="headerlink" title="View Resolverï¼šè§†å›¾è§£æå™¨"></a>View Resolverï¼šè§†å›¾è§£æå™¨</h4><p>View Resolverè´Ÿè´£å°†å¤„ç†ç»“æœç”ŸæˆViewè§†å›¾ï¼ŒView Resolveré¦–å…ˆæ ¹æ®é€»è¾‘è§†å›¾åè§£ææˆç‰©ç†è§†å›¾åå³å…·ä½“çš„é¡µé¢åœ°å€ï¼Œå†ç”ŸæˆViewè§†å›¾å¯¹è±¡ï¼Œæœ€åå¯¹Viewè¿›è¡Œæ¸²æŸ“å°†å¤„ç†ç»“æœé€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚</p><h4 id="Viewï¼šè§†å›¾"><a href="#Viewï¼šè§†å›¾" class="headerlink" title="Viewï¼šè§†å›¾"></a>Viewï¼šè§†å›¾</h4><p>SpringMVCæ¡†æ¶æä¾›äº†å¾ˆå¤šçš„Viewè§†å›¾ç±»å‹çš„æ”¯æŒï¼ŒåŒ…æ‹¬ï¼šjstlViewã€freemarkerViewã€pdfViewç­‰ã€‚æˆ‘ä»¬æœ€å¸¸ç”¨çš„è§†å›¾å°±æ˜¯jspã€‚<br>ä¸€èˆ¬æƒ…å†µä¸‹éœ€è¦é€šè¿‡é¡µé¢æ ‡ç­¾æˆ–é¡µé¢æ¨¡ç‰ˆæŠ€æœ¯å°†æ¨¡å‹æ•°æ®é€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ï¼Œéœ€è¦ç”±ç¨‹åºå‘˜æ ¹æ®ä¸šåŠ¡éœ€æ±‚å¼€å‘å…·ä½“çš„é¡µé¢ã€‚</p><h4 id="mvc-annotation-drivenè¯´æ˜"><a href="#mvc-annotation-drivenè¯´æ˜" class="headerlink" title="mvc:annotation-drivenè¯´æ˜"></a>mvc:annotation-drivenè¯´æ˜</h4><p>åœ¨SpringMVCçš„å„ä¸ªç»„ä»¶ä¸­ï¼Œå¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨ç§°ä¸ºSpringMVCçš„ä¸‰å¤§ç»„ä»¶ã€‚ ä½¿ç”¨mvc:annotation-drivenè‡ªåŠ¨åŠ è½½RequestMappingHandlerMappingï¼ˆå¤„ç†æ˜ å°„å™¨ï¼‰å’ŒRequestMappingHandlerAdapterï¼ˆå¤„ç†é€‚é…å™¨ï¼‰ï¼Œå¯ç”¨åœ¨SpringMVC.xmlé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨mvc:annotation-drivenæ›¿ä»£æ³¨è§£å¤„ç†å™¨å’Œé€‚é…å™¨çš„é…ç½®ã€‚</p><p>å®ƒå°±ç›¸å½“äºåœ¨xmlä¸­é…ç½®äº†ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Begin --&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- HandlerMapping --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- HandlerAdapter --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- HadnlerExceptionResolvers --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span></span></span><br><span class="line"><span class="tag">     <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- End --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="RequestMappingæ³¨è§£"><a href="#RequestMappingæ³¨è§£" class="headerlink" title="RequestMappingæ³¨è§£"></a>RequestMappingæ³¨è§£</h3><p>RequestMappingæ³¨è§£çš„ä½œç”¨æ˜¯å»ºç«‹è¯·æ±‚URLå’Œå¤„ç†æ–¹æ³•ä¹‹é—´çš„å¯¹åº”å…³ç³»</p><p>RequestMappingæ³¨è§£å¯ä»¥ä½œç”¨åœ¨æ–¹æ³•å’Œç±»ä¸Šï¼š</p><ol><li>ä½œç”¨åœ¨ç±»ä¸Šï¼šè¯·æ±‚URLçš„ç¬¬ä¸€çº§è®¿é—®ç›®å½•ã€‚æ­¤å¤„ä¸å†™çš„è¯ï¼Œå°±ç›¸å½“äºåº”ç”¨çš„æ ¹ç›®å½•ã€‚å†™çš„è¯éœ€è¦ä»¥/å¼€å¤´ã€‚ å®ƒå‡ºç°çš„ç›®çš„æ˜¯ä¸ºäº†ä½¿æˆ‘ä»¬çš„URLå¯ä»¥æŒ‰ç…§æ¨¡å—åŒ–ç®¡ç†ï¼Œä¾‹å¦‚ï¼š<br> è´¦æˆ·æ¨¡å—ï¼š<br> /account/add<br> /account/update<br> /account/delete<br> â€¦<br> è®¢å•æ¨¡å—ï¼š<br> /order/add<br> /order/update<br> /order/delete<br> å‰é¢ç›¸åŒçš„éƒ¨åˆ†å°±æ˜¯æŠŠRequsetMappingå†™åœ¨ç±»ä¸Šï¼Œä½¿æˆ‘ä»¬çš„URLæ›´åŠ ç²¾ç»†ã€‚</li><li>ä½œç”¨åœ¨æ–¹æ³•ä¸Šï¼šURLçš„äºŒçº§è®¿é—®ç›®å½•</li><li>ç»†èŠ‚ï¼šè·¯å¾„å¯ä»¥ä¸ç¼–å†™ / è¡¨ç¤ºåº”ç”¨çš„æ ¹ç›®å½•å¼€å§‹</li><li>ç»†èŠ‚ï¼š${ pageContext.request.contextPath }ä¹Ÿå¯ä»¥çœç•¥ä¸å†™ï¼Œä½†æ˜¯è·¯å¾„ä¸Šä¸èƒ½å†™ /</li></ol><p>RequestMappingçš„å±æ€§</p><ol><li>path æŒ‡å®šè¯·æ±‚è·¯å¾„çš„url</li><li>value valueå±æ€§å’Œpathå±æ€§æ˜¯ä¸€æ ·çš„</li><li>mthod æŒ‡å®šè¯¥æ–¹æ³•çš„è¯·æ±‚æ–¹å¼ï¼ˆgetæ–¹æ³•å’Œpostæ–¹æ³•ï¼‰</li><li>params ç”¨äºæŒ‡å®šé™åˆ¶è¯·æ±‚å‚æ•°çš„æ¡ä»¶ã€‚å®ƒæ”¯æŒç®€å•çš„è¡¨è¾¾å¼ã€‚è¦æ±‚è¯·æ±‚å‚æ•°çš„keyå’Œvalueå¿…é¡»å’Œé…ç½®çš„ä¸€æ¨¡ä¸€æ ·ã€‚ä¾‹å¦‚ï¼š<br> params = {â€œaccountNameâ€}ï¼Œè¡¨ç¤ºè¯·æ±‚å‚æ•°å¿…é¡»æœ‰accountName<br> params = {â€œmoeny!100â€}ï¼Œè¡¨ç¤ºè¯·æ±‚å‚æ•°ä¸­moneyä¸èƒ½æ˜¯100ã€‚</li><li>headers å‘é€çš„è¯·æ±‚ä¸­å¿…é¡»åŒ…å«çš„è¯·æ±‚å¤´ï¼ˆä¸å¸¸ç”¨ï¼‰</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä¸‰å±‚æ¶æ„å’ŒMVC&quot;&gt;&lt;a href=&quot;#ä¸‰å±‚æ¶æ„å’ŒMVC&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰å±‚æ¶æ„å’ŒMVC&quot;&gt;&lt;/a&gt;ä¸‰å±‚æ¶æ„å’ŒMVC&lt;/h2&gt;&lt;h3 id=&quot;ä¸‰å±‚æ¶æ„&quot;&gt;&lt;a href=&quot;#ä¸‰å±‚æ¶æ„&quot; class=&quot;headerlink&quot; 
      
    
    </summary>
    
      <category term="JavaWeb" scheme="zhangzef.com/categories/JavaWeb/"/>
    
    
      <category term="Spring" scheme="zhangzef.com/tags/Spring/"/>
    
      <category term="æ¡†æ¶" scheme="zhangzef.com/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="SpringMVC" scheme="zhangzef.com/tags/SpringMVC/"/>
    
  </entry>
  
  <entry>
    <title>Python3æ‚è®°</title>
    <link href="zhangzef.com/2019/11/11/Python3%E6%9D%82%E8%AE%B0/"/>
    <id>zhangzef.com/2019/11/11/Python3æ‚è®°/</id>
    <published>2019-11-11T15:05:10.000Z</published>
    <updated>2020-02-14T10:55:03.981Z</updated>
    
    <content type="html"><![CDATA[<h1 id="amp-å¼€å¤´çš„ç¼–ç æ˜¾ç¤ºæˆä¸­æ–‡"><a href="#amp-å¼€å¤´çš„ç¼–ç æ˜¾ç¤ºæˆä¸­æ–‡" class="headerlink" title="&amp;#å¼€å¤´çš„ç¼–ç æ˜¾ç¤ºæˆä¸­æ–‡"></a>&amp;#å¼€å¤´çš„ç¼–ç æ˜¾ç¤ºæˆä¸­æ–‡</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> html</span><br><span class="line"></span><br><span class="line">print(html.unescape(<span class="string">'&amp;#20013;&amp;#22269;'</span>))</span><br><span class="line"><span class="comment">#ä¸­å›½</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;amp-å¼€å¤´çš„ç¼–ç æ˜¾ç¤ºæˆä¸­æ–‡&quot;&gt;&lt;a href=&quot;#amp-å¼€å¤´çš„ç¼–ç æ˜¾ç¤ºæˆä¸­æ–‡&quot; class=&quot;headerlink&quot; title=&quot;&amp;amp;#å¼€å¤´çš„ç¼–ç æ˜¾ç¤ºæˆä¸­æ–‡&quot;&gt;&lt;/a&gt;&amp;amp;#å¼€å¤´çš„ç¼–ç æ˜¾ç¤ºæˆä¸­æ–‡&lt;/h1&gt;&lt;figure class=&quot;highli
      
    
    </summary>
    
      <category term="Python3" scheme="zhangzef.com/categories/Python3/"/>
    
    
  </entry>
  
  <entry>
    <title>Spring--å››ã€Springä¸­çš„JdbcTemplateå’Œäº‹åŠ¡æ§åˆ¶</title>
    <link href="zhangzef.com/2019/11/08/Spring--%E5%9B%9B%E3%80%81Spring%E4%B8%AD%E7%9A%84JdbcTemplate%E5%92%8C%E4%BA%8B%E5%8A%A1%E6%8E%A7%E5%88%B6/"/>
    <id>zhangzef.com/2019/11/08/Spring--å››ã€Springä¸­çš„JdbcTemplateå’Œäº‹åŠ¡æ§åˆ¶/</id>
    <published>2019-11-08T02:48:17.000Z</published>
    <updated>2020-02-14T10:55:23.879Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Springä¸­çš„JdbcTemplate"><a href="#Springä¸­çš„JdbcTemplate" class="headerlink" title="Springä¸­çš„JdbcTemplate"></a>Springä¸­çš„JdbcTemplate</h2><h3 id="JdbcTemplateæ¦‚è¿°"><a href="#JdbcTemplateæ¦‚è¿°" class="headerlink" title="JdbcTemplateæ¦‚è¿°"></a>JdbcTemplateæ¦‚è¿°</h3><p>å®ƒæ˜¯springæ¡†æ¶ä¸­æä¾›çš„ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯å¯¹åŸå§‹Jdbc APIå¯¹è±¡çš„ç®€å•å°è£…ã€‚springæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šçš„æ“ä½œæ¨¡æ¿ç±»ã€‚</p><ul><li>æ“ä½œå…³ç³»å‹æ•°æ®çš„ï¼š <ul><li>JdbcTemplate </li><li>HibernateTemplate</li></ul></li><li>æ“ä½œnosqlæ•°æ®åº“çš„ï¼š <ul><li>RedisTemplate</li></ul></li><li>æ“ä½œæ¶ˆæ¯é˜Ÿåˆ—çš„ï¼š <ul><li>JmsTemplate</li></ul></li></ul><p><img src="http://image.zhangzef.com/20200214184348.jpg" alt="img" style="zoom:67%;"></p><h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><p>éœ€è¦å¯¼å…¥çš„jaråŒ…ï¼ˆç‰ˆæœ¬å¯è‡ªè¡Œé€‰æ‹©ï¼‰ï¼š</p><ul><li>spring-jdbc-5.1.9.RELEASE.jarï¼ˆJDBCï¼‰</li><li>spring-tx-5.1.9.RELEASE.jarï¼ˆå…³äºäº‹åŠ¡çš„ï¼‰</li><li>spring-context-5.1.9.RELEASE.jarï¼ˆIOCï¼‰</li></ul><h3 id="ç¼–å†™é…ç½®æ–‡ä»¶"><a href="#ç¼–å†™é…ç½®æ–‡ä»¶" class="headerlink" title="ç¼–å†™é…ç½®æ–‡ä»¶"></a>ç¼–å†™é…ç½®æ–‡ä»¶</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans </span></span></span><br><span class="line"><span class="tag"><span class="string">                           http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ•°æ®æºï¼ˆSpringå†…ç½®æ•°æ®æºï¼‰"><a href="#é…ç½®æ•°æ®æºï¼ˆSpringå†…ç½®æ•°æ®æºï¼‰" class="headerlink" title="é…ç½®æ•°æ®æºï¼ˆSpringå†…ç½®æ•°æ®æºï¼‰"></a>é…ç½®æ•°æ®æºï¼ˆSpringå†…ç½®æ•°æ®æºï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/test?serverTimezone=UTC"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"password"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®JdbcTemplate"><a href="#é…ç½®JdbcTemplate" class="headerlink" title="é…ç½®JdbcTemplate"></a>é…ç½®JdbcTemplate</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"jdbcTemplate"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.core.JdbcTemplate"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ“ä½œç¤ºä¾‹"><a href="#æ“ä½œç¤ºä¾‹" class="headerlink" title="æ“ä½œç¤ºä¾‹"></a>æ“ä½œç¤ºä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ä½“ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserManager</span> </span>&#123;</span><br><span class="line">    String username, password;</span><br><span class="line">    <span class="keyword">double</span> money;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"UserManager&#123;"</span> +</span><br><span class="line">                <span class="string">"username='"</span> + username + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", password='"</span> + password + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", money="</span> + money +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMoney</span><span class="params">(<span class="keyword">double</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.money = money;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–Springå®¹å™¨</span></span><br><span class="line">ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line"><span class="comment">//æ ¹æ®idè·å–beanå¯¹è±¡</span></span><br><span class="line">JdbcTemplate jt = (JdbcTemplate)ac.getBean(<span class="string">"jdbcTemplate"</span>);</span><br><span class="line"><span class="comment">//æŸ¥è¯¢</span></span><br><span class="line"><span class="comment">//BeanPropertyRowMapperæ˜¯å°†æŸ¥è¯¢çš„æ¯ä¸€è¡Œå°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œæ”¾åˆ°é›†åˆä¸­</span></span><br><span class="line"><span class="comment">//è¿™é‡Œå°±æ˜¯å°†æŸ¥è¯¢åˆ°çš„usernameã€passwordã€moneyä¸‰ä¸ªå±æ€§å°è£…æˆä¸€ä¸ªUserManagerç±»</span></span><br><span class="line">List&lt;UserManager&gt; userManagers =  jt.query(<span class="string">"select * from user"</span>,</span><br><span class="line">                                           <span class="keyword">new</span> BeanPropertyRowMapper&lt;UserManager(UserManager.class));</span><br><span class="line"><span class="comment">//åˆ é™¤</span></span><br><span class="line">jt.update(<span class="string">"delete from user where username = ?"</span>,<span class="string">"aaa"</span>);</span><br><span class="line"><span class="comment">//æ’å…¥</span></span><br><span class="line">jt.update(<span class="string">"insert into user(username,password,money)values(?,?)"</span>,<span class="string">"aaa"</span>,<span class="string">"fff"</span>,<span class="number">5000</span>);</span><br><span class="line"><span class="comment">//æ›´æ–°</span></span><br><span class="line">jt.update(<span class="string">"update user set money = money-? where username = ?"</span>,<span class="number">300</span>,<span class="string">"aaa"</span>);</span><br></pre></td></tr></table></figure><h3 id="åœ¨DAOä¸­ä½¿ç”¨JdbcTemplate"><a href="#åœ¨DAOä¸­ä½¿ç”¨JdbcTemplate" class="headerlink" title="åœ¨DAOä¸­ä½¿ç”¨JdbcTemplate"></a>åœ¨DAOä¸­ä½¿ç”¨JdbcTemplate</h3><p>å®ä½“ç±»å¦‚ä¸Šæ‰€ç¤º</p><h4 id="ç¬¬ä¸€ç§æ–¹å¼"><a href="#ç¬¬ä¸€ç§æ–¹å¼" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼"></a>ç¬¬ä¸€ç§æ–¹å¼</h4><p>åœ¨DAOç±»ä¸­å®šä¹‰JdbcTemplate</p><p>UserManagerçš„DAOç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserManagerDao</span> <span class="keyword">implements</span> <span class="title">IUserManagerDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setJdbcTemplate</span><span class="params">(JdbcTemplate jdbcTemplate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.jdbcTemplate = jdbcTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserManager <span class="title">FindUserByName</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        List&lt;UserManager&gt; userManagers = jdbcTemplate.query(<span class="string">"select * from user where username=?"</span>,</span><br><span class="line">                <span class="keyword">new</span> BeanPropertyRowMapper&lt;UserManager&gt;(UserManager.class), username);</span><br><span class="line">        <span class="keyword">return</span> userManagers.isEmpty()?<span class="keyword">null</span>:userManagers.get(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserManager&gt; <span class="title">FindAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.query(<span class="string">"select * from user"</span>,</span><br><span class="line">                <span class="keyword">new</span> BeanPropertyRowMapper&lt;UserManager&gt;(UserManager.class));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UpdateUserByName</span><span class="params">(UserManager userManager)</span> </span>&#123;</span><br><span class="line">        jdbcTemplate.update(<span class="string">"update user set password=?, money=? where username=?"</span>,</span><br><span class="line">                userManager.getPassword(), userManager.getMoney(), userManager.getUsername());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡xmlæ–‡ä»¶é…ç½®è¯¥DAOç±»ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/test?serverTimezone=UTC"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"password"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userManagerDao"</span> <span class="attr">class</span>=<span class="string">"com.dao.Impl.UserManagerDao"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcTemplate"</span> <span class="attr">ref</span>=<span class="string">"jdbcTemplate"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"jdbcTemplate"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.core.JdbcTemplate"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œå½“DAOç±»è¿‡å¤šæ—¶ä»¥ä¸‹ä»£ç ä¼šæœ‰å¾ˆå¤šé‡å¤ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JdbcTemplate jdbcTemplate;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setJdbcTemplate</span><span class="params">(JdbcTemplate jdbcTemplate)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.jdbcTemplate = jdbcTemplate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¬¬äºŒç§æ–¹å¼"><a href="#ç¬¬äºŒç§æ–¹å¼" class="headerlink" title="ç¬¬äºŒç§æ–¹å¼"></a>ç¬¬äºŒç§æ–¹å¼</h4><p>è®©DAOç±»ç»§æ‰¿JdbcDaoSupport</p><p>JdbcDaoSupportæ˜¯springæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›çš„ä¸€ä¸ªç±»ï¼Œè¯¥ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªJdbcTemplateå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è·å–ä½¿ç”¨ï¼Œåªéœ€è¦ç»§æ‰¿è¯¥ç±»å°±å¯ä»¥äº†ã€‚è€Œä¸”æ­¤æ—¶æˆ‘ä»¬ä¸éœ€è¦å†ç”¨xmlæ–‡ä»¶æ³¨å…¥jdbcTemplateäº†ï¼Œè€Œå¯ä»¥ç›´æ¥ç»™UserManagerDaoç±»æ³¨å…¥ä¸€ä¸ªdataSourceå¯¹è±¡ï¼ˆå› ä¸ºJdbcDaoSupportç±»æœ‰dataSourceçš„setæ–¹æ³•ï¼Œä»–ä¼šè‡ªåŠ¨ç”¨dataSourceåˆ›å»ºJdbcTemplateï¼‰ï¼Œå¯è§xmlæ–‡ä»¶é…ç½®æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserManagerDao</span> <span class="keyword">extends</span> <span class="title">JdbcDaoSupport</span> <span class="keyword">implements</span> <span class="title">IUserManagerDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserManager <span class="title">FindUserByName</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        List&lt;UserManager&gt; userManagers = </span><br><span class="line">            <span class="keyword">super</span>.getJdbcTemplate().query(<span class="string">"select * from user where username=?"</span>,</span><br><span class="line">                <span class="keyword">new</span> BeanPropertyRowMapper&lt;UserManager&gt;(UserManager.class), username);</span><br><span class="line">        <span class="keyword">return</span> userManagers.isEmpty()?<span class="keyword">null</span>:userManagers.get(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserManager&gt; <span class="title">FindAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getJdbcTemplate().query(<span class="string">"select * from user"</span>,</span><br><span class="line">                <span class="keyword">new</span> BeanPropertyRowMapper&lt;UserManager&gt;(UserManager.class));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UpdateUserByName</span><span class="params">(UserManager userManager)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.getJdbcTemplate().update(<span class="string">"update user set password=?, money=? where username=?"</span>,</span><br><span class="line">                userManager.getPassword(), userManager.getMoney(), userManager.getUsername());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/test?serverTimezone=UTC"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"password"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userManagerDao"</span> <span class="attr">class</span>=<span class="string">"com.dao.Impl.UserManagerDao"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h4><p>å½“ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•æ—¶ç¡®å®å‡å°‘äº†ä»£ç çš„å†—ä½™ï¼Œä½†æ˜¯å½“ä½¿ç”¨æ³¨è§£é…ç½®æ—¶ï¼Œç”±äºJdbcDaoSupportç±»æ˜¯Springçš„ç±»ï¼Œæˆ‘ä»¬æ— æ³•ä¿®æ”¹ï¼Œåˆ™<strong>ç¬¬äºŒç§æ–¹æ³•</strong>åªæœ‰å½“ä½¿ç”¨<strong>xmlæ–‡ä»¶é…ç½®</strong>æ—¶æ‰å¯ä»¥ä½¿ç”¨ï¼Œ<strong>ç¬¬ä¸€ç§æ–¹æ³•</strong>å¯ä»¥åœ¨ä½¿ç”¨<strong>æ³¨è§£</strong>æ—¶ä½¿ç”¨ã€‚</p><h2 id="Springä¸­çš„äº‹åŠ¡æ§åˆ¶"><a href="#Springä¸­çš„äº‹åŠ¡æ§åˆ¶" class="headerlink" title="Springä¸­çš„äº‹åŠ¡æ§åˆ¶"></a>Springä¸­çš„äº‹åŠ¡æ§åˆ¶</h2><h3 id="Springä¸­çš„äº‹åŠ¡æ§åˆ¶æ¦‚è¿°"><a href="#Springä¸­çš„äº‹åŠ¡æ§åˆ¶æ¦‚è¿°" class="headerlink" title="Springä¸­çš„äº‹åŠ¡æ§åˆ¶æ¦‚è¿°"></a>Springä¸­çš„äº‹åŠ¡æ§åˆ¶æ¦‚è¿°</h3><p>äº‹åŠ¡æ§åˆ¶å³è®©ç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆçš„äº‹åŠ¡ä¿æŒåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ã€‚</p><ul><li>åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆã€‚äº‹åŠ¡çš„åŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨ã€‚</li><li>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šä¸€æ—¦äº‹åŠ¡å®Œæˆï¼ˆä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰ï¼Œç³»ç»Ÿå¿…é¡»ç¡®ä¿å®ƒæ‰€å»ºæ¨¡çš„ä¸šåŠ¡å¤„äºä¸€è‡´çš„çŠ¶æ€ï¼Œè€Œä¸ä¼šæ˜¯éƒ¨åˆ†å®Œæˆéƒ¨åˆ†å¤±è´¥ã€‚åœ¨ç°å®ä¸­çš„æ•°æ®ä¸åº”è¯¥è¢«ç ´åã€‚</li><li>éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¯èƒ½æœ‰è®¸å¤šäº‹åŠ¡ä¼šåŒæ—¶å¤„ç†ç›¸åŒçš„æ•°æ®ï¼Œå› æ­¤æ¯ä¸ªäº‹åŠ¡éƒ½åº”è¯¥ä¸å…¶ä»–äº‹åŠ¡éš”ç¦»å¼€æ¥ï¼Œé˜²æ­¢æ•°æ®æŸåã€‚</li><li>æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€æ—¦äº‹åŠ¡å®Œæˆï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆç³»ç»Ÿé”™è¯¯ï¼Œå®ƒçš„ç»“æœéƒ½ä¸åº”è¯¥å—åˆ°å½±å“ï¼Œè¿™æ ·å°±èƒ½ä»ä»»ä½•ç³»ç»Ÿå´©æºƒä¸­æ¢å¤è¿‡æ¥ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œäº‹åŠ¡çš„ç»“æœè¢«å†™åˆ°æŒä¹…åŒ–å­˜å‚¨å™¨ä¸­ã€‚</li></ul><p>ä¸¾ä¸€ä¸ªç»å…¸çš„ä¾‹å­å°±æ˜¯é“¶è¡Œè½¬è´¦ï¼Œé“¶è¡Œè½¬è´¦åˆ†ä¸ºå‡ æ­¥ï¼šè½¬è´¦å¼€å§‹ï¼Œè´¦æˆ·ä¸€æ‰£é’±ï¼Œè´¦æˆ·äºŒåŠ é’±ï¼Œè½¬è´¦ç»“æŸã€‚ä½†æ˜¯å½“è´¦æˆ·ä¸€æ‰£è¿‡é’±ä¹‹åç³»ç»Ÿå‡ºç°äº†æŸç§å¼‚å¸¸è½¬è´¦è¡Œä¸ºä¸èƒ½ç»§ç»­è¿›è¡Œã€‚å¦‚æœæ²¡æœ‰äº‹åŠ¡æ§åˆ¶è¿™æ¬¡è½¬è´¦å°†ä¼šè¢«å¼ºè¡Œç»“æŸï¼Œè€Œäº‹åŠ¡æ§åˆ¶åˆ™ä¼šä¿æŒå…¶ä¸€è‡´æ€§ï¼Œå¼€å¯å›æ»šäº‹åŠ¡ï¼Œè®©æ‰€æœ‰ä¿¡æ¯æ¢å¤åˆ°è½¬è´¦å¼€å§‹å‰çš„çŠ¶æ€ã€‚</p><p>Springçš„äº‹åŠ¡æ§åˆ¶éƒ½æ˜¯åŸºäºAOPçš„ï¼Œåˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯<strong>å£°æ˜å¼äº‹åŠ¡æ§åˆ¶</strong>ï¼ˆå³ç”¨é…ç½®çš„æ–¹å¼æ¥å®ç°ï¼‰ï¼Œä¸€ç§æ˜¯<strong>ç¼–ç¨‹å¼äº‹åŠ¡æ§åˆ¶</strong>ï¼ˆå³ç”¨ç¼–ç¨‹çš„æ–¹å¼æ¥å®ç°ï¼‰ã€‚</p><h3 id="Springäº‹åŠ¡æ§åˆ¶APIä»‹ç»"><a href="#Springäº‹åŠ¡æ§åˆ¶APIä»‹ç»" class="headerlink" title="Springäº‹åŠ¡æ§åˆ¶APIä»‹ç»"></a>Springäº‹åŠ¡æ§åˆ¶APIä»‹ç»</h3><p><img src="http://image.zhangzef.com/20200214184346.jpg" alt="img"></p><h4 id="PlatformTransactionManager"><a href="#PlatformTransactionManager" class="headerlink" title="PlatformTransactionManager"></a>PlatformTransactionManager</h4><p>äº‹åŠ¡ç®¡ç†å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TransactionStatus <span class="title">getTransaction</span><span class="params">()</span></span>;<span class="comment">//è·å–äº‹åŠ¡çš„çŠ¶æ€ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">commit</span><span class="params">()</span></span>;<span class="comment">//æäº¤äº‹åŠ¡</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rollback</span><span class="params">()</span></span>;<span class="comment">//å›æ»šäº‹åŠ¡</span></span><br></pre></td></tr></table></figure><h4 id="TransactionDefinition"><a href="#TransactionDefinition" class="headerlink" title="TransactionDefinition"></a>TransactionDefinition</h4><p>äº‹åŠ¡çš„å®šä¹‰ä¿¡æ¯å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span>;<span class="comment">//è·å–äº‹åŠ¡å¯¹è±¡å</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getIsolationLevel</span><span class="params">()</span></span>;<span class="comment">//è·å–äº‹åŠ¡éš”ç¦»çº§</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getPropagationBehavior</span><span class="params">()</span></span>;<span class="comment">//è·å–äº‹åŠ¡ä¼ æ’­è¡Œä¸º</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getTimeout</span><span class="params">()</span></span>;<span class="comment">//è·å–äº‹åŠ¡è¶…æ—¶æ—¶é—´</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isReadOnly</span><span class="params">()</span></span>;<span class="comment">//è·å–äº‹åŠ¡æ˜¯å¦åªè¯»</span></span><br></pre></td></tr></table></figure><ul><li>è¯»å†™å‹äº‹åŠ¡ï¼šå¢ã€åˆ ã€æ”¹</li><li>åªè¯»å‹äº‹åŠ¡ï¼šæŸ¥è¯¢</li></ul><h5 id="äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"><a href="#äº‹åŠ¡çš„éš”ç¦»çº§åˆ«" class="headerlink" title="äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"></a>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</h5><p><img src="http://image.zhangzef.com/20200214184345.png" alt="img"></p><h5 id="äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º"><a href="#äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º" class="headerlink" title="äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º"></a>äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º</h5><ul><li><strong>REQUIRED:å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²ç»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ã€‚ä¸€èˆ¬çš„é€‰æ‹©ï¼ˆé»˜è®¤å€¼ï¼‰</strong> </li><li><strong>SUPPORTS:æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼ˆæ²¡æœ‰äº‹åŠ¡ï¼‰</strong> </li><li>MANDATORYï¼šä½¿ç”¨å½“å‰çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ </li><li>REQUERS_NEW:æ–°å»ºäº‹åŠ¡ï¼Œå¦‚æœå½“å‰åœ¨äº‹åŠ¡ä¸­ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ </li><li>NOT_SUPPORTED:ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ· </li><li>NEVER:ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠ›å‡ºå¼‚å¸¸ </li><li>NESTED:å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡ŒREQUIREDç±»ä¼¼çš„æ“ä½œã€‚</li></ul><h5 id="è¶…æ—¶æ—¶é—´"><a href="#è¶…æ—¶æ—¶é—´" class="headerlink" title="è¶…æ—¶æ—¶é—´"></a>è¶…æ—¶æ—¶é—´</h5><p>é»˜è®¤å€¼æ˜¯-1ï¼Œæ²¡æœ‰è¶…æ—¶é™åˆ¶ã€‚å¦‚æœæœ‰ï¼Œä»¥ç§’ä¸ºå•ä½è¿›è¡Œè®¾ç½®ã€‚</p><h5 id="æ˜¯å¦æ˜¯åªè¯»äº‹åŠ¡"><a href="#æ˜¯å¦æ˜¯åªè¯»äº‹åŠ¡" class="headerlink" title="æ˜¯å¦æ˜¯åªè¯»äº‹åŠ¡"></a>æ˜¯å¦æ˜¯åªè¯»äº‹åŠ¡</h5><p>å»ºè®®æŸ¥è¯¢æ—¶è®¾ç½®ä¸ºåªè¯»ã€‚</p><h4 id="TransactionStatus"><a href="#TransactionStatus" class="headerlink" title="TransactionStatus"></a>TransactionStatus</h4><p>æè¿°äº†æŸä¸ªæ—¶é—´ç‚¹ä¸Šåäº”å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">flush</span><span class="params">()</span></span>;<span class="comment">//åˆ·æ–°äº‹åŠ¡</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">hasSavepoint</span><span class="params">()</span></span>;<span class="comment">//è·å–æ˜¯å¦å­˜åœ¨å­˜å‚¨ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isCompleted</span><span class="params">()</span></span>;<span class="comment">//è·å–äº‹åŠ¡æ˜¯å¦å®Œæˆ</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isNewTransaction</span><span class="params">()</span></span>;<span class="comment">//è·å–äº‹åŠ¡æ˜¯å¦ä¸ºæ–°äº‹åŠ¡</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isRollbackOnly</span><span class="params">()</span></span>;<span class="comment">//è·å–äº‹åŠ¡æ˜¯å¦å›æ»š</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setRollbackOnly</span><span class="params">()</span></span>;<span class="comment">//è®¾ç½®äº‹åŠ¡å›æ»š</span></span><br></pre></td></tr></table></figure><h3 id="åŸºäºXMLçš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶"><a href="#åŸºäºXMLçš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶" class="headerlink" title="åŸºäºXMLçš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶"></a>åŸºäºXMLçš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶</h3><h4 id="ç¯å¢ƒæ­å»º-1"><a href="#ç¯å¢ƒæ­å»º-1" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h4><h5 id="è®¾ç½®æ‰“åŒ…æ–¹å¼å’Œå¯¼åŒ…"><a href="#è®¾ç½®æ‰“åŒ…æ–¹å¼å’Œå¯¼åŒ…" class="headerlink" title="è®¾ç½®æ‰“åŒ…æ–¹å¼å’Œå¯¼åŒ…"></a>è®¾ç½®æ‰“åŒ…æ–¹å¼å’Œå¯¼åŒ…</h5><p>å…ˆè®¾ç½®æ‰“åŒ…æ–¹å¼ä¸ºjaråŒ…ï¼Œå¯¼å…¥jaråŒ…ï¼š</p><ul><li>spring-jdbc</li><li>spring-tx</li><li>spring-context</li><li>aspectjweaver</li><li>æ•°æ®åº“é©±åŠ¨</li></ul><h5 id="åˆ›å»ºSpringé…ç½®æ–‡ä»¶å¹¶å¯¼å…¥çº¦æŸï¼ˆæ­¤å¤„éœ€è¦å¯¼å…¥txå’Œaopçš„å‘½åç©ºé—´ï¼‰"><a href="#åˆ›å»ºSpringé…ç½®æ–‡ä»¶å¹¶å¯¼å…¥çº¦æŸï¼ˆæ­¤å¤„éœ€è¦å¯¼å…¥txå’Œaopçš„å‘½åç©ºé—´ï¼‰" class="headerlink" title="åˆ›å»ºSpringé…ç½®æ–‡ä»¶å¹¶å¯¼å…¥çº¦æŸï¼ˆæ­¤å¤„éœ€è¦å¯¼å…¥txå’Œaopçš„å‘½åç©ºé—´ï¼‰"></a>åˆ›å»ºSpringé…ç½®æ–‡ä»¶å¹¶å¯¼å…¥çº¦æŸï¼ˆæ­¤å¤„éœ€è¦å¯¼å…¥txå’Œaopçš„å‘½åç©ºé—´ï¼‰</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans </span></span></span><br><span class="line"><span class="tag"><span class="string">                           http://www.springframework.org/schema/beans/spring-beans.xsd </span></span></span><br><span class="line"><span class="tag"><span class="string">                           http://www.springframework.org/schema/tx </span></span></span><br><span class="line"><span class="tag"><span class="string">                           http://www.springframework.org/schema/tx/spring-tx.xsd </span></span></span><br><span class="line"><span class="tag"><span class="string">                           http://www.springframework.org/schema/aop </span></span></span><br><span class="line"><span class="tag"><span class="string">                           http://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="å‡†å¤‡æ•°æ®åº“å’Œå®ä½“ç±»"><a href="#å‡†å¤‡æ•°æ®åº“å’Œå®ä½“ç±»" class="headerlink" title="å‡†å¤‡æ•°æ®åº“å’Œå®ä½“ç±»"></a>å‡†å¤‡æ•°æ®åº“å’Œå®ä½“ç±»</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">account</span>( </span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment, </span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">40</span>), </span><br><span class="line">    money <span class="built_in">float</span> </span><br><span class="line">)<span class="built_in">character</span> <span class="keyword">set</span> utf8 <span class="keyword">collate</span> utf8_general_ci;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Float money;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Account&#123;"</span> +</span><br><span class="line">                <span class="string">"id="</span> + id +</span><br><span class="line">                <span class="string">", name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", money="</span> + money +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Float <span class="title">getMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMoney</span><span class="params">(Float money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.money = money;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å‡†å¤‡Daoå±‚æ¥å£å’Œå®ç°ç±»"><a href="#å‡†å¤‡Daoå±‚æ¥å£å’Œå®ç°ç±»" class="headerlink" title="å‡†å¤‡Daoå±‚æ¥å£å’Œå®ç°ç±»"></a>å‡†å¤‡Daoå±‚æ¥å£å’Œå®ç°ç±»</h5><p>æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAccountDao</span> </span>&#123;</span><br><span class="line">    <span class="function">Account <span class="title">findAccountById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line">    <span class="function">Account <span class="title">findAccountByName</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateAccount</span><span class="params">(Account account)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountDaoImpl</span> <span class="keyword">extends</span> <span class="title">JdbcDaoSupport</span> <span class="keyword">implements</span> <span class="title">IAccountDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        List&lt;Account&gt; list =</span><br><span class="line">                getJdbcTemplate().query(<span class="string">"select * from account where id = ?"</span>,</span><br><span class="line">                        <span class="keyword">new</span> BeanPropertyRowMapper&lt;Account&gt;(Account.class), id);</span><br><span class="line">        <span class="keyword">return</span> list.isEmpty()?<span class="keyword">null</span>:list.get(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountByName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        List&lt;Account&gt; list =</span><br><span class="line">                getJdbcTemplate().query(<span class="string">"select * from account where name = ?"</span>,</span><br><span class="line">                        <span class="keyword">new</span> BeanPropertyRowMapper&lt;Account&gt;(Account.class), name);</span><br><span class="line">        <span class="keyword">if</span> (list.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (list.size()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"ç»“æœä¸å”¯ä¸€"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list.get(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateAccount</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">        getJdbcTemplate().update(<span class="string">"update account set money = ? where id = ?"</span>,</span><br><span class="line">                account.getMoney(), account.getId());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å‡†å¤‡ä¸šåŠ¡å±‚æ¥å£åŠå®ç°ç±»"><a href="#å‡†å¤‡ä¸šåŠ¡å±‚æ¥å£åŠå®ç°ç±»" class="headerlink" title="å‡†å¤‡ä¸šåŠ¡å±‚æ¥å£åŠå®ç°ç±»"></a>å‡†å¤‡ä¸šåŠ¡å±‚æ¥å£åŠå®ç°ç±»</h5><p>æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line">    <span class="function">Account <span class="title">findAccountById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">transfer</span><span class="params">(String sourceName, String targetName, Float money)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IAccountDao accountDao;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAccountDao</span><span class="params">(IAccountDao accountDao)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.accountDao = accountDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findAccountById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transfer</span><span class="params">(String sourceName, String targetName, Float money)</span> </span>&#123;</span><br><span class="line">        Account source = accountDao.findAccountByName(sourceName);</span><br><span class="line">        Account target = accountDao.findAccountByName(targetName);</span><br><span class="line"></span><br><span class="line">        source.setMoney(source.getMoney()-money);</span><br><span class="line">        target.setMoney(target.getMoney()+money);</span><br><span class="line"></span><br><span class="line">        accountDao.updateAccount(source);</span><br><span class="line">        accountDao.updateAccount(target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®æºï¼Œä¸šåŠ¡å±‚åŠæŒä¹…å±‚"><a href="#åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®æºï¼Œä¸šåŠ¡å±‚åŠæŒä¹…å±‚" class="headerlink" title="åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®æºï¼Œä¸šåŠ¡å±‚åŠæŒä¹…å±‚"></a>åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®æºï¼Œä¸šåŠ¡å±‚åŠæŒä¹…å±‚</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®æ•°æ®æº--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/test?serverTimezone=UTC"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"password"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é…ç½®Dao--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountDao"</span> <span class="attr">class</span>=<span class="string">"com.dao.Impl.AccountDaoImpl"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é…ç½®service--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> <span class="attr">class</span>=<span class="string">"com.service.Impl.AccountServiceImpl"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"accountDao"</span> <span class="attr">ref</span>=<span class="string">"accountDao"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="åŸºäºXMLçš„é…ç½®æ­¥éª¤"><a href="#åŸºäºXMLçš„é…ç½®æ­¥éª¤" class="headerlink" title="åŸºäºXMLçš„é…ç½®æ­¥éª¤"></a>åŸºäºXMLçš„é…ç½®æ­¥éª¤</h4><h5 id="é…ç½®äº‹åŠ¡ç®¡ç†å™¨"><a href="#é…ç½®äº‹åŠ¡ç®¡ç†å™¨" class="headerlink" title="é…ç½®äº‹åŠ¡ç®¡ç†å™¨"></a>é…ç½®äº‹åŠ¡ç®¡ç†å™¨</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span><span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="é…ç½®äº‹åŠ¡çš„é€šçŸ¥åŠå±æ€§"><a href="#é…ç½®äº‹åŠ¡çš„é€šçŸ¥åŠå±æ€§" class="headerlink" title="é…ç½®äº‹åŠ¡çš„é€šçŸ¥åŠå±æ€§"></a>é…ç½®äº‹åŠ¡çš„é€šçŸ¥åŠå±æ€§</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡çš„é€šçŸ¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">"txAdvice"</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®äº‹åŠ¡çš„å±æ€§</span></span><br><span class="line"><span class="comment">        nameä¸ºä¸šåŠ¡çš„æ ¸å¿ƒæ–¹æ³•åç§°ï¼Œå¯ä»¥ç”¨é€šé…ç¬¦*ä»£æ›¿</span></span><br><span class="line"><span class="comment">        find*å³è¡¨ç¤ºä»¥findå¼€å¤´çš„æ–¹æ³•ï¼Œä»–æ¯”å•ç”¨é€šé…ç¬¦ä¼˜å…ˆçº§æ›´é«˜</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"*"</span> <span class="attr">read-only</span>=<span class="string">"false"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"find*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span> <span class="attr">propagation</span>=<span class="string">"SUPPORTS"</span>&gt;</span><span class="tag">&lt;/<span class="name">tx:method</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>read-onlyï¼šæ˜¯å¦æ˜¯åªè¯»äº‹åŠ¡ã€‚é»˜è®¤falseï¼Œä¸åªè¯»ã€‚ </li><li>isolationï¼šæŒ‡å®šäº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚é»˜è®¤å€¼æ˜¯ä½¿ç”¨æ•°æ®åº“çš„é»˜è®¤éš”ç¦»çº§åˆ«ã€‚ </li><li>propagationï¼šæŒ‡å®šäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºã€‚ </li><li>timeoutï¼šæŒ‡å®šè¶…æ—¶æ—¶é—´ã€‚é»˜è®¤å€¼ä¸ºï¼š-1ã€‚æ°¸ä¸è¶…æ—¶ã€‚ </li><li>rollback-forï¼šç”¨äºæŒ‡å®šä¸€ä¸ªå¼‚å¸¸ï¼Œå½“æ‰§è¡Œäº§ç”Ÿè¯¥å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡å›æ»šã€‚äº§ç”Ÿå…¶ä»–å¼‚å¸¸ï¼Œäº‹åŠ¡ä¸å›æ»šã€‚æ²¡æœ‰é»˜è®¤å€¼ï¼Œä»»ä½•å¼‚å¸¸éƒ½å›æ»šã€‚ </li><li>no-rollback-forï¼šç”¨äºæŒ‡å®šä¸€ä¸ªå¼‚å¸¸ï¼Œå½“äº§ç”Ÿè¯¥å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡ä¸å›æ»šï¼Œäº§ç”Ÿå…¶ä»–å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡å›æ»šã€‚æ²¡æœ‰é»˜è®¤å€¼ï¼Œä»»ä½•å¼‚å¸¸éƒ½å›æ»šã€‚</li></ul><h5 id="é…ç½®AOPåˆ‡å…¥ç‚¹è¡¨è¾¾å¼åŠåˆ‡å…¥ç‚¹è¡¨è¾¾å¼å’Œäº‹åŠ¡é€šçŸ¥çš„å¯¹åº”å…³ç³»"><a href="#é…ç½®AOPåˆ‡å…¥ç‚¹è¡¨è¾¾å¼åŠåˆ‡å…¥ç‚¹è¡¨è¾¾å¼å’Œäº‹åŠ¡é€šçŸ¥çš„å¯¹åº”å…³ç³»" class="headerlink" title="é…ç½®AOPåˆ‡å…¥ç‚¹è¡¨è¾¾å¼åŠåˆ‡å…¥ç‚¹è¡¨è¾¾å¼å’Œäº‹åŠ¡é€šçŸ¥çš„å¯¹åº”å…³ç³»"></a>é…ç½®AOPåˆ‡å…¥ç‚¹è¡¨è¾¾å¼åŠåˆ‡å…¥ç‚¹è¡¨è¾¾å¼å’Œäº‹åŠ¡é€šçŸ¥çš„å¯¹åº”å…³ç³»</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"pt1"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.service.Impl.*.*(..))"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å»ºç«‹åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å’Œäº‹åŠ¡é€šçŸ¥çš„å¯¹åº”å…³ç³»--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"txAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:advisor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">    IAccountService accountService = (IAccountService) ac.getBean(<span class="string">"accountService"</span>);</span><br><span class="line">    accountService.transfer(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="number">100f</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŸºäºæ³¨è§£çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶"><a href="#åŸºäºæ³¨è§£çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶" class="headerlink" title="åŸºäºæ³¨è§£çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶"></a>åŸºäºæ³¨è§£çš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶</h3><h4 id="ç¯å¢ƒæ­å»º-2"><a href="#ç¯å¢ƒæ­å»º-2" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h4><h5 id="è®¾ç½®æ‰“åŒ…æ–¹å¼å’Œå¯¼åŒ…-1"><a href="#è®¾ç½®æ‰“åŒ…æ–¹å¼å’Œå¯¼åŒ…-1" class="headerlink" title="è®¾ç½®æ‰“åŒ…æ–¹å¼å’Œå¯¼åŒ…"></a>è®¾ç½®æ‰“åŒ…æ–¹å¼å’Œå¯¼åŒ…</h5><p>å’ŒåŸºäºXMLé…ç½®ç›¸åŒ</p><h5 id="åˆ›å»ºspringçš„é…ç½®æ–‡ä»¶å¯¼å…¥çº¦æŸå¹¶é…ç½®æ‰«æçš„åŒ…"><a href="#åˆ›å»ºspringçš„é…ç½®æ–‡ä»¶å¯¼å…¥çº¦æŸå¹¶é…ç½®æ‰«æçš„åŒ…" class="headerlink" title="åˆ›å»ºspringçš„é…ç½®æ–‡ä»¶å¯¼å…¥çº¦æŸå¹¶é…ç½®æ‰«æçš„åŒ…"></a>åˆ›å»ºspringçš„é…ç½®æ–‡ä»¶å¯¼å…¥çº¦æŸå¹¶é…ç½®æ‰«æçš„åŒ…</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/tx</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®è¦æ‰«æçš„åŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com"</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="åˆ›å»ºæ•°æ®åº“è¡¨å’Œå®ä½“ç±»"><a href="#åˆ›å»ºæ•°æ®åº“è¡¨å’Œå®ä½“ç±»" class="headerlink" title="åˆ›å»ºæ•°æ®åº“è¡¨å’Œå®ä½“ç±»"></a>åˆ›å»ºæ•°æ®åº“è¡¨å’Œå®ä½“ç±»</h5><p>å’ŒåŸºäºXMLé…ç½®ç›¸åŒ</p><h5 id="åˆ›å»ºDaoæ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®©springç®¡ç†"><a href="#åˆ›å»ºDaoæ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®©springç®¡ç†" class="headerlink" title="åˆ›å»ºDaoæ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®©springç®¡ç†"></a>åˆ›å»ºDaoæ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®©springç®¡ç†</h5><p>æ³¨æ„ï¼šå½“ä½¿ç”¨æ³¨è§£æ—¶ä¸èƒ½å†ç»§æ‰¿JdbcDaoSupportäº†ï¼Œå¿…é¡»æ‰‹åŠ¨åˆ›å»ºJdbcTemplateç±»å¹¶ç”¨@Autowriedæ³¨å…¥ï¼Œè¿˜è¦åœ¨bean.xmlæ–‡ä»¶ä¸­é…ç½®JdbcTemplateã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span>(<span class="string">"accountDao"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountDaoImpl</span> <span class="keyword">implements</span> <span class="title">IAccountDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        List&lt;Account&gt; list =</span><br><span class="line">                jdbcTemplate.query(<span class="string">"select * from account where id = ?"</span>,</span><br><span class="line">                        <span class="keyword">new</span> BeanPropertyRowMapper&lt;Account&gt;(Account.class), id);</span><br><span class="line">        <span class="keyword">return</span> list.isEmpty()?<span class="keyword">null</span>:list.get(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountByName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        List&lt;Account&gt; list =</span><br><span class="line">                jdbcTemplate.query(<span class="string">"select * from account where name = ?"</span>,</span><br><span class="line">                        <span class="keyword">new</span> BeanPropertyRowMapper&lt;Account&gt;(Account.class), name);</span><br><span class="line">        <span class="keyword">if</span> (list.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (list.size()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"ç»“æœä¸å”¯ä¸€"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list.get(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateAccount</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">        jdbcTemplate.update(<span class="string">"update account set money = ? where id = ?"</span>,</span><br><span class="line">                account.getMoney(), account.getId());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åˆ›å»ºä¸šåŠ¡å±‚æ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®©springç®¡ç†"><a href="#åˆ›å»ºä¸šåŠ¡å±‚æ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®©springç®¡ç†" class="headerlink" title="åˆ›å»ºä¸šåŠ¡å±‚æ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®©springç®¡ç†"></a>åˆ›å»ºä¸šåŠ¡å±‚æ¥å£å’Œå®ç°ç±»å¹¶ä½¿ç”¨æ³¨è§£è®©springç®¡ç†</h5><p>å»æ‰setæ–¹æ³•ï¼Œä½¿ç”¨Autowriedè‡ªåŠ¨æ³¨å…¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(<span class="string">"accountService"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> IAccountDao accountDao;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findAccountById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transfer</span><span class="params">(String sourceName, String targetName, Float money)</span> </span>&#123;</span><br><span class="line">        Account source = accountDao.findAccountByName(sourceName);</span><br><span class="line">        Account target = accountDao.findAccountByName(targetName);</span><br><span class="line"></span><br><span class="line">        source.setMoney(source.getMoney()-money);</span><br><span class="line">        target.setMoney(target.getMoney()+money);</span><br><span class="line"></span><br><span class="line">        accountDao.updateAccount(source);</span><br><span class="line">        accountDao.updateAccount(target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å…¶ä»–xmlé…ç½®"><a href="#å…¶ä»–xmlé…ç½®" class="headerlink" title="å…¶ä»–xmlé…ç½®"></a>å…¶ä»–xmlé…ç½®</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"jdbcTemplate"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.core.JdbcTemplate"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é…ç½®æ•°æ®æº--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/test?serverTimezone=UTC"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"password"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="åŸºäºæ³¨è§£çš„é…ç½®æ­¥éª¤"><a href="#åŸºäºæ³¨è§£çš„é…ç½®æ­¥éª¤" class="headerlink" title="åŸºäºæ³¨è§£çš„é…ç½®æ­¥éª¤"></a>åŸºäºæ³¨è§£çš„é…ç½®æ­¥éª¤</h4><h5 id="é…ç½®äº‹åŠ¡ç®¡ç†å™¨-1"><a href="#é…ç½®äº‹åŠ¡ç®¡ç†å™¨-1" class="headerlink" title="é…ç½®äº‹åŠ¡ç®¡ç†å™¨"></a>é…ç½®äº‹åŠ¡ç®¡ç†å™¨</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="åœ¨ä¸šåŠ¡å±‚ä½¿ç”¨-Transactionalæ³¨è§£"><a href="#åœ¨ä¸šåŠ¡å±‚ä½¿ç”¨-Transactionalæ³¨è§£" class="headerlink" title="åœ¨ä¸šåŠ¡å±‚ä½¿ç”¨@Transactionalæ³¨è§£"></a>åœ¨ä¸šåŠ¡å±‚ä½¿ç”¨@Transactionalæ³¨è§£</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(<span class="string">"accountService"</span>)</span><br><span class="line"><span class="meta">@Transactional</span>(readOnly = <span class="keyword">true</span>, propagation = Propagation.SUPPORTS)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> IAccountDao accountDao;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findAccountById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span>(readOnly = <span class="keyword">false</span>, propagation = Propagation.REQUIRED)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transfer</span><span class="params">(String sourceName, String targetName, Float money)</span> </span>&#123;</span><br><span class="line">        Account source = accountDao.findAccountByName(sourceName);</span><br><span class="line">        Account target = accountDao.findAccountByName(targetName);</span><br><span class="line"></span><br><span class="line">        source.setMoney(source.getMoney()-money);</span><br><span class="line">        target.setMoney(target.getMoney()+money);</span><br><span class="line"></span><br><span class="line">        accountDao.updateAccount(source);</span><br><span class="line">        accountDao.updateAccount(target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥æ³¨è§£çš„å±æ€§å’Œxmlä¸­çš„å±æ€§å«ä¹‰ä¸€è‡´ã€‚è¯¥æ³¨è§£å¯ä»¥å‡ºç°åœ¨æ¥å£ä¸Šï¼Œç±»ä¸Šå’Œæ–¹æ³•ä¸Šã€‚ </p><ul><li>å‡ºç°æ¥å£ä¸Šï¼Œè¡¨ç¤ºè¯¥æ¥å£çš„æ‰€æœ‰å®ç°ç±»éƒ½æœ‰äº‹åŠ¡æ”¯æŒã€‚ </li><li>å‡ºç°åœ¨ç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­æ‰€æœ‰æ–¹æ³•æœ‰äº‹åŠ¡æ”¯æŒ </li><li>å‡ºç°åœ¨æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºæ–¹æ³•æœ‰äº‹åŠ¡æ”¯æŒã€‚ </li></ul><p>ä»¥ä¸Šä¸‰ä¸ªä½ç½®çš„ä¼˜å…ˆçº§ï¼šæ–¹æ³•&gt;ç±»&gt;æ¥å£</p><h5 id="åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯springå¯¹æ³¨è§£äº‹åŠ¡çš„æ”¯æŒ"><a href="#åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯springå¯¹æ³¨è§£äº‹åŠ¡çš„æ”¯æŒ" class="headerlink" title="åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯springå¯¹æ³¨è§£äº‹åŠ¡çš„æ”¯æŒ"></a>åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯springå¯¹æ³¨è§£äº‹åŠ¡çš„æ”¯æŒ</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¼€å¯springå¯¹æ³¨è§£äº‹åŠ¡çš„æ”¯æŒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•ä»£ç -1"><a href="#æµ‹è¯•ä»£ç -1" class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h4><p>åŒä¸Š</p><h2 id="Spring5çš„éƒ¨åˆ†æ–°ç‰¹æ€§"><a href="#Spring5çš„éƒ¨åˆ†æ–°ç‰¹æ€§" class="headerlink" title="Spring5çš„éƒ¨åˆ†æ–°ç‰¹æ€§"></a>Spring5çš„éƒ¨åˆ†æ–°ç‰¹æ€§</h2><h3 id="JDKå‡çº§"><a href="#JDKå‡çº§" class="headerlink" title="JDKå‡çº§"></a>JDKå‡çº§</h3><p>spring5.0åœ¨2017å¹´9æœˆå‘å¸ƒäº†å®ƒçš„GAï¼ˆé€šç”¨ï¼‰ç‰ˆæœ¬ã€‚è¯¥ç‰ˆæœ¬æ˜¯åŸºäºjdk8ç¼–å†™çš„ï¼Œæ‰€ä»¥jdk8ä»¥ä¸‹ç‰ˆæœ¬å°†æ— æ³•ä½¿ç”¨ã€‚åŒæ—¶ï¼Œå¯ä»¥å…¼å®¹jdk9ç‰ˆæœ¬ã€‚ tomcatç‰ˆæœ¬è¦æ±‚8.5åŠä»¥ä¸Šã€‚</p><p>jdk1.8ç‰ˆæœ¬ï¼ˆå°±æ˜¯JDK8ï¼‰è¿è¡Œæ—¶é—´å¦‚ä¸‹ï¼š</p><p><img src="http://image.zhangzef.com/20200214184344.png" alt="img"></p><p>å½“åˆ‡æ¢åˆ°jdk1.7ç‰ˆæœ¬ä¹‹åï¼Œè¿è¡Œæ—¶é—´å¦‚ä¸‹ï¼š</p><p><img src="http://image.zhangzef.com/20200214184347.png" alt="img"></p><p>åœ¨æ¡†æ¶ä¸­åˆ›å»ºå¯¹è±¡é€šå¸¸éƒ½æ˜¯ç”¨<strong>åå°„</strong>æ¥åˆ›å»ºå¯¹è±¡çš„ã€‚</p><h3 id="æ ¸å¿ƒå®¹å™¨çš„æ›´æ–°"><a href="#æ ¸å¿ƒå®¹å™¨çš„æ›´æ–°" class="headerlink" title="æ ¸å¿ƒå®¹å™¨çš„æ›´æ–°"></a>æ ¸å¿ƒå®¹å™¨çš„æ›´æ–°</h3><p>Spring Framework 5.0 ç°åœ¨æ”¯æŒå€™é€‰ç»„ä»¶ç´¢å¼•ä½œä¸ºç±»è·¯å¾„æ‰«æçš„æ›¿ä»£æ–¹æ¡ˆã€‚è¯¥åŠŸèƒ½å·²ç»åœ¨ç±»è·¯å¾„æ‰«æå™¨ä¸­æ·»åŠ ï¼Œä»¥ç®€åŒ–æ·»åŠ å€™é€‰ç»„ä»¶æ ‡è¯†çš„æ­¥éª¤ã€‚ </p><p>åº”ç”¨ç¨‹åºæ„å»ºä»»åŠ¡å¯ä»¥å®šä¹‰å½“å‰é¡¹ç›®è‡ªå·±çš„ META-INF/spring.components æ–‡ä»¶ã€‚åœ¨ç¼–è¯‘æ—¶ï¼Œæºæ¨¡å‹æ˜¯è‡ªåŒ…å«çš„ï¼ŒJPA å®ä½“å’Œ Spring ç»„ä»¶æ˜¯å·²è¢«æ ‡è®°çš„ã€‚ </p><p>ä»ç´¢å¼•è¯»å–å®ä½“è€Œä¸æ˜¯æ‰«æç±»è·¯å¾„å¯¹äº<strong>å°äº 200 ä¸ªç±»çš„å°å‹é¡¹ç›®æ˜¯æ²¡æœ‰æ˜æ˜¾å·®å¼‚</strong>ã€‚ä½†å¯¹<strong>å¤§å‹é¡¹ç›®å½±å“è¾ƒå¤§</strong>ã€‚åŠ è½½ç»„ä»¶ç´¢å¼•å¼€é”€æ›´ä½ã€‚å› æ­¤ï¼Œéšç€ç±»æ•°çš„å¢åŠ ï¼Œç´¢å¼•è¯»å–çš„å¯åŠ¨æ—¶é—´å°†ä¿æŒä¸å˜ã€‚ </p><p>åŠ è½½ç»„ä»¶ç´¢å¼•çš„è€—è´¹æ˜¯å»‰ä»·çš„ã€‚å› æ­¤å½“ç±»çš„æ•°é‡ä¸æ–­å¢é•¿ï¼ŒåŠ ä¸Šæ„å»ºç´¢å¼•çš„å¯åŠ¨æ—¶é—´ä»ç„¶å¯ä»¥ç»´æŒä¸€ä¸ªå¸¸æ•°, ä¸è¿‡å¯¹äºç»„ä»¶æ‰«æè€Œè¨€ï¼Œå¯åŠ¨æ—¶é—´åˆ™ä¼šæœ‰æ˜æ˜¾çš„å¢é•¿ã€‚ </p><p>è¿™ä¸ªå¯¹äºæˆ‘ä»¬å¤„äºå¤§å‹ Spring é¡¹ç›®çš„å¼€å‘è€…æ‰€æ„å‘³ç€çš„ï¼Œæ˜¯åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ—¶é—´å°†è¢«å¤§å¤§ç¼©å‡ã€‚è™½ç„¶ 20 æˆ–è€… 30 ç§’é’Ÿçœ‹ä¼¼æ²¡ä»€ä¹ˆï¼Œä½†å¦‚æœæ¯å¤©è¦è¿™æ ·ç™»ä¸Šå¥½å‡ ç™¾æ¬¡ï¼ŒåŠ èµ·æ¥å°±å¤Ÿä½ å—çš„äº†ã€‚ä½¿ç”¨äº†ç»„ä»¶ç´¢å¼•çš„è¯ï¼Œå°±èƒ½å¸®åŠ©ä½ æ¯å¤©è¿‡çš„æ›´åŠ é«˜æ•ˆã€‚ </p><p>ä½ å¯ä»¥åœ¨ Spring çš„ <a href="https://github.com/spring-projects/spring-framework/issues/16509" target="_blank" rel="noopener">Jira</a>ä¸Šäº†è§£æ›´å¤šå…³äºç»„ä»¶ç´¢å¼•çš„ç›¸å…³ä¿¡æ¯ã€‚</p><h2 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h2><p>å…³äºSpringæ¡†æ¶çš„ä¸œè¥¿å¤§æ¦‚å°±è¿™ä¹ˆå¤šäº†ã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Springä¸­çš„JdbcTemplate&quot;&gt;&lt;a href=&quot;#Springä¸­çš„JdbcTemplate&quot; class=&quot;headerlink&quot; title=&quot;Springä¸­çš„JdbcTemplate&quot;&gt;&lt;/a&gt;Springä¸­çš„JdbcTemplate&lt;/h2&gt;&lt;
      
    
    </summary>
    
      <category term="JavaWeb" scheme="zhangzef.com/categories/JavaWeb/"/>
    
    
      <category term="Spring" scheme="zhangzef.com/tags/Spring/"/>
    
      <category term="æ¡†æ¶" scheme="zhangzef.com/tags/%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>Spring--ä¸‰ã€Springçš„AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰</title>
    <link href="zhangzef.com/2019/10/28/Spring--%E4%B8%89%E3%80%81Spring%E7%9A%84AOP%EF%BC%88%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B%EF%BC%89/"/>
    <id>zhangzef.com/2019/10/28/Spring--ä¸‰ã€Springçš„AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰/</id>
    <published>2019-10-28T15:47:51.000Z</published>
    <updated>2020-02-14T10:55:18.435Z</updated>
    
    <content type="html"><![CDATA[<h2 id="AOPæ¦‚è¿°"><a href="#AOPæ¦‚è¿°" class="headerlink" title="AOPæ¦‚è¿°"></a>AOPæ¦‚è¿°</h2><h3 id="ä»€ä¹ˆæ˜¯AOP"><a href="#ä»€ä¹ˆæ˜¯AOP" class="headerlink" title="ä»€ä¹ˆæ˜¯AOP"></a>ä»€ä¹ˆæ˜¯AOP</h3><blockquote><p>  åœ¨è½¯ä»¶ä¸šï¼ŒAOPä¸ºAspect Oriented Programmingçš„ç¼©å†™ï¼Œæ„ä¸ºï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œé€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚</p></blockquote><p>ç®€å•çš„è¯´å®ƒå°±æ˜¯æŠŠæˆ‘ä»¬ç¨‹åºé‡å¤çš„ä»£ç æŠ½å–å‡ºæ¥ï¼Œåœ¨éœ€è¦æ‰§è¡Œçš„æ—¶å€™ï¼Œä½¿ç”¨<strong>åŠ¨æ€ä»£ç†</strong>çš„æŠ€æœ¯ï¼Œåœ¨<strong>ä¸ä¿®æ”¹æºç </strong>çš„åŸºç¡€ä¸Šï¼Œå¯¹æˆ‘ä»¬çš„<strong>å·²æœ‰æ–¹æ³•è¿›è¡Œå¢å¼º</strong>ã€‚</p><h3 id="AOPçš„ä½œç”¨åŠä¼˜åŠ¿"><a href="#AOPçš„ä½œç”¨åŠä¼˜åŠ¿" class="headerlink" title="AOPçš„ä½œç”¨åŠä¼˜åŠ¿"></a>AOPçš„ä½œç”¨åŠä¼˜åŠ¿</h3><ul><li>ä½œç”¨ï¼š åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œä¸ä¿®æ”¹æºç å¯¹å·²æœ‰æ–¹æ³•è¿›è¡Œå¢å¼ºã€‚ </li><li>ä¼˜åŠ¿ï¼š <ul><li>å‡å°‘é‡å¤ä»£ç  </li><li>æé«˜å¼€å‘æ•ˆç‡ </li><li>ç»´æŠ¤æ–¹ä¾¿</li></ul></li></ul><h3 id="ä¸¾ä¾‹è¯´æ˜"><a href="#ä¸¾ä¾‹è¯´æ˜" class="headerlink" title="ä¸¾ä¾‹è¯´æ˜"></a>ä¸¾ä¾‹è¯´æ˜</h3><p>å…ˆä¸¾ä¸ªå°æ —å­ï¼Œå³è‡ªäº§è‡ªé”€ï¼Œåœ¨å¾ˆä¹…ä»¥å‰æˆ‘ä»¬è´­ä¹°ç”µè„‘éƒ½æ˜¯ç›´æ¥ä»å‚å®¶æ‰‹é‡Œè´­ä¹°ï¼Œä½†æ˜¯å½“ç”Ÿäº§å‚å®¶é€æ¸æ‰©å¤§ï¼Œé”€å”®ç½‘ç»œä¹Ÿé€æ¸æ‰©å¤§ï¼Œç”Ÿäº§å‚å®¶åˆ™æ— æ³•é¡¾åŠè¶Šæ¥è¶Šå¤§çš„é”€å”®ä¸šåŠ¡ï¼Œè¿™æ—¶å€™ä»£ç†å•†å°±å‡ºç°äº†ã€‚ä»–ä»¬é€šè¿‡èµšå–å·®ä»·æ¥å¸®åŠ©ç”Ÿäº§å‚å®¶é”€å”®äº§å“ï¼Œç”Ÿäº§å‚å®¶å°±èƒ½ä¸“å¿ƒç”Ÿäº§ï¼Œè€Œä¸­é—´èµšå–å·®ä»·å’Œé”€å”®è¿™ä¸ªæ“ä½œå°±æ˜¯å¯¹åŸæœ‰ç”Ÿäº§å•†åŠŸèƒ½çš„åŠ å¼ºã€‚</p><p><img src="http://image.zhangzef.com/20200214184246.png" alt="img" style="zoom:50%;"></p><p>æ‰€ä»¥æˆ‘ä»¬ç°åœ¨çŸ¥é“ï¼Œè¦æƒ³å®ç°AOPï¼Œå°±éœ€è¦æ¥çœ‹ä¸€çœ‹<strong>ä»£ç†</strong>æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚</p><h2 id="ä»£ç†Proxy"><a href="#ä»£ç†Proxy" class="headerlink" title="ä»£ç†Proxy"></a>ä»£ç†Proxy</h2><p>ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå¯¹è±¡ä¸é€‚åˆæˆ–è€…ä¸èƒ½ç›´æ¥å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ï¼Œä»£ç†ä¹Ÿå¯ä»¥å¯¹è¢«ä»£ç†ç±»è¿›è¡Œå¢å¼ºã€‚</p><p>æŒ‰ç…§ä»£ç†çš„åˆ›å»ºæ—¶æœŸï¼Œä»£ç†ç±»å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š </p><ul><li>é™æ€ï¼šç”±ç¨‹åºå‘˜åˆ›å»ºä»£ç†ç±»æˆ–ç‰¹å®šå·¥å…·è‡ªåŠ¨ç”Ÿæˆæºä»£ç å†å¯¹å…¶ç¼–è¯‘ã€‚åœ¨ç¨‹åºè¿è¡Œå‰ä»£ç†ç±»çš„.classæ–‡ä»¶å°±å·²ç»å­˜åœ¨äº†ã€‚</li><li><p>åŠ¨æ€ï¼šåœ¨ç¨‹åºè¿è¡Œæ—¶è¿ç”¨åå°„æœºåˆ¶åŠ¨æ€åˆ›å»ºè€Œæˆã€‚</p><p>æ³¨æ„ï¼šè¢«ä»£ç†ç±»å¿…é¡»ç»§æ‰¿ä¸€ä¸ªæ¥å£ï¼Œæˆ–ç»§æ‰¿ä¸€ä¸ªç±»ï¼ˆä½†æ˜¯éœ€è¦ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆCGLibï¼Œè¢«ä»£ç†ç±»ä¸èƒ½ç”¨finalä¿®é¥°ï¼‰æ”¯æŒæ¥ä»£ç†ï¼‰</p></li></ul><h3 id="é™æ€ä»£ç†"><a href="#é™æ€ä»£ç†" class="headerlink" title="é™æ€ä»£ç†"></a>é™æ€ä»£ç†</h3><p>é™æ€ä»£ç†å°±æ˜¯ç¨‹åºå‘˜è‡ªå·±æ‰‹åŠ¨ç¼–å†™çš„æºä»£ç æ¥å¯¹è¢«ä»£ç†å¯¹è±¡è¿›è¡Œå¢å¼ºã€‚ä¸‹é¢è®²ä¸€ä¸ªä¾‹å­ï¼š</p><ul><li>IUserManageræ¥å£æ˜¯ç”¨äºè§„èŒƒUserManagerç±»çš„ä¸€ä¸ªæ¥å£ã€‚</li><li>UserManagerç±»æ˜¯è¢«ä»£ç†ç±»ï¼Œä»–æœ‰åˆ›å»ºç”¨æˆ·å’Œåˆ é™¤ç”¨æˆ·ä¸¤ä¸ªæ–¹æ³•ã€‚</li><li>UserManagerProxyç±»æ˜¯ä»£ç†ç±»ï¼Œä»–å°†UserManagerç±»çš„ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œå¢å¼ºï¼ˆå³åœ¨ä¸ä¿®æ”¹æºç çš„åŸºç¡€ä¸Šæ·»åŠ äº†ä¸€äº›åŠŸèƒ½ï¼‰ã€‚</li></ul><p>IUserManagerï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IUserManager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserManagerï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserManager</span> <span class="keyword">implements</span> <span class="title">IUserManager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ·»åŠ äº†ç”¨æˆ·ï¼š"</span> +  name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åˆ é™¤äº†ç”¨æˆ·ï¼š"</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserManagerProxyï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserManagerProxy</span> <span class="keyword">implements</span> <span class="title">IUserManager</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> UserManager usr;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserManagerProxy</span><span class="params">(UserManager usr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.usr = usr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"start...addUser"</span>);</span><br><span class="line">            <span class="keyword">this</span>.usr.addUser(name);</span><br><span class="line">            System.out.println(<span class="string">"end...addUser"</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            System.out.println(<span class="string">"error...addUser"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"start...deleteUser"</span>);</span><br><span class="line">            <span class="keyword">this</span>.usr.deleteUser(name);</span><br><span class="line">            System.out.println(<span class="string">"end...deleteUser"</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            System.out.println(<span class="string">"error..deleteUser"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>mainå‡½æ•°è°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        IUserManager userManager = <span class="keyword">new</span> UserManagerProxy(<span class="keyword">new</span> UserManager());</span><br><span class="line">        userManager.addUser(<span class="string">"zzz"</span>);</span><br><span class="line">        userManager.deleteUser(<span class="string">"zzz"</span>);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><blockquote><p>  æ·»åŠ äº†ç”¨æˆ·ï¼šzzz<br>  endâ€¦addUser<br>  startâ€¦deleteUser<br>  åˆ é™¤äº†ç”¨æˆ·ï¼šzzz<br>  endâ€¦deleteUser</p></blockquote><p>çœ‹å®Œæºç ä¸éš¾å‘ç°ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ç»§æ‰¿ç›¸åŒçš„æ¥å£ï¼Œæ¥å®ç°ç›¸åŒçš„æ–¹æ³•ï¼Œåœ¨æ–°ç±»é‡Œé¢æ¥å¯¹åŸæœ‰çš„æ–¹æ³•è¿›è¡Œå¢æ·»å¹¶è°ƒç”¨åŸæœ‰çš„æ–¹æ³•ã€‚</p><p>ç¼ºç‚¹ï¼š</p><ul><li>ä»£ç†ç±»å’Œå§”æ‰˜ç±»å®ç°äº†ç›¸åŒçš„æ¥å£ï¼Œä»£ç†ç±»é€šè¿‡å§”æ‰˜ç±»å®ç°äº†ç›¸åŒçš„æ–¹æ³•ã€‚è¿™æ ·å°±å‡ºç°äº†å¤§é‡çš„ä»£ç é‡å¤ã€‚å¦‚æœæ¥å£å¢åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œé™¤äº†æ‰€æœ‰å®ç°ç±»éœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•å¤–ï¼Œæ‰€æœ‰ä»£ç†ç±»ä¹Ÿéœ€è¦å®ç°æ­¤æ–¹æ³•ã€‚å¢åŠ äº†ä»£ç ç»´æŠ¤çš„å¤æ‚åº¦ã€‚</li><li>ä»£ç†å¯¹è±¡åªæœåŠ¡äºä¸€ç§ç±»å‹çš„å¯¹è±¡ï¼Œå¦‚æœè¦æœåŠ¡å¤šç±»å‹çš„å¯¹è±¡ã€‚åŠ¿å¿…è¦ä¸ºæ¯ä¸€ç§å¯¹è±¡éƒ½è¿›è¡Œä»£ç†ï¼Œé™æ€ä»£ç†åœ¨ç¨‹åºè§„æ¨¡ç¨å¤§æ—¶å°±æ— æ³•èƒœä»»äº†ã€‚</li><li>é™æ€ä»£ç†ç±»åªèƒ½ä¸ºç‰¹å®šçš„æ¥å£(Service)æœåŠ¡ã€‚å¦‚æƒ³è¦ä¸ºå¤šä¸ªæ¥å£æœåŠ¡åˆ™éœ€è¦å»ºç«‹å¾ˆå¤šä¸ªä»£ç†ç±»ã€‚</li></ul><h3 id="åŠ¨æ€ä»£ç†"><a href="#åŠ¨æ€ä»£ç†" class="headerlink" title="åŠ¨æ€ä»£ç†"></a>åŠ¨æ€ä»£ç†</h3><p>é™æ€ä»£ç†ä¸€ä¸ªç±»åªèƒ½ä¸ºä¸€ä¸ªæ¥å£æœåŠ¡ï¼Œé‚£ä¹ˆå¿…å®šä¼šäº§ç”Ÿå¾ˆå¤šä»£ç†ç±»ï¼Œæ‰€ä»¥èƒ½ä¸èƒ½è®©ä¸€ä¸ªä»£ç†ç±»å®Œæˆå…¨éƒ¨ä»£ç†åŠŸèƒ½å‘¢ï¼Œè¿™æ—¶å€™å°±éœ€è¦<strong>åŠ¨æ€ä»£ç†</strong>æ¥å®ç°äº†ã€‚</p><p>åŠ¨æ€ä»£ç†æ˜¯åˆ©ç”¨Javaçš„åå°„æœºåˆ¶åœ¨è¿è¡Œæ—¶åŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œå¯¹äºè¦æ‰§è¡Œ<strong>ç›¸åŒæ‰©å±•æ“ä½œ</strong>çš„ç±»æˆ–æ–¹æ³•ç”±ä¸€ä¸ªç»Ÿä¸€çš„ç±»çš„invokeæ–¹æ³•æ¥å®ç°ã€‚åŠ¨æ€ä»£ç†éœ€è¦ç”¨åˆ°java.lang.reflect.InvocationHandleræ¥å£å’Œjava.lang.reflect.Proxyç±»çš„newProxyInstance()æ–¹æ³•ã€‚</p><p>InvocationHandleræ¥å£çš„å®ç°ç±»æ˜¯ç”¨äºå¯¹è¢«ä»£ç†å¯¹è±¡ï¼ˆä¾‹å¦‚UserManagerç±»ï¼‰åŠŸèƒ½è¿›è¡Œæ‰©å±•çš„ç±»ï¼Œå½“è¢«ä»£ç†å¯¹è±¡ä½¿ç”¨æŸä¸ªæ–¹æ³•ï¼ˆä¾‹å¦‚addUseræ–¹æ³•ï¼‰æ—¶ï¼Œä¼šè¢«InvocationHandleræ¥å£çš„å®ç°ç±»<strong>æ‹¦æˆª</strong>ï¼Œåœ¨InvocationHandlerå®ç°ç±»çš„invokeæ–¹æ³•ä¸­è°ƒç”¨è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œå¹¶è¿›è¡Œä¸€äº›ä»£ç çš„æ‰©å……ã€‚é‚£ä¹ˆProxyçš„newProxyInstanceæ–¹æ³•å°±æ˜¯å°†è¢«ä»£ç†å¯¹è±¡å’Œä»£ç†å¯¹è±¡ç»‘å®šèµ·æ¥çš„æ–¹æ³•ï¼Œå°†è¢«ä»£ç†å¯¹è±¡çš„<strong>ç±»åŠ è½½å™¨</strong>å’Œ<strong>è¢«ä»£ç†ç±»å®ç°çš„æ¥å£å¯¹è±¡</strong>è¿˜æœ‰<strong>InvocationHandlerå®ç°ç±»</strong>ä¼ å…¥è¯¥æ–¹æ³•ä¸­å°±èƒ½è¿›è¡Œç»‘å®šã€‚</p><p>java.lang.reflect.InvocationHandleræ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯¥æ¥å£çš„å®ç°ç±»ç”¨äºæ‹¦æˆªè¢«ä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> proxy     è¢«ä»£ç†çš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> method    éœ€è¦è°ƒç”¨çš„æ–¹æ³•ï¼Œ</span></span><br><span class="line"><span class="comment">     *    Methodç±»æ˜¯ä¸€ä¸ªæ–¹æ³•ç±»ï¼Œå¯ä»¥æ¥æ”¶æ–¹æ³•å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args      æ–¹æ³•è°ƒç”¨æ—¶æ‰€éœ€è¦çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> Throwable</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>java.lang.reflect.Proxyç±»çš„newProxyInstanceæ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* è¯¥æ–¹æ³•ç”¨äºæŒ‡å®šè¢«ä»£ç†å¯¹è±¡å…³è”åˆ°å“ªä¸ªInvocationHandlerä¸Š</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> loader        ä¸€ä¸ªClassLoaderï¼ˆç±»åŠ è½½å™¨ï¼‰å¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">*                      å®šä¹‰äº†ç”±å“ªä¸ªClassLoaderå¯¹è±¡æ¥å¯¹ç”Ÿæˆçš„ä»£ç†å¯¹è±¡è¿›è¡ŒåŠ è½½</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> interfaces    ä¸€ä¸ªInterfaceå¯¹è±¡çš„æ•°ç»„ï¼Œ</span></span><br><span class="line"><span class="comment">*                      è¡¨ç¤ºçš„æ˜¯æˆ‘å°†è¦ç»™æˆ‘éœ€è¦ä»£ç†çš„å¯¹è±¡æä¾›ä¸€ç»„ä»€ä¹ˆæ¥å£ï¼Œ</span></span><br><span class="line"><span class="comment">*                      å¦‚æœæˆ‘æä¾›äº†ä¸€ç»„æ¥å£ç»™å®ƒï¼Œ</span></span><br><span class="line"><span class="comment">*                      é‚£ä¹ˆè¿™ä¸ªä»£ç†å¯¹è±¡å°±å®£ç§°å®ç°äº†è¯¥æ¥å£(å¤šæ€)ï¼Œ</span></span><br><span class="line"><span class="comment">*                      è¿™æ ·æˆ‘å°±èƒ½è°ƒç”¨è¿™ç»„æ¥å£ä¸­çš„æ–¹æ³•äº†</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> h             ä¸€ä¸ªInvocationHandlerå¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">*                      è¡¨ç¤ºçš„æ˜¯å½“æˆ‘è¿™ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œ</span></span><br><span class="line"><span class="comment">*                      ä¼šå…³è”åˆ°å“ªä¸€ä¸ªInvocationHandlerå¯¹è±¡ä¸Š</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">newProxyInstance</span><span class="params">(ClassLoader loader,</span></span></span><br><span class="line"><span class="function"><span class="params">                                          Class&lt;?&gt;[] interfaces,</span></span></span><br><span class="line"><span class="function"><span class="params">                                          InvocationHandler h)</span></span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨åˆ°çš„UserManagerç±»å’ŒIUserManageræ¥å£å’Œé™æ€ä»£ç†éƒ¨åˆ†ç›¸åŒï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IUserManager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserManager</span> <span class="keyword">implements</span> <span class="title">IUserManager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ·»åŠ äº†ç”¨æˆ·ï¼š"</span> +  name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åˆ é™¤äº†ç”¨æˆ·ï¼š"</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¦å®ç°java.lang.reflect.InvocationHandleræ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŠ¨æ€ä»£ç†ç±»åªèƒ½ä»£ç†æ¥å£ï¼ˆä¸æ”¯æŒæŠ½è±¡ç±»ï¼‰ï¼Œä»£ç†ç±»éƒ½éœ€è¦å®ç°InvocationHandlerç±»ï¼Œ</span></span><br><span class="line"><span class="comment"> * å®ç°invokeæ–¹æ³•ã€‚è¯¥invokeæ–¹æ³•å°±æ˜¯è°ƒç”¨è¢«ä»£ç†æ¥å£çš„æ‰€æœ‰æ–¹æ³•æ—¶éœ€è¦è°ƒç”¨çš„ï¼Œ</span></span><br><span class="line"><span class="comment"> * è¯¥invokeæ–¹æ³•è¿”å›çš„å€¼æ˜¯è¢«è°ƒç”¨æ–¹æ³•çš„è¿”å›å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è¢«ä»£ç†çš„ç›®æ ‡å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> Object targetObject;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç»‘å®šå…³ç³»ï¼Œä¹Ÿå°±æ˜¯å…³è”åˆ°å“ªä¸ªæ¥å£ï¼ˆä¸å…·ä½“çš„å®ç°ç±»ç»‘å®šï¼‰çš„å“ªäº›æ–¹æ³•å°†è¢«è°ƒç”¨æ—¶ï¼Œ</span></span><br><span class="line"><span class="comment">     * æ‰§è¡Œinvokeæ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">newProxyInstance</span><span class="params">(Object targetObject)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.targetObject = targetObject;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * è¯¥æ–¹æ³•ç”¨äºæŒ‡å®šç±»åŠ è½½å™¨ï¼Œè¢«ä»£ç†æ¥å£ï¼Œ</span></span><br><span class="line"><span class="comment">         * åŠå…³è”çš„InvocationHandlerå¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">         * è¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(targetObject.getClass().getClassLoader(),</span><br><span class="line">                targetObject.getClass().getInterfaces(),<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°±æ˜¯å‰é¢çš„InvocationHandleræ¥å£çš„invokeæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        Object ret = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"start..."</span> + method.getName());</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * è¿™é‡Œçš„invokeæ–¹æ³•ä¸æ˜¯InvocationHandleræ¥å£ä¸­çš„æ–¹æ³•äº†</span></span><br><span class="line"><span class="comment">             * ä»–æ˜¯Methodç±»ä¸­çš„invokeæ–¹æ³•</span></span><br><span class="line"><span class="comment">             * @å‚æ•°ä¸€ è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ï¼ˆä¾‹å¦‚å½“è°ƒç”¨addUseræ—¶å°±æ˜¯UserManagerå¯¹è±¡ï¼‰</span></span><br><span class="line"><span class="comment">             * @å‚æ•°äºŒ è°ƒç”¨æ–¹æ³•æ—¶çš„å‚æ•°åˆ—è¡¨</span></span><br><span class="line"><span class="comment">             * <span class="doctag">@return</span> è¿”å›è¢«è°ƒç”¨æ–¹æ³•çš„è¿”å›å€¼</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            ret = method.invoke(targetObject, args);</span><br><span class="line">            System.out.println(<span class="string">"end..."</span> + method.getName());</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">"error..."</span> + method.getName());</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>mainå‡½æ•°è°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LogHandler logHandler = <span class="keyword">new</span> LogHandler();</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * æ­¤å¤„æ˜¯åˆ›å»ºä¸€ä¸ªIUserManageræ¥å£ï¼Œ</span></span><br><span class="line"><span class="comment">         * ç”¨newProxyInstanceæ–¹æ³•åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">         * ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢å°†å…¶è½¬æ¢ä¸ºIUserManagerç±»å‹ã€‚</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * æ³¨æ„ï¼šè¿™é‡Œè¦å®šä¹‰æ¥å£ï¼ˆIUserManagerï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">         * ä¸èƒ½å®šä¹‰è¢«ä»£ç†ç±»ï¼ˆUserManagerï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">         * å› ä¸ºè¿™é‡Œåˆ›å»ºçš„ä»£ç†å¯¹è±¡æ˜¯ç»§æ‰¿è‡ªæ¥å£ï¼ˆIUserManagerï¼‰çš„Objectå¯¹è±¡</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        IUserManager iUserManager =</span><br><span class="line">                (IUserManager)logHandler.newProxyInstance(<span class="keyword">new</span> UserManager());</span><br><span class="line">        iUserManager.addUser(<span class="string">"zzz"</span>);</span><br><span class="line">        iUserManager.deleteUser(<span class="string">"zzz"</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><blockquote><p>  startâ€¦addUser<br>  æ·»åŠ äº†ç”¨æˆ·ï¼šzzz<br>  endâ€¦addUser<br>  startâ€¦deleteUser<br>  åˆ é™¤äº†ç”¨æˆ·ï¼šzzz<br>  endâ€¦deleteUser</p></blockquote><p>åŠ¨æ€ä»£ç†çš„ä¼˜ç‚¹ï¼š</p><ul><li>åŠ¨æ€ä»£ç†ä¸é™æ€ä»£ç†ç›¸æ¯”è¾ƒï¼Œæœ€å¤§çš„å¥½å¤„æ˜¯æ¥å£ä¸­å£°æ˜çš„æ‰€æœ‰æ–¹æ³•éƒ½è¢«è½¬ç§»åˆ°è°ƒç”¨å¤„ç†å™¨ä¸€ä¸ªé›†ä¸­çš„æ–¹æ³•ä¸­å¤„ç†ï¼ˆInvocationHandler.invokeï¼‰ã€‚è¿™æ ·ï¼Œåœ¨æ¥å£æ–¹æ³•æ•°é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œçµæ´»å¤„ç†ï¼Œè€Œä¸éœ€è¦åƒé™æ€ä»£ç†é‚£æ ·æ¯ä¸€ä¸ªæ–¹æ³•è¿›è¡Œä¸­è½¬ã€‚è€Œä¸”åŠ¨æ€ä»£ç†çš„åº”ç”¨ä½¿æˆ‘ä»¬çš„ç±»èŒè´£æ›´åŠ å•ä¸€ï¼Œå¤ç”¨æ€§æ›´å¼ºã€‚</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>æ€§èƒ½ä½ä¸‹ï¼Œåº”å°½é‡é¿å…åœ¨æ€§èƒ½æ•æ„Ÿç³»ç»Ÿä¸­ä½¿ç”¨</li></ul><p>AOPï¼ˆAspectOrientedProgrammingï¼‰ï¼šå°†æ—¥å¿—è®°å½•ï¼Œæ€§èƒ½ç»Ÿè®¡ï¼Œå®‰å…¨æ§åˆ¶ï¼Œäº‹åŠ¡å¤„ç†ï¼Œå¼‚å¸¸å¤„ç†ç­‰ä»£ç ä»ä¸šåŠ¡é€»è¾‘ä»£ç ä¸­åˆ’åˆ†å‡ºæ¥ï¼Œé€šè¿‡å¯¹è¿™äº›è¡Œä¸ºçš„åˆ†ç¦»ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å°†å®ƒä»¬ç‹¬ç«‹åˆ°éæŒ‡å¯¼ä¸šåŠ¡é€»è¾‘çš„æ–¹æ³•ä¸­ï¼Œè¿›è€Œæ”¹å˜è¿™äº›è¡Œä¸ºçš„æ—¶å€™ä¸å½±å“ä¸šåŠ¡é€»è¾‘çš„ä»£ç â€”è§£è€¦ã€‚</p><p>æ­£æ˜¯å› ä¸ºåœ¨æ‰€æœ‰çš„ç±»é‡Œï¼Œæ ¸å¿ƒä»£ç ä¹‹å‰çš„æ“ä½œå’Œæ ¸å¿ƒä»£ç ä¹‹åçš„æ“ä½œéƒ½åšçš„æ˜¯åŒæ ·çš„é€»è¾‘ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å®ƒä»¬æå–å‡ºæ¥ï¼Œå•ç‹¬åˆ†æï¼Œè®¾è®¡å’Œç¼–ç ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„AOPæ€æƒ³ã€‚ä¸€å¥è¯è¯´ï¼ŒAOPåªæ˜¯åœ¨å¯¹OOPçš„åŸºç¡€ä¸Šè¿›è¡Œè¿›ä¸€æ­¥æŠ½è±¡ï¼Œä½¿æˆ‘ä»¬çš„ç±»çš„èŒè´£æ›´åŠ å•ä¸€ã€‚</p><h2 id="Springä¸­çš„AOP"><a href="#Springä¸­çš„AOP" class="headerlink" title="Springä¸­çš„AOP"></a>Springä¸­çš„AOP</h2><h3 id="Springä¸­AOPçš„ç»†èŠ‚"><a href="#Springä¸­AOPçš„ç»†èŠ‚" class="headerlink" title="Springä¸­AOPçš„ç»†èŠ‚"></a>Springä¸­AOPçš„ç»†èŠ‚</h3><h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>æˆ‘ä»¬å­¦ä¹ springçš„aopï¼Œå°±æ˜¯é€šè¿‡é…ç½®çš„æ–¹å¼ï¼Œå®ç°åŠ¨æ€ä»£ç†ã€‚</p><h4 id="AOPç›¸å…³æœ¯è¯­"><a href="#AOPç›¸å…³æœ¯è¯­" class="headerlink" title="AOPç›¸å…³æœ¯è¯­"></a>AOPç›¸å…³æœ¯è¯­</h4><ul><li>Joinpoint(è¿æ¥ç‚¹): æ‰€è°“è¿æ¥ç‚¹æ˜¯æŒ‡é‚£äº›è¢«æ‹¦æˆªåˆ°çš„ç‚¹ã€‚åœ¨springä¸­,è¿™äº›ç‚¹æŒ‡çš„æ˜¯æ–¹æ³•,å› ä¸ºspringåªæ”¯æŒæ–¹æ³•ç±»å‹çš„è¿æ¥ç‚¹ã€‚ </li><li>Pointcut(åˆ‡å…¥ç‚¹): æ‰€è°“åˆ‡å…¥ç‚¹æ˜¯æŒ‡æˆ‘ä»¬è¦å¯¹å“ªäº›Joinpointè¿›è¡Œæ‹¦æˆªçš„å®šä¹‰ã€‚</li><li>Advice(é€šçŸ¥/å¢å¼º): <ul><li>æ‰€è°“é€šçŸ¥æ˜¯æŒ‡æ‹¦æˆªåˆ°Joinpointä¹‹åæ‰€è¦åšçš„äº‹æƒ…å°±æ˜¯é€šçŸ¥ã€‚ </li><li>é€šçŸ¥çš„ç±»å‹ï¼šå‰ç½®é€šçŸ¥(äº‹åŠ¡å¼€å§‹å‰),åç½®é€šçŸ¥ï¼ˆäº‹åŠ¡å¼€å§‹åï¼‰,å¼‚å¸¸é€šçŸ¥ï¼ˆå‘ç”Ÿå¼‚å¸¸æ—¶ï¼‰,æœ€ç»ˆé€šçŸ¥ï¼ˆåœ¨finallyé‡Œé¢çš„ï¼‰,ç¯ç»•é€šçŸ¥ï¼ˆæ•´ä¸ªinvokeæ–¹æ³•ï¼‰ã€‚</li><li><img src="http://image.zhangzef.com/20200214184245.jpg" alt="img" style="zoom: 80%;"></li></ul></li><li>Introduction(å¼•ä»‹): å¼•ä»‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„é€šçŸ¥åœ¨ä¸ä¿®æ”¹ç±»ä»£ç çš„å‰æä¸‹, Introductionå¯ä»¥åœ¨è¿è¡ŒæœŸä¸ºç±»åŠ¨æ€åœ°æ·»åŠ ä¸€äº›æ–¹æ³•æˆ–Fieldã€‚</li><li>Target(ç›®æ ‡å¯¹è±¡): ä»£ç†çš„ç›®æ ‡å¯¹è±¡ã€‚</li><li>Weaving(ç»‡å…¥): æ˜¯æŒ‡æŠŠå¢å¼ºåº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡æ¥åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚ springé‡‡ç”¨åŠ¨æ€ä»£ç†ç»‡å…¥ï¼Œè€ŒAspectJé‡‡ç”¨ç¼–è¯‘æœŸç»‡å…¥å’Œç±»è£…è½½æœŸç»‡å…¥ã€‚</li><li>Proxyï¼ˆä»£ç†ï¼‰: ä¸€ä¸ªç±»è¢«AOPç»‡å…¥å¢å¼ºåï¼Œå°±äº§ç”Ÿä¸€ä¸ªç»“æœä»£ç†ç±»ã€‚</li><li>Aspect(åˆ‡é¢): æ˜¯åˆ‡å…¥ç‚¹å’Œé€šçŸ¥ï¼ˆå¼•ä»‹ï¼‰çš„ç»“åˆã€‚</li></ul><h4 id="å­¦ä¹ springä¸­çš„AOPè¦æ˜ç¡®çš„äº‹"><a href="#å­¦ä¹ springä¸­çš„AOPè¦æ˜ç¡®çš„äº‹" class="headerlink" title="å­¦ä¹ springä¸­çš„AOPè¦æ˜ç¡®çš„äº‹"></a>å­¦ä¹ springä¸­çš„AOPè¦æ˜ç¡®çš„äº‹</h4><ul><li>å¼€å‘é˜¶æ®µï¼ˆæˆ‘ä»¬åšçš„ï¼‰ <ul><li>ç¼–å†™æ ¸å¿ƒä¸šåŠ¡ä»£ç ï¼ˆå¼€å‘ä¸»çº¿ï¼‰ï¼šå¤§éƒ¨åˆ†ç¨‹åºå‘˜æ¥åšï¼Œè¦æ±‚ç†Ÿæ‚‰ä¸šåŠ¡éœ€æ±‚ã€‚ </li><li>æŠŠå…¬ç”¨ä»£ç æŠ½å–å‡ºæ¥ï¼Œåˆ¶ä½œæˆé€šçŸ¥ã€‚ï¼ˆå¼€å‘é˜¶æ®µæœ€åå†åšï¼‰ï¼šAOPç¼–ç¨‹äººå‘˜æ¥åšã€‚ </li><li>åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå£°æ˜åˆ‡å…¥ç‚¹ä¸é€šçŸ¥é—´çš„å…³ç³»ï¼Œå³åˆ‡é¢ã€‚ï¼šAOPç¼–ç¨‹äººå‘˜æ¥åšã€‚</li></ul></li><li>è¿è¡Œé˜¶æ®µï¼ˆSpringæ¡†æ¶å®Œæˆçš„ï¼‰ï¼š Springæ¡†æ¶ç›‘æ§åˆ‡å…¥ç‚¹æ–¹æ³•çš„æ‰§è¡Œã€‚ä¸€æ—¦ç›‘æ§åˆ°åˆ‡å…¥ç‚¹æ–¹æ³•è¢«è¿è¡Œï¼Œä½¿ç”¨ä»£ç†æœºåˆ¶ï¼ŒåŠ¨æ€åˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œæ ¹æ®é€šçŸ¥ç±»åˆ«ï¼Œåœ¨ä»£ç†å¯¹è±¡çš„å¯¹åº”ä½ç½®ï¼Œå°†é€šçŸ¥å¯¹åº”çš„åŠŸèƒ½ç»‡å…¥ï¼Œå®Œæˆå®Œæ•´çš„ä»£ç é€»è¾‘è¿è¡Œã€‚</li></ul><h3 id="åŸºäºXMLçš„AOPé…ç½®"><a href="#åŸºäºXMLçš„AOPé…ç½®" class="headerlink" title="åŸºäºXMLçš„AOPé…ç½®"></a>åŸºäºXMLçš„AOPé…ç½®</h3><p>åœ¨å­¦ä¹ åŸºäºXMLçš„AOPé…ç½®ä¹‹å‰å…ˆæ¥çœ‹çœ‹æˆ‘ä»¬çš„æ¥å£åŠå…¶å®ç°ç±»å’Œå…¬å…±ä»£ç éƒ¨åˆ†ï¼š</p><h4 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IUserManager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addUser</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">updateUser</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®ç°ç±»"><a href="#å®ç°ç±»" class="headerlink" title="å®ç°ç±»"></a>å®ç°ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserManager</span> <span class="keyword">implements</span> <span class="title">IUserManager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ·»åŠ äº†è´¦æˆ·"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åˆ é™¤äº†è´¦æˆ·"</span> + i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">updateUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ›´æ–°äº†è´¦æˆ·"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…¬å…±ä»£ç "><a href="#å…¬å…±ä»£ç " class="headerlink" title="å…¬å…±ä»£ç "></a>å…¬å…±ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">beforePringLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å‰ç½®é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">afterReturningPrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åç½®é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">afterThrowingPringLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å¼‚å¸¸é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">afterPringLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æœ€ç»ˆé€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç¯ç»•é€šçŸ¥</span></span><br><span class="line"><span class="comment">     * é—®é¢˜ï¼š</span></span><br><span class="line"><span class="comment">     *      å½“æˆ‘ä»¬é…ç½®äº†ç¯ç»•é€šçŸ¥ä¹‹åï¼Œåˆ‡å…¥ç‚¹æ–¹æ³•æ²¡æœ‰æ‰§è¡Œï¼Œè€Œé€šçŸ¥æ–¹æ³•æ‰§è¡Œäº†ã€‚</span></span><br><span class="line"><span class="comment">     * åˆ†æï¼š</span></span><br><span class="line"><span class="comment">     *      é€šè¿‡å¯¹æ¯”åŠ¨æ€ä»£ç†ä¸­çš„ç¯ç»•é€šçŸ¥ä»£ç ï¼Œ</span></span><br><span class="line"><span class="comment">     *      å‘ç°åŠ¨æ€ä»£ç†çš„ç¯ç»•é€šçŸ¥æœ‰æ˜ç¡®çš„åˆ‡å…¥ç‚¹æ–¹æ³•è°ƒç”¨ï¼Œè€Œæˆ‘ä»¬çš„ä»£ç ä¸­æ²¡æœ‰ã€‚</span></span><br><span class="line"><span class="comment">     * è§£å†³ï¼š</span></span><br><span class="line"><span class="comment">     *      Springæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ¥å£ï¼šProceedingJoinPointã€‚</span></span><br><span class="line"><span class="comment">     *      è¯¥æ¥å£æœ‰ä¸€ä¸ªæ–¹æ³•proceed()ï¼Œæ­¤æ–¹æ³•å°±ç›¸å½“äºæ˜ç¡®è°ƒç”¨åˆ‡å…¥ç‚¹æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">     *      è¯¥æ¥å£å¯ä»¥ä½œä¸ºç¯ç»•é€šçŸ¥çš„æ–¹æ³•å‚æ•°ï¼Œåœ¨ç¨‹åºæ‰§è¡Œæ—¶ï¼Œ</span></span><br><span class="line"><span class="comment">     *      springæ¡†æ¶ä¼šä¸ºæˆ‘ä»¬æä¾›è¯¥æ¥å£çš„å®ç°ç±»ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚</span></span><br><span class="line"><span class="comment">     * springä¸­çš„ç¯ç»•é€šçŸ¥ï¼š</span></span><br><span class="line"><span class="comment">     *      å®ƒæ˜¯springæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›çš„ä¸€ç§å¯ä»¥åœ¨ä»£ç ä¸­æ‰‹åŠ¨æ§åˆ¶å¢å¼ºæ–¹æ³•ä½•æ—¶æ‰§è¡Œçš„æ–¹å¼ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">Object <span class="title">aroundPrintLog</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span></span>&#123;</span><br><span class="line">        Object rtValue = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.beforePringLog();</span><br><span class="line">            Object args[] = proceedingJoinPoint.getArgs();<span class="comment">//å¾—åˆ°æ–¹æ³•æ‰§è¡Œæ‰€éœ€çš„å‚æ•°</span></span><br><span class="line">            rtValue = proceedingJoinPoint.proceed(args);<span class="comment">//æ˜ç¡®è°ƒç”¨ä¸šåŠ¡å±‚æ–¹æ³•ï¼ˆåˆ‡å…¥ç‚¹æ–¹æ³•ï¼‰</span></span><br><span class="line">            <span class="keyword">this</span>.afterReturningPrintLog();</span><br><span class="line">            <span class="keyword">return</span> rtValue;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Throwable a)&#123;</span><br><span class="line">            <span class="keyword">this</span>.afterThrowingPringLog();</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(a);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.afterPringLog();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="XMLæ–‡ä»¶é…ç½®"><a href="#XMLæ–‡ä»¶é…ç½®" class="headerlink" title="XMLæ–‡ä»¶é…ç½®"></a>XMLæ–‡ä»¶é…ç½®</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¸Šé¢è¿™éƒ¨åˆ†åœ¨springçš„æŸä¸ªé¡µé¢ä¸­å¤åˆ¶çš„--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®UserManagerç±»--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"UserManager"</span> <span class="attr">class</span>=<span class="string">"UserManager"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--springä¸­åŸºäºXMLçš„AOPé…ç½®æ­¥éª¤ï¼ˆæ­¤å¤„ç›´æ¥å¼•ç”¨é»‘é©¬æ•™ç¨‹ä¸­çš„æ³¨é‡Šï¼Œè‡ªå·±å†™çš„ä¾‹å­æ²¡å†™ä»€ä¹ˆåŒ…ï¼‰</span></span><br><span class="line"><span class="comment">        1ã€æŠŠé€šçŸ¥Beanä¹Ÿäº¤ç»™springæ¥ç®¡ç†</span></span><br><span class="line"><span class="comment">        2ã€ä½¿ç”¨aop:configæ ‡ç­¾è¡¨æ˜å¼€å§‹AOPçš„é…ç½®</span></span><br><span class="line"><span class="comment">        3ã€ä½¿ç”¨aop:aspectæ ‡ç­¾è¡¨æ˜é…ç½®åˆ‡é¢</span></span><br><span class="line"><span class="comment">                idå±æ€§ï¼šæ˜¯ç»™åˆ‡é¢æä¾›ä¸€ä¸ªå”¯ä¸€æ ‡è¯†</span></span><br><span class="line"><span class="comment">                refå±æ€§ï¼šæ˜¯æŒ‡å®šé€šçŸ¥ç±»beançš„Idã€‚</span></span><br><span class="line"><span class="comment">        4ã€åœ¨aop:aspectæ ‡ç­¾çš„å†…éƒ¨ä½¿ç”¨å¯¹åº”æ ‡ç­¾æ¥é…ç½®é€šçŸ¥çš„ç±»å‹</span></span><br><span class="line"><span class="comment">               æˆ‘ä»¬ç°åœ¨ç¤ºä¾‹æ˜¯è®©printLogæ–¹æ³•åœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œä¹‹å‰ä¹‹å‰ï¼šæ‰€ä»¥æ˜¯å‰ç½®é€šçŸ¥</span></span><br><span class="line"><span class="comment">               aop:beforeï¼šè¡¨ç¤ºé…ç½®å‰ç½®é€šçŸ¥</span></span><br><span class="line"><span class="comment">                    methodå±æ€§ï¼šç”¨äºæŒ‡å®šLoggerç±»ä¸­å“ªä¸ªæ–¹æ³•æ˜¯å‰ç½®é€šçŸ¥</span></span><br><span class="line"><span class="comment">                    pointcutå±æ€§ï¼šç”¨äºæŒ‡å®šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼çš„å«ä¹‰æŒ‡çš„æ˜¯å¯¹ä¸šåŠ¡å±‚ä¸­å“ªäº›æ–¹æ³•å¢å¼º</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„å†™æ³•ï¼š</span></span><br><span class="line"><span class="comment">                å…³é”®å­—ï¼šexecution(è¡¨è¾¾å¼)</span></span><br><span class="line"><span class="comment">                è¡¨è¾¾å¼ï¼š</span></span><br><span class="line"><span class="comment">                    è®¿é—®ä¿®é¥°ç¬¦  è¿”å›å€¼  åŒ…å.åŒ…å.åŒ…å...ç±»å.æ–¹æ³•å(å‚æ•°åˆ—è¡¨)</span></span><br><span class="line"><span class="comment">                æ ‡å‡†çš„è¡¨è¾¾å¼å†™æ³•ï¼š</span></span><br><span class="line"><span class="comment">                    public void com.itheima.service.impl.AccountServiceImpl.saveAccount()</span></span><br><span class="line"><span class="comment">                è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥çœç•¥</span></span><br><span class="line"><span class="comment">                    void com.itheima.service.impl.AccountServiceImpl.saveAccount()</span></span><br><span class="line"><span class="comment">                è¿”å›å€¼å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œè¡¨ç¤ºä»»æ„è¿”å›å€¼</span></span><br><span class="line"><span class="comment">                    * com.itheima.service.impl.AccountServiceImpl.saveAccount()</span></span><br><span class="line"><span class="comment">                åŒ…åå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œè¡¨ç¤ºä»»æ„åŒ…ã€‚ä½†æ˜¯æœ‰å‡ çº§åŒ…ï¼Œå°±éœ€è¦å†™å‡ ä¸ª*.</span></span><br><span class="line"><span class="comment">                    * *.*.*.*.AccountServiceImpl.saveAccount())</span></span><br><span class="line"><span class="comment">                åŒ…åå¯ä»¥ä½¿ç”¨..è¡¨ç¤ºå½“å‰åŒ…åŠå…¶å­åŒ…</span></span><br><span class="line"><span class="comment">                    * *..AccountServiceImpl.saveAccount()</span></span><br><span class="line"><span class="comment">                ç±»åå’Œæ–¹æ³•åéƒ½å¯ä»¥ä½¿ç”¨*æ¥å®ç°é€šé…</span></span><br><span class="line"><span class="comment">                    * *..*.*()</span></span><br><span class="line"><span class="comment">                å‚æ•°åˆ—è¡¨ï¼š</span></span><br><span class="line"><span class="comment">                    å¯ä»¥ç›´æ¥å†™æ•°æ®ç±»å‹ï¼š</span></span><br><span class="line"><span class="comment">                        åŸºæœ¬ç±»å‹ç›´æ¥å†™åç§°           int</span></span><br><span class="line"><span class="comment">                        å¼•ç”¨ç±»å‹å†™åŒ…å.ç±»åçš„æ–¹å¼   java.lang.String</span></span><br><span class="line"><span class="comment">                    å¯ä»¥ä½¿ç”¨é€šé…ç¬¦è¡¨ç¤ºä»»æ„ç±»å‹ï¼Œä½†æ˜¯å¿…é¡»æœ‰å‚æ•°</span></span><br><span class="line"><span class="comment">                    å¯ä»¥ä½¿ç”¨..è¡¨ç¤ºæœ‰æ— å‚æ•°å‡å¯ï¼Œæœ‰å‚æ•°å¯ä»¥æ˜¯ä»»æ„ç±»å‹</span></span><br><span class="line"><span class="comment">                å…¨é€šé…å†™æ³•ï¼š</span></span><br><span class="line"><span class="comment">                    * *..*.*(..)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                å®é™…å¼€å‘ä¸­åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„é€šå¸¸å†™æ³•ï¼š</span></span><br><span class="line"><span class="comment">                    åˆ‡åˆ°ä¸šåŠ¡å±‚å®ç°ç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³•</span></span><br><span class="line"><span class="comment">                        * com.itheima.service.impl.*.*(..)</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®Loggerç±»--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"Logger"</span> <span class="attr">class</span>=<span class="string">"Logger"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®AOP--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é…ç½®åˆ‡é¢ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">id</span>=<span class="string">"logAdvice"</span> <span class="attr">ref</span>=<span class="string">"Logger"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- é…ç½®é€šçŸ¥çš„ç±»å‹ï¼Œå¹¶ä¸”å»ºç«‹é€šçŸ¥æ–¹æ³•å’Œåˆ‡å…¥ç‚¹æ–¹æ³•çš„å…³è”--&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- é…ç½®å‰ç½®é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œ--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">"pringLog"</span> </span></span><br><span class="line"><span class="tag">                        <span class="attr">pointcut</span>=<span class="string">"execution(* *..*.*(..))"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:before</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- é…ç½®åç½®é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œä¹‹åå€¼ã€‚å®ƒå’Œå¼‚å¸¸é€šçŸ¥æ°¸è¿œåªèƒ½æ‰§è¡Œä¸€ä¸ª--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">"afterReturningPrintLog"</span> </span></span><br><span class="line"><span class="tag">                                 <span class="attr">pointcut</span>=<span class="string">"execution(* *..*.*(..))"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after-returning</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- é…ç½®å¼‚å¸¸é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œäº§ç”Ÿå¼‚å¸¸ä¹‹åæ‰§è¡Œã€‚å®ƒå’Œåç½®é€šçŸ¥æ°¸è¿œåªèƒ½æ‰§è¡Œä¸€ä¸ª--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">"afterThrowingPringLog"</span> </span></span><br><span class="line"><span class="tag">                                <span class="attr">pointcut</span>=<span class="string">"execution(* *..*.*(..))"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after-throwing</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- é…ç½®æœ€ç»ˆé€šçŸ¥ï¼šæ— è®ºåˆ‡å…¥ç‚¹æ–¹æ³•æ˜¯å¦æ­£å¸¸æ‰§è¡Œå®ƒéƒ½ä¼šåœ¨å…¶åé¢æ‰§è¡Œ--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">"afterPringLog"</span> </span></span><br><span class="line"><span class="tag">                       <span class="attr">pointcut</span>=<span class="string">"execution(* *..*.*(..))"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="é€šç”¨åŒ–åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"><a href="#é€šç”¨åŒ–åˆ‡å…¥ç‚¹è¡¨è¾¾å¼" class="headerlink" title="é€šç”¨åŒ–åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"></a>é€šç”¨åŒ–åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®åˆ‡é¢ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">id</span>=<span class="string">"logAdvice"</span> <span class="attr">ref</span>=<span class="string">"Logger"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ idå±æ€§ç”¨äºæŒ‡å®šè¡¨è¾¾å¼çš„å”¯ä¸€æ ‡è¯†ã€‚expressionå±æ€§ç”¨äºæŒ‡å®šè¡¨è¾¾å¼å†…å®¹</span></span><br><span class="line"><span class="comment">              æ­¤æ ‡ç­¾å†™åœ¨aop:aspectæ ‡ç­¾å†…éƒ¨åªèƒ½å½“å‰åˆ‡é¢ä½¿ç”¨ã€‚</span></span><br><span class="line"><span class="comment">              å®ƒè¿˜å¯ä»¥å†™åœ¨aop:aspectå¤–é¢ï¼Œæ­¤æ—¶å°±å˜æˆäº†æ‰€æœ‰åˆ‡é¢å¯ç”¨</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"pt"</span> <span class="attr">expression</span>=<span class="string">"execution(* *..*.*(..))"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®é€šçŸ¥çš„ç±»å‹ï¼Œå¹¶ä¸”å»ºç«‹é€šçŸ¥æ–¹æ³•å’Œåˆ‡å…¥ç‚¹æ–¹æ³•çš„å…³è”--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">"beforePringLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:before</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®åç½®é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œä¹‹åå€¼ã€‚å®ƒå’Œå¼‚å¸¸é€šçŸ¥æ°¸è¿œåªèƒ½æ‰§è¡Œä¸€ä¸ª--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">"afterReturningPrintLog"</span> </span></span><br><span class="line"><span class="tag">                             <span class="attr">pointcut-ref</span>=<span class="string">"pt"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after-returning</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®å¼‚å¸¸é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œäº§ç”Ÿå¼‚å¸¸ä¹‹åæ‰§è¡Œã€‚å®ƒå’Œåç½®é€šçŸ¥æ°¸è¿œåªèƒ½æ‰§è¡Œä¸€ä¸ª--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">"afterThrowingPringLog"</span> </span></span><br><span class="line"><span class="tag">                            <span class="attr">pointcut-ref</span>=<span class="string">"pt"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after-throwing</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®æœ€ç»ˆé€šçŸ¥ï¼šæ— è®ºåˆ‡å…¥ç‚¹æ–¹æ³•æ˜¯å¦æ­£å¸¸æ‰§è¡Œå®ƒéƒ½ä¼šåœ¨å…¶åé¢æ‰§è¡Œ--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">"afterPringLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="ç¯ç»•é€šçŸ¥é…ç½®"><a href="#ç¯ç»•é€šçŸ¥é…ç½®" class="headerlink" title="ç¯ç»•é€šçŸ¥é…ç½®"></a>ç¯ç»•é€šçŸ¥é…ç½®</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®åˆ‡é¢ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">id</span>=<span class="string">"logAdvice"</span> <span class="attr">ref</span>=<span class="string">"Logger"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ idå±æ€§ç”¨äºæŒ‡å®šè¡¨è¾¾å¼çš„å”¯ä¸€æ ‡è¯†ã€‚expressionå±æ€§ç”¨äºæŒ‡å®šè¡¨è¾¾å¼å†…å®¹</span></span><br><span class="line"><span class="comment">              æ­¤æ ‡ç­¾å†™åœ¨aop:aspectæ ‡ç­¾å†…éƒ¨åªèƒ½å½“å‰åˆ‡é¢ä½¿ç”¨ã€‚</span></span><br><span class="line"><span class="comment">              å®ƒè¿˜å¯ä»¥å†™åœ¨aop:aspectå¤–é¢ï¼Œæ­¤æ—¶å°±å˜æˆäº†æ‰€æœ‰åˆ‡é¢å¯ç”¨</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"pt"</span> <span class="attr">expression</span>=<span class="string">"execution(* *..*.*(..))"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®ç¯ç»•é€šçŸ¥ è¯¦ç»†çš„æ³¨é‡Šè¯·çœ‹Loggerç±»ä¸­ é…ç½®ç¯ç»•é€šçŸ¥åæ— éœ€å†é…ç½®å…¶ä»–é€šçŸ¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">"aroundPrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt"</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:around</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        IUserManager userManager = (IUserManager) ac.getBean(<span class="string">"UserManager"</span>);<span class="comment">//æ³¨æ„è¿™é‡Œè¦å®šä¹‰æ¥å£ç±»å‹</span></span><br><span class="line">        userManager.addUser();</span><br><span class="line">        userManager.deleteUser(<span class="number">1</span>);</span><br><span class="line">        System.out.println(userManager.updateUser());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŸºäºæ³¨è§£çš„AOPé…ç½®"><a href="#åŸºäºæ³¨è§£çš„AOPé…ç½®" class="headerlink" title="åŸºäºæ³¨è§£çš„AOPé…ç½®"></a>åŸºäºæ³¨è§£çš„AOPé…ç½®</h3><ol><li>é…ç½®springå®¹å™¨ä¸­è¦æ‰«æçš„åŒ…</li><li>åœ¨ä¸šåŠ¡å±‚ç±»æ·»åŠ æ³¨è§£@Service</li><li>åœ¨é€šçŸ¥ç±»æ·»åŠ æ³¨è§£@Componentå¹¶æ·»åŠ @Aspectæ³¨è§£ï¼ˆè¡¨ç¤ºå½“å‰æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»ï¼‰</li><li>å¼€å¯Springå¯¹æ³¨è§£AOPçš„æ”¯æŒï¼ˆè§xmlæ–‡ä»¶ï¼‰</li><li>é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼ˆè§é€šçŸ¥ç±»ä»£ç ï¼‰</li><li>åœ¨å„ä¸ªé€šçŸ¥æ–¹æ³•ä¸Šåˆ†åˆ«æ·»åŠ æ³¨è§£ï¼ˆè§é€šçŸ¥ç±»ä»£ç ï¼‰ï¼ˆå»ºè®®<strong>åªå¯¹ç¯ç»•é€šçŸ¥æ·»åŠ æ³¨è§£ï¼Œå…¶ä»–é€šçŸ¥ä¸æ·»åŠ æ³¨è§£</strong>ï¼Œä½†æ˜¯ç»™å‡ºçš„ä»£ç ä¸­æ‰€æœ‰é€šçŸ¥éƒ½åŠ ä¸Šäº†æ³¨è§£ï¼‰</li></ol><h4 id="å®ç°ç±»-1"><a href="#å®ç°ç±»-1" class="headerlink" title="å®ç°ç±»"></a>å®ç°ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(<span class="string">"UserManager"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserManager</span> <span class="keyword">implements</span> <span class="title">IUserManager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ·»åŠ äº†è´¦æˆ·"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åˆ é™¤äº†è´¦æˆ·"</span> + i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">updateUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ›´æ–°äº†è´¦æˆ·"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é€šçŸ¥ç±»"><a href="#é€šçŸ¥ç±»" class="headerlink" title="é€šçŸ¥ç±»"></a>é€šçŸ¥ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(<span class="string">"Logger"</span>)</span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Pointcut</span>(<span class="string">"execution(* *..*.*(..))"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pt</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//@Before("pt()")</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">beforePringLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å‰ç½®é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//@AfterReturning("pt()")</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">afterReturningPrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åç½®é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//@AfterThrowing("pt()")</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">afterThrowingPringLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å¼‚å¸¸é€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//@After("pt()")</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">afterPringLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æœ€ç»ˆé€šçŸ¥å¼€å§‹è®°å½•äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Around</span>(<span class="string">"pt()"</span>)</span><br><span class="line">    <span class="function">Object <span class="title">aroundPrintLog</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span></span>&#123;</span><br><span class="line">        Object rtValue = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.beforePringLog();</span><br><span class="line">            Object args[] = proceedingJoinPoint.getArgs();</span><br><span class="line">            rtValue = proceedingJoinPoint.proceed(args);</span><br><span class="line">            <span class="keyword">this</span>.afterReturningPrintLog();</span><br><span class="line">            <span class="keyword">return</span> rtValue;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Throwable a)&#123;</span><br><span class="line">            <span class="keyword">this</span>.afterThrowingPringLog();</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(a);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.afterPringLog();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>XMLæ–‡ä»¶é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®springåˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.cla"</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®springå¼€å¯æ³¨è§£AOPçš„æ”¯æŒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¸ä½¿ç”¨XMLæ–‡ä»¶é…ç½®"><a href="#ä¸ä½¿ç”¨XMLæ–‡ä»¶é…ç½®" class="headerlink" title="ä¸ä½¿ç”¨XMLæ–‡ä»¶é…ç½®"></a>ä¸ä½¿ç”¨XMLæ–‡ä»¶é…ç½®</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> </span><br><span class="line"><span class="meta">@ComponentScan</span>(basePackages=<span class="string">"com.cla"</span>) </span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfiguration</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¯·çœ‹ä¸‹ä¸€ç¯‡ã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;AOPæ¦‚è¿°&quot;&gt;&lt;a href=&quot;#AOPæ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;AOPæ¦‚è¿°&quot;&gt;&lt;/a&gt;AOPæ¦‚è¿°&lt;/h2&gt;&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯AOP&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯AOP&quot; class=&quot;headerlink&quot; title=&quot;ä»€
      
    
    </summary>
    
      <category term="JavaWeb" scheme="zhangzef.com/categories/JavaWeb/"/>
    
    
      <category term="Spring" scheme="zhangzef.com/tags/Spring/"/>
    
      <category term="æ¡†æ¶" scheme="zhangzef.com/tags/%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>C#æ‚è®°</title>
    <link href="zhangzef.com/2019/10/16/C%20Sharp%E6%9D%82%E8%AE%B0/"/>
    <id>zhangzef.com/2019/10/16/C Sharpæ‚è®°/</id>
    <published>2019-10-16T15:47:08.000Z</published>
    <updated>2020-02-14T10:54:25.928Z</updated>
    
    <content type="html"><![CDATA[<p>å†™ä¸€äº›åœ¨å­¦C#æ—¶ä¸ä¼šçš„ä¸€äº›ç”¨æ³•ï¼Œåœ¨ç™¾åº¦ä¸Šæœå‡ºæ¥çš„ç­”æ¡ˆè¦ä¸æ²¡æ­£ç¡®çš„ï¼Œè¦ä¸æ˜¯å°±æ˜¯çxxè¯´ï¼Œè¦ä¸å°±æ˜¯è¯´çš„ä¸æ¸…ä¸æ¥šçš„ã€‚</p><h2 id="Wpf"><a href="#Wpf" class="headerlink" title="Wpf"></a>Wpf</h2><h3 id="label"><a href="#label" class="headerlink" title="label"></a>label</h3><h4 id="labelæ ‡ç­¾çš„å†…å®¹å±…ä¸­æ˜¾ç¤º"><a href="#labelæ ‡ç­¾çš„å†…å®¹å±…ä¸­æ˜¾ç¤º" class="headerlink" title="labelæ ‡ç­¾çš„å†…å®¹å±…ä¸­æ˜¾ç¤º"></a>labelæ ‡ç­¾çš„å†…å®¹å±…ä¸­æ˜¾ç¤º</h4><p>æ³¨æ„ï¼Œæ˜¯å†…å®¹ã€å†…å®¹ã€å†…å®¹ã€‚ã€‚ã€‚å¦‚å›¾ï¼š<img src="http://image.zhangzef.com/20200214182212.png" alt="img" style="zoom:33%;"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Label Name=&quot;alb&quot; Content=&quot;20&quot; FontSize=&quot;60&quot; Margin=&quot;10,10,-2.333,-12.333&quot; Height=&quot;163&quot; HorizontalContentAlignment=&quot;Center&quot; VerticalContentAlignment=&quot;Center&quot;/&gt;</span><br></pre></td></tr></table></figure><p>æ˜¯HorizontalContentAlignmentå’ŒVerticalContentAlignmentä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯æ°´å¹³å±…ä¸­ï¼Œä¸€ä¸ªæ˜¯å‚ç›´å±…ä¸­ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å…¶ä»–å¯¹é½æ–¹å¼ã€‚</p><h3 id="MessageBox"><a href="#MessageBox" class="headerlink" title="MessageBox"></a>MessageBox</h3><p>MessageBox.Show(&lt;å­—ç¬¦ä¸²&gt; Text, &lt;å­—ç¬¦ä¸²&gt; Title, &lt;æ•´å‹&gt; nTypeï¼ŒMessageBoxIcon);</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ String ç±»å‹ï¼Œè¡¨ç¤ºæç¤ºæ¡†é‡Œé¢çš„ <strong>å†…å®¹</strong>ï¼›</li><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯String ç±»å‹ï¼Œè¡¨ç¤ºæç¤ºæ¡†çš„ <strong>æ ‡é¢˜</strong>ï¼›</li><li>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ•´æ•°ç±»å‹ï¼Œè¡¨ç¤ºæ¶ˆæ¯æ¡†çš„  <strong>ç±»å‹</strong>  ï¼Œä¸€èˆ¬çš„éƒ½ä½¿ç”¨ç³»ç»Ÿæä¾›çš„å‡ ç§ç±»å‹ï¼›</li><li>ç¬¬å››ä¸ªå‚æ•°æ˜¯æç¤ºæ¡†çš„ <strong>å›¾æ ‡</strong>ï¼Œæ¯”å¦‚è¯´è­¦å‘Šã€æç¤ºã€é—®é¢˜ç­‰ç­‰ã€‚</li></ul><h2 id="File"><a href="#File" class="headerlink" title="File"></a>File</h2><p>åˆ¤æ–­æ–‡ä»¶/æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ï¼ˆå‚æ•°ä¸ºå­—ç¬¦ä¸²ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File.Exists(path);//æ–‡ä»¶</span><br><span class="line">Directory.Exists(path);//æ–‡ä»¶å¤¹</span><br></pre></td></tr></table></figure><p>æµè§ˆæ–‡ä»¶çš„çª—ä½“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">OpenFileDialog dialog = new OpenFileDialog();</span><br><span class="line">dialog.ShowDialog();//</span><br></pre></td></tr></table></figure><p>è¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªboolç±»å‹ï¼Œå½“æˆåŠŸæµè§ˆæ—¶è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><h2 id="æ•°å­—"><a href="#æ•°å­—" class="headerlink" title="æ•°å­—"></a>æ•°å­—</h2><h3 id="ä¿ç•™nä½å°æ•°"><a href="#ä¿ç•™nä½å°æ•°" class="headerlink" title="ä¿ç•™nä½å°æ•°"></a>ä¿ç•™nä½å°æ•°</h3><p>è¿™é‡Œä»¥ä¸¤ä½å°æ•°ä¸ºä¾‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">double x;</span><br><span class="line">x.ToString(&quot;0.00&quot;);</span><br></pre></td></tr></table></figure><p>å¦‚ä»£ç æ‰€ç¤ºï¼Œæƒ³ä¿ç•™å‡ ä½å°±åœ¨å°æ•°ç‚¹åé¢æ”¾å‡ ä¸ª0ã€‚</p><p>æˆ–è€…è¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">double a = 10.9876544;</span><br><span class="line">int b;</span><br><span class="line">b = Convert.ToInt32(a * 100);</span><br><span class="line">a = Convert.ToDouble(b);</span><br><span class="line">a /= 100;</span><br></pre></td></tr></table></figure><p>å°±æ˜¯å…ˆå°†aä¹˜100åè½¬åŒ–ä¹˜æ•´å‹ï¼Œè¿™æ ·å®ƒçš„å°æ•°éƒ¨åˆ†å°±ä¸¢å¼ƒäº†ï¼Œä¹‹åå†è½¬åŒ–æˆdoubleï¼Œå†é™¤ä»¥100ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å†™ä¸€äº›åœ¨å­¦C#æ—¶ä¸ä¼šçš„ä¸€äº›ç”¨æ³•ï¼Œåœ¨ç™¾åº¦ä¸Šæœå‡ºæ¥çš„ç­”æ¡ˆè¦ä¸æ²¡æ­£ç¡®çš„ï¼Œè¦ä¸æ˜¯å°±æ˜¯çxxè¯´ï¼Œè¦ä¸å°±æ˜¯è¯´çš„ä¸æ¸…ä¸æ¥šçš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Wpf&quot;&gt;&lt;a href=&quot;#Wpf&quot; class=&quot;headerlink&quot; title=&quot;Wpf&quot;&gt;&lt;/a&gt;Wpf&lt;/h2&gt;&lt;h3 id
      
    
    </summary>
    
      <category term="C#" scheme="zhangzef.com/categories/C/"/>
    
    
      <category term="C#æ–¹æ³•" scheme="zhangzef.com/tags/C-%E6%96%B9%E6%B3%95/"/>
    
      <category term="Wpf" scheme="zhangzef.com/tags/Wpf/"/>
    
  </entry>
  
  <entry>
    <title>Gitæ•™ç¨‹</title>
    <link href="zhangzef.com/2019/10/15/Git%E6%95%99%E7%A8%8B/"/>
    <id>zhangzef.com/2019/10/15/Gitæ•™ç¨‹/</id>
    <published>2019-10-15T14:53:37.000Z</published>
    <updated>2020-02-14T10:54:39.795Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>  æœ¬æ•™ç¨‹å‚è€ƒ<a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener">å»–é›ªå³°çš„Gitæ•™ç¨‹</a></p></blockquote><p>Gitæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</p><h2 id="Gitå®‰è£…"><a href="#Gitå®‰è£…" class="headerlink" title="Gitå®‰è£…"></a>Gitå®‰è£…</h2><p>å®‰è£…è¿‡ç¨‹è¯·è‡ªè¡Œç™¾åº¦ğŸ‘€</p><p>å®‰è£…ä¹‹åè¦åœ¨å‘½ä»¤è¡Œä¸­è®¾ç½®è‡ªå·±çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼Œéœ€è¦åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;Your Name&quot;</span><br><span class="line">git config --global user.email &quot;email@example.com&quot;</span><br></pre></td></tr></table></figure><h2 id="ç‰ˆæœ¬åº“-repository"><a href="#ç‰ˆæœ¬åº“-repository" class="headerlink" title="ç‰ˆæœ¬åº“(repository)"></a>ç‰ˆæœ¬åº“(repository)</h2><p>ç‰ˆæœ¬åº“ï¼šä½ å¯ä»¥ç®€å•ç†è§£æˆä¸€ä¸ªç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥è¢«Gitç®¡ç†èµ·æ¥ï¼Œæ¯ä¸ªæ–‡ä»¶çš„ä¿®æ”¹ã€åˆ é™¤ï¼ŒGitéƒ½èƒ½è·Ÿè¸ªï¼Œä»¥ä¾¿ä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥è¿½è¸ªå†å²ï¼Œæˆ–è€…åœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å¯ä»¥â€œè¿˜åŸâ€ã€‚</p><p>åˆ›å»ºç‰ˆæœ¬åº“å¾ˆç®€å•ï¼Œå³ç”¨gitæ‰“å¼€ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œè¾“å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init//åˆå§‹åŒ–ä¸€ä¸ªä»“åº“</span><br></pre></td></tr></table></figure><p>è¦æƒ³å°†æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­ï¼Œéœ€è¦åˆ†ä¸¤æ­¥</p><p>ç¬¬ä¸€æ­¥å…ˆæŠŠæ–‡ä»¶æ”¾åˆ°ä»“åº“ç›®å½•æˆ–å­ç›®å½•ä¸­ï¼Œç„¶åè¾“å…¥å¦‚ä¸‹å‘½ä»¤(ä¾‹å¦‚æ–‡ä»¶åä¸ºï¼šreadme.txt)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add readme.txt//å°†readme.txtæ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥éœ€è¦ç”¨git commitæäº¤åˆ°ä»“åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;wrote a readme file&quot;//å°†ä¿®æ”¹æäº¤åˆ°ä»“åº“å¹¶è¯´æ˜</span><br></pre></td></tr></table></figure><p>å…¶ä¸­- m â€œxxxâ€æ˜¯å¯¹æœ¬æ¬¡æäº¤çš„è¯´æ˜ï¼Œç­‰åŒäºæ³¨é‡Šï¼Œæœ‰åŠ©äºåˆ«äººå¯¹ä½ æäº¤çš„ç†è§£ã€‚</p><h2 id="ç‰ˆæœ¬æ§åˆ¶"><a href="#ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶"></a>ç‰ˆæœ¬æ§åˆ¶</h2><p>æŸ¥çœ‹å½“å‰ä»“åº“çš„çŠ¶æ€(ä¾‹å¦‚ä»€ä¹ˆæ–‡ä»¶è¢«ä¿®æ”¹äº†)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p>è‹¥æƒ³æŸ¥çœ‹å“ªä¸ªæ–‡ä»¶å…·ä½“ä¿®æ”¹äº†ä»€ä¹ˆï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff readme.txt//æŸ¥çœ‹readme.txtæ–‡ä»¶å…·ä½“ä¿®æ”¹äº†ä»€ä¹ˆå†…å®¹</span><br></pre></td></tr></table></figure><h3 id="ç‰ˆæœ¬å›é€€"><a href="#ç‰ˆæœ¬å›é€€" class="headerlink" title="ç‰ˆæœ¬å›é€€"></a>ç‰ˆæœ¬å›é€€</h3><p>ç‰ˆæœ¬é€€å›æœ‰å¦‚ä¸‹å‡ ä¸ªå‘½ä»¤ç”¨äºæŸ¥çœ‹å†å²ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git log//1.</span><br><span class="line">git log --pretty=oneline//2.</span><br><span class="line">git reflog//3.</span><br></pre></td></tr></table></figure><ol><li>æŸ¥çœ‹è¯¦ç»†å†å²æäº¤è®°å½•(åŒ…æ‹¬commit_idã€ä½œè€…ã€æ—¥æœŸã€æäº¤æ³¨é‡Š)ï¼Œç¡®å®šè¦é€€å›å“ªä¸ªç‰ˆæœ¬ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½æœ‰ä¸€ä¸ªcommit_id</li><li>å¯ä»¥è®©æ¯ä¸ªç‰ˆæœ¬åªè¾“å‡ºä¸€è¡Œï¼Œç®€åŒ–è¾“å‡ºä¿¡æ¯(åªæ˜¾ç¤ºcommit_idå’Œæäº¤æ³¨é‡Š)</li><li>æŸ¥çœ‹å†å²å‘½ä»¤</li></ol><p>ç‰ˆæœ¬é€€å›å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^//1.</span><br></pre></td></tr></table></figure><ol><li>é€€å›åˆ°å½“å‰ç‰ˆæœ¬çš„ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œå¦‚æœæƒ³é€€å›ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯â€¦ HEAD^^ï¼Œå‰ä¸€ç™¾ä¸ªç‰ˆæœ¬å¯ä»¥ç”¨HEAD~100è¡¨ç¤ºã€‚â€“hardå‚æ•°æš‚ä¸è®²è§£ã€‚è¿™é‡Œçš„HEAD^ä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºæƒ³è¦é€€å›ç‰ˆæœ¬çš„commit_idï¼Œç”±äºcommit_idå¾ˆé•¿ï¼Œåªç”¨å†™å‰å‡ ä½èƒ½åŒºåˆ«äºåˆ«çš„ç‰ˆæœ¬å°±è¡Œã€‚</li></ol><blockquote><p>  ä¾‹ï¼š</p><p>  â€‹       1094adb7b9b3807259d8cb349e7df1d4d6477073 (HEAD -&gt; master) append GPL</p><p>  â€‹       e475afc93c209a690c39c13a46716e8fa000c366 add distributed</p><p>  â€‹       eaadf4e385e865d25c48e7ca9c8395c3f7dfaef0 wrote a readme file</p><p>  è¿™æ˜¯æˆ‘å½“å‰æœ‰çš„ç‰ˆæœ¬ï¼Œæˆ‘æƒ³å›åˆ°add distributedç‰ˆæœ¬ï¼Œæˆ‘å¯ä»¥å†commit_idå¤„å¡«å†™â€HEAD^â€æˆ–è€…â€e4751fcâ€</p></blockquote><p>å¸¦æœ‰(HEAD -&gt; master)çš„å³ä¸ºå½“å‰ç‰ˆæœ¬</p><p>å½“é€€å›æŸä¸€ä¸ªç‰ˆæœ¬ä¹‹åå†ç”¨git logå°±ä¸èƒ½çœ‹åˆ°åŸæ¥ç‰ˆæœ¬çš„commit_idäº†ï¼Œæ­¤æ—¶å¯ä»¥ç”¨git reflogæ¥æŸ¥çœ‹å†å²å‘½ä»¤ï¼Œæ‰¾åˆ°commit_id</p><h3 id="å·¥ä½œåŒºå’Œæš‚å­˜åŒº"><a href="#å·¥ä½œåŒºå’Œæš‚å­˜åŒº" class="headerlink" title="å·¥ä½œåŒºå’Œæš‚å­˜åŒº"></a>å·¥ä½œåŒºå’Œæš‚å­˜åŒº</h3><p>å·¥ä½œåŒºå°±æ˜¯æˆ‘ä»¬åˆ›å»ºçš„ä»“åº“æ–‡ä»¶å¤¹ã€‚å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—æ–‡ä»¶å¤¹æ˜¯.gitï¼Œè¿™é‡Œæ˜¯ç‰ˆæœ¬åº“ã€‚ç‰ˆæœ¬åº“é‡Œé¢æœ‰ä¸€ä¸ª<strong>stage</strong>ï¼ˆæˆ–indexï¼‰å«æš‚å­˜åŒºï¼Œè¿˜æœ‰ä¸€ä¸ªgitè‡ªåŠ¨åˆ›å»ºçš„<strong>master</strong>åˆ†æ”¯ï¼Œä»¥åŠæŒ‡å‘masteråˆ†æ”¯çš„æŒ‡é’ˆ<strong>HEAD</strong> ã€‚</p><p>å½“æˆ‘ä»¬git addæ—¶æ˜¯æŠŠæ–‡ä»¶æäº¤åˆ°stageä¸­ï¼Œgit commitæ—¶æ˜¯æŠŠstageä¸­çš„æ‰€æœ‰ä¿®æ”¹ä¸€æ¬¡æ€§æäº¤åˆ°åˆ†æ”¯ä¸­</p><p><img src="http://image.zhangzef.com/20200214182724.png" alt="img" style="zoom: 50%;"></p><p>å½“ä½ commitè¿‡ä¹‹åï¼Œæ²¡æœ‰å¯¹å·¥ä½œåŒºçš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆç‰ˆæœ¬åº“å°±å˜æˆè¿™æ ·ï¼š</p><p><img src="http://image.zhangzef.com/20200214182725.png" alt="img" style="zoom:50%;"></p><h3 id="ç®¡ç†ä¿®æ”¹"><a href="#ç®¡ç†ä¿®æ”¹" class="headerlink" title="ç®¡ç†ä¿®æ”¹"></a>ç®¡ç†ä¿®æ”¹</h3><p>Gitç®¡ç†çš„æ˜¯ä¿®æ”¹è€Œéæ–‡ä»¶</p><p>å½“ä½ å¯¹æ–‡ä»¶readme.txtè¿›è¡Œå¦‚ä¸‹æ“ä½œæ—¶ï¼šç¬¬ä¸€æ¬¡ä¿®æ”¹readme.txt-&gt;git add-&gt;ç¬¬äºŒæ¬¡ä¿®æ”¹readme.txt-&gt;git commitã€‚ä¼šå‘ç°masterä¸­çš„readme.txtæ–‡ä»¶æ˜¯ç¬¬ä¸€æ¬¡ä¿®æ”¹è¿‡çš„è€Œéç¬¬äºŒæ­¤ä¿®æ”¹è¿‡çš„ã€‚</p><p>å¦‚æœæƒ³è®©masterä¸­çš„readme.txtæ–‡ä»¶æ˜¯ç¬¬äºŒæ¬¡ä¿®æ”¹çš„ï¼šç¬¬ä¸€æ¬¡ä¿®æ”¹readme.txt-&gt;git add(æœ‰æ²¡æœ‰éƒ½è¡Œ)-&gt;ç¬¬äºŒæ¬¡ä¿®æ”¹readme.txt-&gt;git add-&gt;git commit</p><h3 id="æ’¤é”€ä¿®æ”¹"><a href="#æ’¤é”€ä¿®æ”¹" class="headerlink" title="æ’¤é”€ä¿®æ”¹"></a>æ’¤é”€ä¿®æ”¹</h3><p>ä¾‹å¦‚æ’¤é”€å¯¹readme.txtæ–‡ä»¶çš„ä¿®æ”¹ï¼š</p><h4 id="å½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶"><a href="#å½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶" class="headerlink" title="å½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶"></a>å½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- readme.txt//1.</span><br></pre></td></tr></table></figure><ol><li>æŠŠreadme.txtæ–‡ä»¶åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€</li></ol><h4 id="å½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹"><a href="#å½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹" class="headerlink" title="å½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹"></a>å½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹</h4><p>åœ¨commitä¹‹å‰å¯ä»¥å…ˆç”¨git statusæŸ¥çœ‹å“ªä¸ªæ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œæ’¤é”€å¯ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD readme.txt</span><br></pre></td></tr></table></figure><h4 id="å·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤"><a href="#å·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤" class="headerlink" title="å·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤"></a>å·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤</h4><p>ç›´æ¥ä½¿ç”¨ç‰ˆæœ¬é€€å›å°±å¥½äº†å‘€</p><h3 id="åˆ é™¤æ–‡ä»¶"><a href="#åˆ é™¤æ–‡ä»¶" class="headerlink" title="åˆ é™¤æ–‡ä»¶"></a>åˆ é™¤æ–‡ä»¶</h3><p>ä¾‹å¦‚åˆ é™¤å·¥ä½œåŒºä¸­çš„readme.txtæ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm test.txt//åˆ é™¤</span><br><span class="line">git commit//æäº¤</span><br></pre></td></tr></table></figure><p>åœ¨æäº¤ä¹‹å‰å¦‚æœå‘ç°åˆ é”™äº†å¯ä»¥ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- readme.txt</span><br></pre></td></tr></table></figure><h2 id="è¿œç¨‹ä»“åº“"><a href="#è¿œç¨‹ä»“åº“" class="headerlink" title="è¿œç¨‹ä»“åº“"></a>è¿œç¨‹ä»“åº“</h2><p>gitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ï¼ŒåŒä¸€ä¸ªgitä»“åº“å¯ä»¥åˆ†å¸ƒåˆ°ä¸åŒçš„æœºå™¨ä¸Šé¢ã€‚è€Œæ‹¿ä¸€ä¸ªæœºå™¨æ¥å½“ä½œæœåŠ¡å™¨ï¼Œå…¨å¤©24å°æ—¶å¼€æœºï¼Œå…¶ä»–äººä¹…éƒ½å¯ä»¥ä»è¿™å°æœåŠ¡å™¨ä¸ŠæŠŠä»“åº“å…‹éš†åˆ°è‡ªå·±çš„ç”µè„‘ä¸Šäº†ï¼Œå¹¶ä¸”å¯ä»¥æŠŠå„è‡ªçš„æäº¤æ¨é€åˆ°æœåŠ¡å™¨ä»“åº“ä¸­ï¼Œä¹Ÿå¯ä»¥ä»æœåŠ¡å™¨ä»“åº“æ‹‰å–åˆ«äººçš„æäº¤ã€‚</p><p>ç°åœ¨æˆ‘ä»¬ä¸éœ€è¦è‡ªå·±æ­å»ºæœåŠ¡å™¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨GitHubæˆ–è€…ç äº‘ï¼Œä½†æ˜¯åœ¨å›½å†…GitHubé€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚ã€‚ã€‚ä¸‹é¢å…ˆä»¥GitHubä¸ºä¾‹è®²è§£è¿œç¨‹ä»“åº“ã€‚ï¼ˆç äº‘çš„ç”¨æ³•ä¼šåœ¨åé¢è¯´åˆ°ï¼‰</p><ol><li><p>åˆ›å»ºSSH Keyï¼šåœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰ï¼ˆ<strong>.ssh</strong>ï¼‰ç›®å½•ï¼Œå¦‚æœæœ‰å†çœ‹çœ‹è¿™ä¸ªç›®å½•ä¸‹æœ‰æ²¡æœ‰ï¼ˆ<strong>id_rsa</strong>ï¼‰å’Œï¼ˆ<strong>id_rsa.pub</strong>ï¼‰è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚æœéƒ½æœ‰åˆ™å¯ä»¥ç›´æ¥è·³åˆ°ä¸‹ä¸€æ­¥ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ç”¨git bash hereï¼ˆWindowsï¼‰æˆ–è€…ç”¨shellï¼ˆLinuxï¼‰æ‰“å¼€ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤åˆ›å»ºSSH Keyï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;youremail@example.com&quot;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¦æŠŠé‚®ç®±æ¢æˆè‡ªå·±çš„é‚®ç®±ï¼Œç„¶åä¸€è·¯å›è½¦ï¼Œä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼Œç”±äºè¿™ä¸ªKeyä¹Ÿä¸æ˜¯ç”¨äºå†›äº‹ç›®çš„ï¼Œæ‰€ä»¥ä¹Ÿæ— éœ€è®¾ç½®å¯†ç ã€‚</p><p>å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•é‡Œæ‰¾åˆ°ï¼ˆ.<strong>ssh</strong>ï¼‰ç›®å½•ï¼Œé‡Œé¢æœ‰ï¼ˆ<strong>id_rsa</strong>ï¼‰å’Œï¼ˆ<strong>id_rsa.pub</strong>ï¼‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯SSH Keyçš„ç§˜é’¥å¯¹ï¼Œï¼ˆ<strong>id_rsa</strong>ï¼‰æ˜¯ç§é’¥ï¼Œä¸èƒ½æ³„éœ²å‡ºå»ï¼Œï¼ˆ<strong>id_rsa.pub</strong>ï¼‰æ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚</p></li><li><p>â€‹    ç™»é™†GitHubï¼Œæ‰“å¼€â€œAccount settingsâ€ï¼Œâ€œSSH Keysâ€é¡µé¢ï¼Œç„¶åï¼Œç‚¹â€œNew SSH Keyâ€ï¼Œå¡«ä¸Šä»»æ„Titleï¼Œåœ¨Keyæ–‡æœ¬æ¡†é‡Œç²˜è´´ï¼ˆ<strong>id_rsa.pub</strong>ï¼‰æ–‡ä»¶çš„å†…å®¹ï¼Œç„¶åå°±å¯ä»¥åœ¨SSH keysç•Œé¢çœ‹åˆ°ä½ æ·»åŠ çš„å¯†é’¥ã€‚</p></li></ol><p><img src="http://image.zhangzef.com/20200214182749.png" alt="img" style="zoom:50%;"></p><p>SSH Keyç”¨äºç»‘å®šå°†ä½ çš„ç”µè„‘å’ŒGitHubç»‘å®šï¼ŒGitHubæ˜¯å¼€æºä»“åº“ï¼Œä½ åœ¨ä¸Šé¢æäº¤çš„ä»£ç å¯ä»¥è¢«åˆ«äººçœ‹åˆ°ã€‚</p><h3 id="æ·»åŠ è¿œç¨‹ä»“åº“"><a href="#æ·»åŠ è¿œç¨‹ä»“åº“" class="headerlink" title="æ·»åŠ è¿œç¨‹ä»“åº“"></a>æ·»åŠ è¿œç¨‹ä»“åº“</h3><p>å…ˆåœ¨GitHubåˆ›å»ºä¸€ä¸ªä»“åº“ï¼š</p><p><img src="http://image.zhangzef.com/20200214182727.png" alt="img" style="zoom:50%;"></p><p>ï¼ˆè¿™æ˜¯ä»“åº“åˆ›å»ºå¥½çš„æ ·å­ï¼‰æˆ‘åˆ›å»ºäº†ä¸€ä¸ªåå«testçš„ä»“åº“ï¼Œåˆšåˆšåˆ›å»ºçš„ä»“åº“æ˜¯ç©ºçš„ã€‚ç°åœ¨GitHubå‘Šè¯‰æˆ‘ä»¬å¯ä»¥ä»è¿™ä¸ªä»“åº“å…‹éš†å‡ºæ–°çš„ä»“åº“ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªå·²æœ‰çš„ä»“åº“ä¸ä¹‹å…³è”ï¼Œç„¶åæŠŠæœ¬åœ°ä»“åº“çš„å†…å®¹æ¨é€åˆ°GitHubä»“åº“ã€‚</p><p>æˆ‘è¿™é‡Œæ˜¯åœ¨æœ¬åœ°ä¹Ÿæ–°å»ºäº†ä¸€ä¸ªå«testçš„ä»“åº“ï¼Œå¹¶ä¸”åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»ºäº†ä¸€ä¸ªï¼ˆ<strong>README.md</strong>ï¼‰çš„æ–‡ä»¶ã€‚ä¹‹åæ ¹æ®å‰é¢è®²è¿‡çš„å‘½ä»¤ï¼Œæˆ–è€…GitHubä¸Šé¢æç¤ºçš„å‘½ä»¤å°†æœ¬åœ°testä»“åº“ä¸GitHubä¸Šçš„è¿œç¨‹ä»“åº“ç›¸å…³è”ï¼Œéœ€è¦åœ¨æ–°å»ºçš„ç©ºæ–‡ä»¶å¤¹ä¸‹<strong>ä¾æ¬¡</strong>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;wrote a readme file&quot;//1.</span><br><span class="line">git remote add origin https://github.com/ZhangZef/test.git//2.</span><br><span class="line">git push -u origin master//3.</span><br></pre></td></tr></table></figure><ol><li>è¿™é‡ŒåŒå¼•å·é‡Œé¢ä¸ºæäº¤æ³¨è§£ï¼Œå‰é¢è®²è¿‡</li><li>è¿™é‡Œè¦æŠŠç½‘å€æ¢æˆè‡ªå·±çš„GitHubä»“åº“åœ°å€ï¼Œæç¤ºé¡µé¢ä¸­ç»™å‡ºäº†ã€‚originå°±æ˜¯è¿œç¨‹ä»“åº“çš„åå­—ï¼Œåœ¨gitä¸­é»˜è®¤è¿™æ ·å«ï¼Œä¹Ÿå¯ä»¥æ”¹æˆåˆ«çš„ï¼Œä¸è¿‡ä¸æ¨èï¼Œä¿®æ”¹ä¸åˆ©äºä»¥åå’Œåˆ«äººåˆä½œæˆ–è€…è‡ªå·±å¿˜äº†ã€‚</li><li>git pushæ˜¯æŠŠå½“å‰åˆ†æ”¯masteræ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚ç”±äºè¿œç¨‹åº“æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¨é€æ—¶åŠ ä¸Š<strong>-u</strong>å‚æ•°ï¼Œgitä¸ä½†ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å†…å®¹æ¨é€åˆ°è¿œç¨‹æ–°çš„masteråˆ†æ”¯ï¼Œè¿˜ä¼šæŠŠæœ¬åœ°masteråˆ†æ”¯å’Œè¿œç¨‹masteråˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åçš„æ¨é€å’Œæ‹‰å–æ—¶å¯ä»¥ç®€åŒ–å‘½ä»¤ã€‚</li><li>å¦‚æœå·²æœ‰æœ¬åœ°ä»“åº“å¯ç›´æ¥æ‰§è¡Œåä¸¤ä¸ªå‘½ä»¤ã€‚</li></ol><p>è¿™æ˜¯æ¨é€æˆåŠŸåçš„æ ·å­ï¼š</p><p><img src="http://image.zhangzef.com/20200214182726.png" alt="img" style="zoom:50%;"></p><p>ä»¥ååªè¦æœ¬åœ°æäº¤è¿‡ï¼Œç›´æ¥è¿è¡Œï¼šï¼ˆ<strong>git push origin master</strong>ï¼‰å‘½ä»¤å°±å¯ä»¥æäº¤</p><h3 id="ä»è¿œç¨‹ä»“åº“å…‹éš†"><a href="#ä»è¿œç¨‹ä»“åº“å…‹éš†" class="headerlink" title="ä»è¿œç¨‹ä»“åº“å…‹éš†"></a>ä»è¿œç¨‹ä»“åº“å…‹éš†</h3><p>å°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:ZhangZef/test.git</span><br></pre></td></tr></table></figure><p>æ³¨æ„è¦æŠŠä»“åº“åœ°å€æ¢æˆè‡ªå·±çš„åœ°å€</p><h2 id="åˆ†æ”¯ç®¡ç†"><a href="#åˆ†æ”¯ç®¡ç†" class="headerlink" title="åˆ†æ”¯ç®¡ç†"></a>åˆ†æ”¯ç®¡ç†</h2><h3 id="åˆ›å»ºå¹¶åˆå¹¶åˆ†æ”¯"><a href="#åˆ›å»ºå¹¶åˆå¹¶åˆ†æ”¯" class="headerlink" title="åˆ›å»ºå¹¶åˆå¹¶åˆ†æ”¯"></a>åˆ›å»ºå¹¶åˆå¹¶åˆ†æ”¯</h3><p>åœ¨gitä¸­ï¼Œmasteræ˜¯ä¸»åˆ†æ”¯ã€‚masteræ˜¯æŒ‡å‘æäº¤çš„åˆ†æ”¯ï¼Œè€ŒHEADæ˜¯æŒ‡å‘å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆã€‚</p><p>ä¸€å¼€å§‹ï¼Œmasteråˆ†æ”¯æ˜¯ä¸€æ¡çº¿ï¼Œgitç”¨masteræŒ‡å‘æœ€æ–°æäº¤ï¼Œå†ç”¨HEADæŒ‡å‘masterï¼Œå°±èƒ½ç¡®å®šå½“å‰åˆ†æ”¯ï¼Œä»¥åŠå½“å‰åˆ†æ”¯çš„æäº¤ç‚¹ï¼Œæ¯æ¬¡æäº¤ï¼Œmasterå°±å‘å‰ç§»åŠ¨ä¸€æ­¥ã€‚</p><p><img src="http://image.zhangzef.com/20200214182718.png" alt="img" style="zoom:50%;"></p><p>å½“æˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯devï¼ˆè‡ªå·±å‘½åï¼‰çš„æ—¶å€™ï¼Œgitå°±ä¼šæ–°å»ºä¸€ä¸ªå«devçš„æŒ‡é’ˆï¼ŒæŒ‡å‘masterç›¸åŒçš„æäº¤ã€‚å†æŠŠHEADæŒ‡å‘devå°±è¡¨ç¤ºå½“å‰åˆ†æ”¯åœ¨devï¼š</p><p><img src="http://image.zhangzef.com/20200214182715.png" alt="img" style="zoom: 50%;"></p><p>ä»ç°åœ¨å¼€å§‹ï¼Œä½ å¯¹å·¥ä½œåŒºçš„ä¿®æ”¹å’Œæäº¤å°±æ˜¯é’ˆå¯¹devåˆ†æ”¯çš„äº†ï¼Œæ¯æäº¤ä¸€æ¬¡ï¼Œdevåˆ†æ”¯å°±å‘å‰æŒªä¸€æ­¥ï¼š</p><p><img src="http://image.zhangzef.com/20200214182714.png" alt="img" style="zoom:50%;"></p><p>æˆ‘ä»¬è¦æƒ³æŠŠdevåˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šï¼Œå°±æ˜¯æŠŠmasteræŒ‡é’ˆæŒ‡å‘devçš„ä½ç½®å°±å¯ä»¥äº†ï¼š</p><p><img src="http://image.zhangzef.com/20200214182721.png" alt="img" style="zoom:50%;"></p><p>è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥æŠŠdevåˆ†æ”¯ç»™åˆ å»ï¼Œä»–ä¸ä¼šä¿®æ”¹å·¥ä½œåŒºçš„ä»»ä½•å†…å®¹ï¼Œåªä¼šå°†devæŒ‡é’ˆåˆ æ‰ï¼š</p><p><img src="http://image.zhangzef.com/20200214182719.png" alt="img" style="zoom:50%;"></p><p>ä¸‹é¢æ¥å®é™…è¿›è¡Œä¸Šè¿°æ“ä½œï¼Œåˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev//1.</span><br><span class="line">git branch dev//2.</span><br><span class="line">git checkout dev//3.</span><br><span class="line">git branch//4.</span><br></pre></td></tr></table></figure><ol><li>git checkoutå‘½ä»¤åŠ ä¸Š-bå‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œdevå¤„å¯æ¢æˆä½ èµ·çš„åˆ†æ”¯å</li><li>git branch + nameè¡¨ç¤ºåˆ›å»ºåˆ†æ”¯</li><li>åˆ‡æ¢åˆ°åˆ†æ”¯</li><li>æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼Œåå­—å‰é¢å¸¦*å·çš„è¡¨ç¤ºå½“å‰HEADæŒ‡å‘çš„åˆ†æ”¯</li></ol><p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯devï¼Œå¹¶è½¬å‘devåˆ†æ”¯ï¼Œå¹¶åœ¨devåˆ†æ”¯ä¸­åšä¿®æ”¹ç„¶åæäº¤ï¼š</p><p><img src="http://image.zhangzef.com/20200214182729.png" alt="img" style="zoom:50%;"></p><p>ä¹‹åæˆ‘ä»¬å°†devçš„æ”¹å˜åˆå¹¶åˆ°masteråˆ†æ”¯ä¸Šï¼Œå…ˆå°†è½¬å‘masteråˆ†æ”¯ï¼Œä¹‹åç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge dev</span><br></pre></td></tr></table></figure><p><img src="http://image.zhangzef.com/20200214182728.png" alt="img" style="zoom: 50%;"></p><p>æ³¨æ„åˆ°ä¸Šé¢çš„Fast-forwardä¿¡æ¯ï¼ŒGitå‘Šè¯‰æˆ‘ä»¬ï¼Œè¿™æ¬¡åˆå¹¶æ˜¯â€œå¿«è¿›æ¨¡å¼â€ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æŠŠmasteræŒ‡å‘devçš„å½“å‰æäº¤ï¼Œæ‰€ä»¥åˆå¹¶é€Ÿåº¦éå¸¸å¿«ã€‚å½“ç„¶ï¼Œä¹Ÿä¸æ˜¯æ¯æ¬¡åˆå¹¶éƒ½èƒ½Fast-forwardï¼Œæˆ‘ä»¬åé¢ä¼šè®²å…¶ä»–æ–¹å¼çš„åˆå¹¶ã€‚</p><p>ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å°†devåˆ é™¤äº†ï¼Œä¹‹åè¿è¡Œbranchå‘½ä»¤å°±çœ‹åˆ°åªæœ‰masteråˆ†æ”¯äº†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d dev</span><br></pre></td></tr></table></figure><p><img src="http://image.zhangzef.com/20200214182730.png" alt="img" style="zoom: 67%;"></p><p>è¿˜æœ‰switchå‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git switch -c dev//1.</span><br><span class="line">git switch master//2.</span><br></pre></td></tr></table></figure><ol><li>è¿™ä¸ªä¹Ÿæ˜¯åˆ›å…ˆå¹¶è½¬å‘æ–°åˆ†æ”¯</li><li>è¿™ä¸ªæ˜¯è½¬å‘åˆ†æ”¯ï¼Œå’Œcheckoutç”¨æ³•ç±»ä¼¼</li></ol><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git branch//1.</span><br><span class="line">git branch &lt;name&gt;//2.</span><br><span class="line">git checkout &lt;name&gt;//3.</span><br><span class="line">git switch &lt;name&gt;//4.</span><br><span class="line">git checkout -b &lt;name&gt;//5.</span><br><span class="line">git switch -c &lt;name&gt;//6.</span><br><span class="line">git merge &lt;name&gt;//7.</span><br><span class="line">git branch -d &lt;name&gt;//8.</span><br></pre></td></tr></table></figure><ol><li>æŸ¥çœ‹åˆ†æ”¯</li><li>åˆ›å»ºåˆ†æ”¯</li><li>è½¬å‘åˆ†æ”¯</li><li>è½¬å‘åˆ†æ”¯</li><li>åˆ›å»ºå¹¶è½¬å‘åˆ†æ”¯</li><li>åˆ›å»ºå¹¶è½¬å‘åˆ†æ”¯</li><li>åˆå¹¶åˆ†æ”¯</li><li>åˆ é™¤åˆ†æ”¯</li></ol><h3 id="è§£å†³å†²çª"><a href="#è§£å†³å†²çª" class="headerlink" title="è§£å†³å†²çª"></a>è§£å†³å†²çª</h3><p>å½“æ–°å»ºçš„åˆ†æ”¯å’ŒåŸæ¥çš„åˆ†æ”¯åŒæ—¶å‘å‰æ¨è¿›ï¼Œå¯¼è‡´ç”Ÿæˆäº†åˆ†å‰ï¼Œè¿™æ—¶å€™å°±å‘ç”Ÿäº†å†²çªï¼Œè¿™èŠ‚è¦æ¥è§£å†³å†²çªã€‚</p><p>æˆ‘ä»¬å…ˆæ–°å»ºä¸€ä¸ªåˆ†æ”¯devï¼Œå¹¶åœ¨devåˆ†æ”¯ä¿®æ”¹æ–‡ä»¶å¹¶æäº¤ï¼Œè¿™æ ·devåˆ†æ”¯å°±æ¯”masteråˆ†æ”¯è¶…å‰äº†ä¸€ä¸ªæäº¤ï¼š</p><p><img src="http://image.zhangzef.com/20200214182732.png" alt="img" style="zoom:50%;"></p><p>ä¹‹åæˆ‘ä»¬å†åˆ‡æ¢å›masteråˆ†æ”¯ï¼Œç³»ç»Ÿå°±æç¤ºæˆ‘ä»¬å½“å‰åˆ†æ”¯æ¯”masteråˆ†æ”¯è¶…å‰äº†ä¸€ä¸ªåˆ†æ”¯ï¼ˆè¿™é‡Œä»–æ˜¾ç¤ºçš„è¶…å‰ä¸¤æ¬¡ï¼Œæ˜¯å› ä¸ºæˆ‘çš„masteråˆ†æ”¯ä¿®æ”¹è¿‡ä¹‹åæ²¡æœ‰å¯¹è¿œç¨‹ä»“åº“æäº¤ï¼Œå®ƒæ˜¾ç¤ºçš„â€˜origin/masterâ€™æ„æ€æ˜¯è¿œç¨‹ä»“åº“çš„masteråˆ†æ”¯ï¼‰ï¼š</p><p><img src="http://image.zhangzef.com/20200214182734.png" alt="img" style="zoom: 67%;"></p><p>ä¹‹åæˆ‘ä»¬å†åœ¨masterä¿®æ”¹ä¸€æ¬¡å¹¶æäº¤ï¼š</p><p><img src="http://image.zhangzef.com/20200214182731.png" alt="img" style="zoom:67%;"></p><p>ä¼šå‘ç°åˆå¹¶çš„æ—¶å€™gitä¼šæç¤ºæˆ‘ä»¬å‘ç”Ÿå†²çªï¼ˆconflictï¼‰ï¼Œè¿™æ—¶åˆ†æ”¯çš„çŠ¶æ€æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="http://image.zhangzef.com/20200214182720.png" alt="img" style="zoom:50%;"></p><p>æˆ‘ä»¬å¯ä»¥ç”¨ï¼ˆ<strong>git status</strong>ï¼‰æ¥æŸ¥çœ‹å“ªäº›æ–‡ä»¶å‘ç”Ÿäº†å†²çªï¼š</p><p><img src="http://image.zhangzef.com/20200214182733.png" alt="img" style="zoom:50%;"></p><p>è¿™æ—¶gitæç¤ºæˆ‘ä»¬README.mdæ–‡ä»¶å‘ç”Ÿäº†å†²çªï¼Œè¦æˆ‘ä»¬æ‰‹åŠ¨è§£å†³å†²çªï¼Œä¹‹åæˆ‘ä»¬æ‰“å¼€README.mdæ–‡ä»¶æŸ¥çœ‹ï¼š</p><p><img src="http://image.zhangzef.com/20200214182735.png" alt="img" style="zoom: 33%;"></p><p>ä¼šå‘ç°ä¸¤ä¸ªåˆ†æ”¯ä¸­çš„æäº¤åˆ†åˆ«åœ¨æ–‡ä»¶ä¸­æç¤ºå‡ºæ¥ï¼Œæˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹åå†æäº¤å³å¯ï¼š</p><p><img src="http://image.zhangzef.com/20200214182736.png" alt="img" style="zoom: 50%;"></p><p>è¿™æ˜¯ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†ä¿®æ”¹è¿‡çš„æ–‡ä»¶æäº¤åå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹åˆ†æ”¯åˆå¹¶çŠ¶æ€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --graph --pretty=oneline --abbrev-commit</span><br></pre></td></tr></table></figure><p><img src="http://image.zhangzef.com/20200214182737.png" alt="img" style="zoom:50%;"></p><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„åˆ†æ”¯å·²ç»åˆå¹¶å®Œæˆï¼Œè¿™æ—¶å¯ä»¥å°†devåˆ†æ”¯åˆ é™¤ã€‚</p><h4 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>gitæ— æ³•è‡ªåŠ¨åˆå¹¶å†²çªåˆ†æ”¯ï¼Œåˆå¹¶åå¿…é¡»æ‰‹åŠ¨è§£å†³å†²çªï¼Œå†æäº¤ï¼Œç”¨å¦‚ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ†æ”¯åˆå¹¶å›¾ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --graph</span><br></pre></td></tr></table></figure><h3 id="åˆ†æ”¯ç®¡ç†ç­–ç•¥"><a href="#åˆ†æ”¯ç®¡ç†ç­–ç•¥" class="headerlink" title="åˆ†æ”¯ç®¡ç†ç­–ç•¥"></a>åˆ†æ”¯ç®¡ç†ç­–ç•¥</h3><p>åœ¨ä¸€èˆ¬æƒ…å†µï¼Œåˆå¹¶åˆ†æ”¯æ—¶gitä¼šä½¿ç”¨<strong>Fast forward</strong>æ¨¡å¼è¿›è¡Œåˆå¹¶ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹åˆ é™¤åˆ†æ”¯åä¼šä¸¢æ‰åˆ†æ”¯ä¿¡æ¯ã€‚</p><h4 id="fast-forward"><a href="#fast-forward" class="headerlink" title="fast forward"></a>fast forward</h4><p>é‚£ä¹ˆä»€ä¹ˆæ˜¯fast forwardæ¨¡å¼å‘¢ï¼Ÿå‡è®¾ç°åœ¨æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä¸€ä¸ªæ˜¯ä¸»åˆ†æ”¯masterï¼Œå¦ä¸€ä¸ªæ˜¯devåˆ†æ”¯ã€‚</p><blockquote><p>  å½“æˆ‘ä»¬åœ¨devåˆ†æ”¯åšäº†ä¸€ä¸ªæäº¤ä¸ºâ€œnew 444444â€ï¼š<img src="http://image.zhangzef.com/20200214182739.png" alt="img" style="zoom:50%;">å½“HEADæŒ‡å‘devæ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€œnew 444444â€è¿™æ¬¡æäº¤ï¼Œå½“æˆ‘ä»¬å°†HEADæŒ‡å‘masteræ—¶åˆ™çœ‹ä¸åˆ°è¿™ä¸ªâ€œnew 444444â€æäº¤ï¼š<img src="http://image.zhangzef.com/20200214182740.png" alt="img" style="zoom:50%;"></p><p>  è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨fast forwardæ¨¡å¼è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶ä¹‹åçš„åˆ†æ”¯å›¾å¦‚å›¾æ‰€ç¤ºï¼š<img src="http://image.zhangzef.com/20200214182741.png" alt="img" style="zoom:50%;">å¯ä»¥çœ‹å‡ºgitå°†â€œnew 444444â€è¿™æ¬¡æäº¤å’Œmasteråˆ†æ”¯å¼ºè¡Œç³…åˆåˆ°äº†ä¸€å—å„¿ã€‚</p></blockquote><blockquote><p>  æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹å…³é—­ fast forwardæ¨¡å¼çš„åˆå¹¶æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œè¿™æ¬¡æˆ‘å…ˆåˆ é™¤äº†devåˆ†æ”¯ï¼Œåˆåˆ›å»ºäº†æ–°çš„devåˆ†æ”¯ï¼Œä»¥é¿å…å’Œå‰é¢çš„æ··æ·†ï¼Œå…¶ä»–æ“ä½œç±»ä¼¼ï¼Œè¿™æ¬¡åœ¨devçš„æäº¤æ¢æˆäº†â€œnew 666666â€ï¼š<img src="http://image.zhangzef.com/20200214182743.png" alt="img" style="zoom:50%;"></p><p>  å¯çœ‹å‡ºè¿™æ¬¡åˆå¹¶ä¹‹ågitå¹¶æ²¡æœ‰å°†â€œnew 666666â€è¿™æ¬¡æäº¤å’Œmasteråˆ†æ”¯å¼ºè¡Œç³…åˆåœ¨ä¸€èµ·ã€‚</p></blockquote><p>å¯ç”¨ä¸¤å¼ å›¾æ€»ç»“ä¸€ä¸‹ï¼Œç¬¬ä¸€å¼ ä¸ºfast forwardåˆå¹¶ï¼Œç¬¬äºŒå¼ ä¸ºéfast forwardåˆå¹¶ï¼š</p><p><img src="http://image.zhangzef.com/20200214182744.png" alt="img" style="zoom: 50%;"></p><p><img src="http://image.zhangzef.com/20200214182748.png" alt="img" style="zoom: 50%;"></p><p>çœ‹åˆ°å»–é›ªå³°è€å¸ˆå¯¹fast forwardè¿™é‡Œè®²è§£çš„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæˆ‘å¯¹è¿™é‡Œä¹Ÿæœ‰ç‚¹è¿·ï¼Œå°±åŠ¨æ‰‹å®è·µäº†ä¸€ä¸‹ï¼Œå” å¨å” å¨ã€‚å…³é—­fast forwardå¯ä»¥é¿å…ä¸¢å¤±ä¿¡æ¯ï¼Œå¯¹ä»¥åçš„ä»£ç åˆ†æå¾ˆæœ‰ç”¨ï¼ˆçœ‹ç½‘ä¸Šè¯´çš„ğŸ‘€ï¼‰ï¼Œä¸è¿‡fast forwardæ¨¡å¼ç¡®å®å°†ä¸€éƒ¨åˆ†ä¿¡æ¯ç»™æŠ¹å»äº†ï¼Œæ¯”å¦‚ä¸Šé¢ç¬¬ä¸€ä¸ªå›¾ï¼Œæˆ‘ä»¬å°±çœ‹ä¸å‡ºæ›¾ç»æœ‰è¿‡devçš„ç—•è¿¹ï¼Œè€Œç¬¬äºŒå¼ å›¾åˆ™å¯ä»¥çœ‹å‡ºåŸæ¥æœ‰æŸä¸ªåˆ†æ”¯æäº¤äº†è¿™ä¸ªåŠŸèƒ½ã€‚</p><h4 id="åˆ†æ”¯ç­–ç•¥"><a href="#åˆ†æ”¯ç­–ç•¥" class="headerlink" title="åˆ†æ”¯ç­–ç•¥"></a>åˆ†æ”¯ç­–ç•¥</h4><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§å‡ ä¸ªåŸºæœ¬åŸåˆ™è¿›è¡Œåˆ†æ”¯ç®¡ç†ï¼š</p><p>é¦–å…ˆï¼Œ<code>master</code>åˆ†æ”¯åº”è¯¥æ˜¯éå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ä»…ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå¹³æ—¶ä¸èƒ½åœ¨ä¸Šé¢å¹²æ´»ï¼›</p><p>é‚£åœ¨å“ªå¹²æ´»å‘¢ï¼Ÿå¹²æ´»éƒ½åœ¨<code>dev</code>åˆ†æ”¯ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>dev</code>åˆ†æ”¯æ˜¯ä¸ç¨³å®šçš„ï¼Œåˆ°æŸä¸ªæ—¶å€™ï¼Œæ¯”å¦‚1.0ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œå†æŠŠ<code>dev</code>åˆ†æ”¯åˆå¹¶åˆ°<code>master</code>ä¸Šï¼Œåœ¨<code>master</code>åˆ†æ”¯å‘å¸ƒ1.0ç‰ˆæœ¬ï¼›</p><p>ä½ å’Œä½ çš„å°ä¼™ä¼´ä»¬æ¯ä¸ªäººéƒ½åœ¨<code>dev</code>åˆ†æ”¯ä¸Šå¹²æ´»ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„åˆ†æ”¯ï¼Œæ—¶ä¸æ—¶åœ°å¾€<code>dev</code>åˆ†æ”¯ä¸Šåˆå¹¶å°±å¯ä»¥äº†ã€‚</p><p>æ‰€ä»¥ï¼Œå›¢é˜Ÿåˆä½œçš„åˆ†æ”¯çœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼š</p><p><img src="http://image.zhangzef.com/20200214182723.png" alt="img" style="zoom: 80%;"></p><p>å¦‚å›¾michaelåœ¨ä»–è‡ªå·±çš„åˆ†æ”¯ä¸Šå·¥ä½œï¼Œbobåœ¨ä»–è‡ªå·±çš„åˆ†æ”¯ä¸Šå·¥ä½œï¼Œä»–ä»¬æ¯æ¬¡å®Œæˆå·¥ä½œéƒ½æŠŠè‡ªå·±çš„åˆ†æ”¯åˆå¹¶åˆ°devåˆ†æ”¯ï¼Œå½“devåˆ†æ”¯ä¸Šçš„é¡¹ç›®ç¨³å®šä¸‹æ¥ï¼Œåˆ™å°†devåˆå¹¶åˆ°masterä¸Šã€‚</p><h3 id="Bugåˆ†æ”¯"><a href="#Bugåˆ†æ”¯" class="headerlink" title="Bugåˆ†æ”¯"></a>Bugåˆ†æ”¯</h3><p>å½“ä½ æ­£åœ¨devåˆ†æ”¯ä¸­åšæŸé¡¹å·¥ä½œæ—¶ï¼Œçªç„¶é€šçŸ¥è®©ä½ å»ä¿®å¤masteråˆ†æ”¯ä¸­çš„ä¸€ä¸ªéå¸¸ç´§æ€¥bug-001ï¼Œä½†æ˜¯ä½ æ‰‹å¤´çš„å·¥ä½œä¸€æ—¶åŠä¼šå„¿ä¹Ÿåšä¸å®Œã€‚è¿™æ—¶å€™è¦å…ˆä¿æŠ¤å·¥ä½œç°åœºï¼Œå°±åƒè°ƒç”¨å‡½æ•°æ—¶ï¼Œç³»ç»Ÿä¼šå…ˆä¿æŠ¤å·¥ä½œç°åœºï¼Œå°†å„å¯„å­˜å™¨ä¸­çš„å€¼å‹å…¥æ ˆä¸­ï¼Œå†å»è°ƒç”¨åˆ«çš„å‡½æ•°ã€‚</p><p>gitä¹Ÿæä¾›äº†ä¸€ä¸ªä¿æŠ¤å·¥ä½œç°åœºçš„åŠŸèƒ½ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure><p>å¯ä»¥å°†å½“å‰æœªæäº¤çš„ä¿®æ”¹å…ˆå­˜èµ·æ¥ï¼Œä»¥ä¾¿bugä¿®å¤å®Œæˆåæ¢å¤ç°åœºã€‚æ¢å¤ç°åœºçš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash list//1.</span><br><span class="line">git stash apply//2.</span><br><span class="line">git stash pop//3.</span><br></pre></td></tr></table></figure><ol><li>è¿™ä¸ªå‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰æœ‰å“ªäº›è¢«ä¿å­˜èµ·æ¥çš„å·¥ä½œç°åœºï¼Œè¿™ä¸ªlistå…¶å®æ˜¯ä¸€ä¸ªæ ˆç»“æ„ï¼Œå³åè¿›å…ˆå‡ºã€‚</li><li>ç¬¬äºŒæ¡å’Œç¬¬ä¸‰æ¡å‘½ä»¤éƒ½æ˜¯æ¢å¤å·¥ä½œç°åœºï¼Œä½†æ˜¯applyä¸ä¼šåˆ é™¤listä¸­çš„è®°å½•ï¼Œæƒ³è¦åˆ é™¤è¿˜è¦ç”¨ï¼ˆ<strong>git stash drop</strong>ï¼‰ï¼Œè€Œpopæ˜¯åº”ç”¨å¹¶åˆ é™¤ã€‚</li></ol><p>masteråˆ†æ”¯ä¸­å­˜åœ¨bugï¼Œé‚£ä¹ˆè¯´æ˜devåˆ†æ”¯ä¸­ä¸€å®šä¹Ÿå­˜åœ¨bugã€‚é‚£ä¹ˆæ€ä¹ˆæ–¹ä¾¿å¿«æ·åœ°ä¿®å¤devä¸Šçš„bugå‘¢ï¼Ÿ</p><p>è¦å…ˆå†masteråˆ†æ”¯ä¸­æŸ¥çœ‹é‚£ä¸ªbugåˆ†æ”¯çš„commit_idï¼ˆä¾‹å¦‚æ˜¯aadbd3dâ€¦â€¦ï¼Œå–å‰å‡ ä½å°±è¡Œï¼‰ï¼Œç„¶åè½¬åˆ°è½¬åˆ°devåˆ†æ”¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick aadbd3e</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥å°†é‚£æ¬¡bugä¿®å¤ç›´æ¥åˆå¹¶åˆ°devåˆ†æ”¯ä¸­ï¼Œä¸è¿‡è¿˜éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªå¹¶æäº¤ã€‚</p><h3 id="Featureåˆ†æ”¯"><a href="#Featureåˆ†æ”¯" class="headerlink" title="Featureåˆ†æ”¯"></a>Featureåˆ†æ”¯</h3><p>å½“æ–°å¼€å‘åŠŸèƒ½æ—¶ï¼Œè‚¯å®šä¸èƒ½ä»masteråˆ†æ”¯ä¸­ä¿®æ”¹ã€‚è¿™æ—¶å€™è¦ä»devåˆ†æ”¯æ–°å»ºä¸€ä¸ªfeatureåˆ†æ”¯æ¥å¼€å‘æ–°åŠŸèƒ½ï¼Œä½†æ˜¯å½“ä½ å¼€å‘å®Œæ–°åŠŸèƒ½æäº¤è¿‡è¿˜<strong>æœªåˆå¹¶</strong>æ—¶åˆè¢«è¦æ±‚å–æ¶ˆè¿™ä¸ªåŠŸèƒ½ï¼Œè¿™æ—¶å€™ç”¨ï¼ˆ<strong>git branch -d + åˆ†æ”¯å</strong>ï¼‰æ˜¯åˆ é™¤ä¸äº†çš„ï¼Œå› ä¸ºåˆ†æ”¯è¿˜æœªåˆå¹¶ã€‚gitä¼šæç¤ºä½ è¦ç”¨ï¼ˆ<strong>-D</strong>ï¼‰æ¥åˆ é™¤ï¼ˆä¾‹å¦‚åˆ†æ”¯åä¸ºfeatureï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -D feature</span><br></pre></td></tr></table></figure><h3 id="å¤šäººåä½œ"><a href="#å¤šäººåä½œ" class="headerlink" title="å¤šäººåä½œ"></a>å¤šäººåä½œ</h3><p>å½“ä½ ä»è¿œç¨‹ä»“åº“å…‹éš†æ—¶ï¼Œå®é™…ä¸ŠGitè‡ªåŠ¨æŠŠæœ¬åœ°çš„masteråˆ†æ”¯å’Œè¿œç¨‹çš„masteråˆ†æ”¯å¯¹åº”èµ·æ¥äº†ï¼Œå¹¶ä¸”ï¼Œè¿œç¨‹ä»“åº“çš„é»˜è®¤åç§°æ˜¯originã€‚æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„ä¿¡æ¯ï¼ˆç¬¬ä¸€ä¸ªæ˜¯æŸ¥çœ‹ä¿¡æ¯ï¼Œç¬¬äºŒä¸ªæ˜¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œremoteä¸­æ–‡ç¿»è¯‘æ˜¯ååƒ»çš„ã€åè¿œçš„ğŸ˜ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote</span><br><span class="line">git remote -v</span><br></pre></td></tr></table></figure><p><img src="http://image.zhangzef.com/20200214182745.png" alt="img" style="zoom: 67%;"></p><h4 id="æ¨é€åˆ†æ”¯"><a href="#æ¨é€åˆ†æ”¯" class="headerlink" title="æ¨é€åˆ†æ”¯"></a>æ¨é€åˆ†æ”¯</h4><p>æ¨é€åˆ†æ”¯ï¼Œå°±æ˜¯æŠŠè¯¥åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æœ¬åœ°æäº¤æ¨é€åˆ°è¿œç¨‹åº“ã€‚æ¨é€æ—¶ï¼Œè¦æŒ‡å®šæœ¬åœ°åˆ†æ”¯ï¼Œè¿™æ ·ï¼ŒGitå°±ä¼šæŠŠè¯¥åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åº“å¯¹åº”çš„è¿œç¨‹åˆ†æ”¯ä¸Šï¼ˆæ¯”å¦‚è¯´è¦æ¨é€masteråˆ†æ”¯ï¼Œoriginæ˜¯è¿œç¨‹ä»“åº“çš„æ„æ€ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯ä¸€å®šè¦æŠŠæœ¬åœ°åˆ†æ”¯å¾€è¿œç¨‹æ¨é€ï¼Œé‚£ä¹ˆï¼Œå“ªäº›åˆ†æ”¯éœ€è¦æ¨é€ï¼Œå“ªäº›ä¸éœ€è¦å‘¢ï¼Ÿ</p><ul><li><strong>master</strong>åˆ†æ”¯æ˜¯ä¸»åˆ†æ”¯ï¼Œå› æ­¤è¦æ—¶åˆ»ä¸è¿œç¨‹åŒæ­¥ï¼›</li><li><strong>dev</strong>åˆ†æ”¯æ˜¯å¼€å‘åˆ†æ”¯ï¼Œå›¢é˜Ÿæ‰€æœ‰æˆå‘˜éƒ½éœ€è¦åœ¨ä¸Šé¢å·¥ä½œï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦ä¸è¿œç¨‹åŒæ­¥ï¼›</li><li>bugåˆ†æ”¯åªç”¨äºåœ¨æœ¬åœ°ä¿®å¤bugï¼Œå°±æ²¡å¿…è¦æ¨åˆ°è¿œç¨‹äº†ï¼Œé™¤éè€æ¿è¦çœ‹çœ‹ä½ æ¯å‘¨åˆ°åº•ä¿®å¤äº†å‡ ä¸ªbugï¼›</li><li>featureåˆ†æ”¯æ˜¯å¦æ¨åˆ°è¿œç¨‹ï¼Œå–å†³äºä½ æ˜¯å¦å’Œä½ çš„å°ä¼™ä¼´åˆä½œåœ¨ä¸Šé¢å¼€å‘ã€‚</li></ul><h4 id="æŠ“å–åˆ†æ”¯"><a href="#æŠ“å–åˆ†æ”¯" class="headerlink" title="æŠ“å–åˆ†æ”¯"></a>æŠ“å–åˆ†æ”¯</h4><p>æƒ³è¦æŠ“å–åˆ†æ”¯ï¼Œå…ˆè¦è·å–ä½ çš„å·¥ç¨‹åœ¨GitHubä¸Šçš„åœ°å€ï¼Œå…ˆåœ¨GitHubä¸­æ‰“å¼€ä½ çš„å·¥ç¨‹ï¼Œä¹‹åï¼ˆè¿™ä¸ªæŒ‰é’®æ˜¯å°†åœ°å€ä¿¡æ¯å¤åˆ¶åˆ°ç²˜è´´æ¿ï¼‰ï¼š</p><p><img src="http://image.zhangzef.com/20200214182746.png" alt="img" style="zoom:80%;"></p><p>ä¹‹åä½¿ç”¨ï¼ˆ<strong>git clone</strong>ï¼‰å‘½ä»¤ï¼Œä¾‹å¦‚ä¸Šå›¾ä¸­çš„å·¥ç¨‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:ZhangZef/test.git</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯åœ¨GitHubä¸Šæˆ‘çš„å·¥ç¨‹æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä¸€ä¸ªæ˜¯masteråˆ†æ”¯ï¼Œä¸€ä¸ªæ˜¯devåˆ†æ”¯ï¼Œå½“ä½ cloneä¹‹åä½¿ç”¨ï¼ˆ<strong>git branch</strong>ï¼‰å‘½ä»¤æ—¶ä¼šå‘ç°åªæœ‰ä¸€ä¸ªmasteråˆ†æ”¯ï¼Œè¿™æ—¶å€™æƒ³å°†devåˆ†æ”¯ä¹ŸæŠ“å–ä¸‹æ¥è¦ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev origin/dev</span><br></pre></td></tr></table></figure><p>åé¢å¸¦ä¸Šï¼ˆ<strong>origin/dev</strong>ï¼‰æ„æ€æ˜¯å°†æœ¬åœ°ä»“çš„devåˆ†æ”¯å’Œè¿œç¨‹ä»“åº“çš„devåˆ†æ”¯ç›¸å…³è”ï¼Œä»¥åæ¨é€æ‹‰å–çš„æ—¶å€™gitä¼šè‡ªåŠ¨å¯»æ‰¾è¿œç¨‹ä»“åº“å’Œå½“å‰æ¨é€æ‹‰å–åˆ†æ”¯ç›¸å…³è”çš„åˆ†æ”¯ï¼Œå¦‚æœè¿œç¨‹ä»“åº“æ²¡æœ‰å…³è”åˆ†æ”¯ï¼š</p><ul><li>æ‹‰å–æ—¶åˆ™ä¼š<strong>æ‹‰å–å¤±è´¥</strong></li><li>è€Œæ¨é€æ—¶æ²¡æœ‰<strong>å…³è”åˆ†æ”¯</strong>ä¸”æ— <strong>åŒååˆ†æ”¯</strong>åˆ™ä¼šè‡ªåŠ¨åœ¨è¿œç¨‹ä»“åº“<strong>åˆ›å»ºæ–°åˆ†æ”¯</strong>ï¼Œä½†æ˜¯åˆ›å»ºçš„æ–°åˆ†æ”¯å¹¶<strong>ä¸ä¼š</strong>å’Œæœ¬åœ°ä»“åº“çš„åˆ†æ”¯ç›¸<strong>å…³è”</strong>ï¼Œè¿˜è¦æ‰‹åŠ¨å°†è¿œç¨‹ä»“åº“çš„åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯ç›¸å…³è”</li><li>è€Œæ¨é€æ—¶æ²¡æœ‰<strong>å…³è”åˆ†æ”¯</strong>ä¸”æœ‰<strong>åŒååˆ†æ”¯</strong>åˆ™ä¸ä¼šå‘ç”Ÿä»»ä½•äº‹ï¼Œæ²¡æœ‰æ¨é€ä¸Šå»ï¼Œä¹Ÿæ²¡æœ‰åˆ›å»ºæ–°åˆ†æ”¯</li></ul><p>è¦æƒ³å…³è”è¿œç¨‹ä»“åº“å’Œæœ¬åœ°ä»“åº“çš„åˆ†æ”¯å¯ç”¨å¦‚ä¸‹å‘½ä»¤ï¼ˆä¾‹å¦‚è¦å…³è”åˆ†æ”¯æ˜¯devï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch --set-upstream-to=origin/dev dev</span><br></pre></td></tr></table></figure><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‡å®šå°†æœ¬åœ°devå’Œè¿œç¨‹ä»“åº“çš„å…¶ä»–åˆ†æ”¯ç›¸å…³è”ï¼Œä¿®æ”¹originåé¢çš„åˆ†æ”¯åå­—å³å¯ï¼Œä½†æ˜¯å¹¶<strong>ä¸æ¨è</strong></p><h4 id="è§£å†³æ¨é€å†²çª"><a href="#è§£å†³æ¨é€å†²çª" class="headerlink" title="è§£å†³æ¨é€å†²çª"></a>è§£å†³æ¨é€å†²çª</h4><p>å½“ä½ çš„å°ä¼™ä¼´å‘è¿œç¨‹ä»“åº“çš„devæ¨é€åˆ†æ”¯æ¨é€ä¹‹åï¼Œä½ å†å‘è¿œç¨‹ä»“åº“æ¨é€æ—¶gitä¼šæç¤ºä½ äº§ç”Ÿå†²çªï¼Œå¹¶ä¸”æç¤ºä½ è¦ç”¨ï¼ˆ<strong>git pull</strong>ï¼‰å‘½ä»¤ï¼š</p><p><img src="http://image.zhangzef.com/20200214182747.png" alt="img" style="zoom:67%;"></p><p>æ­¤æ—¶å°±ä½¿ç”¨ï¼ˆ<strong>git pull</strong>ï¼‰å°†è¿œç¨‹ä»“åº“çš„åˆ†æ”¯æŠ“å–ä¸‹æ¥ï¼Œæ‰‹åŠ¨è§£å†³å†²çªå†åˆå¹¶ï¼ˆæ‹‰å–å¤±è´¥æ—¶è®°å¾—å…³è”è¿œç¨‹ä»“åº“çš„åˆ†æ”¯å’Œæœ¬åœ°ä»“åº“åˆ†æ”¯ï¼‰ã€‚</p><h3 id="Rebase"><a href="#Rebase" class="headerlink" title="Rebase"></a>Rebase</h3><p>å½“è§£å†³å†²çªæ—¶ï¼Œåpushçš„äººè¦å…ˆpullï¼Œå†addâ€¦commitâ€¦pushï¼Œè¿™æ ·åˆ†æ”¯å›¾å°±ä¼šå˜å¾—å¾ˆæ‚ä¹±ã€‚åˆ©ç”¨gitçš„<strong>rebase</strong>ï¼ˆå˜åŸºï¼‰æ“ä½œå¯ä»¥å°†è§£å†³å†²çªæ—¶çš„åˆ†æ”¯å›¾æ•´ç†æˆä¸€æ¡ç›´çº¿ã€‚ï¼ˆä¸å¤ªç†è§£rebaseçš„æ“ä½œï¼Œå›æ¥å†å†™å§ï¼Œå…ˆè·³è¿‡å»ï¼‰</p><h2 id="æ ‡ç­¾ç®¡ç†"><a href="#æ ‡ç­¾ç®¡ç†" class="headerlink" title="æ ‡ç­¾ç®¡ç†"></a>æ ‡ç­¾ç®¡ç†</h2><p>æ ‡ç­¾ç”¨äºæ ‡è®°æŸä¸ªcommitï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚</p><h3 id="åˆ›å»ºæ ‡ç­¾"><a href="#åˆ›å»ºæ ‡ç­¾" class="headerlink" title="åˆ›å»ºæ ‡ç­¾"></a>åˆ›å»ºæ ‡ç­¾</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git tag &lt;name&gt;//1.</span><br><span class="line">git tag &lt;name&gt; &lt;commit_id&gt;//2.</span><br><span class="line">git tag//3.</span><br><span class="line">git show &lt;tagname&gt;//4.</span><br><span class="line">git tag -a &lt;tagname&gt; -m &quot;......&quot;//5.</span><br></pre></td></tr></table></figure><ol><li>åˆ›å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œé»˜è®¤æŒ‡å‘å½“å‰HEADæŒ‡å‘çš„æäº¤</li><li>æŒ‡å®šæŸä¸€ä¸ªcommitåˆ›å»ºæ ‡ç­¾ï¼Œç”¨äºæŒ‡å®šä»¥å‰çš„æäº¤æœªæ·»åŠ æ ‡ç­¾</li><li>æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾</li><li>æ˜¾ç¤ºæŸä¸ªæ ‡ç­¾ï¼ˆæ ‡ç­¾æŒ‡å‘çš„commitï¼‰çš„ä¿¡æ¯</li><li>å¯ä»¥æŒ‡å®šæŸä¸ªæ ‡ç­¾çš„æ³¨è§£</li></ol><h3 id="æ“ä½œæ ‡ç­¾"><a href="#æ“ä½œæ ‡ç­¾" class="headerlink" title="æ“ä½œæ ‡ç­¾"></a>æ“ä½œæ ‡ç­¾</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git tag -d &lt;tagname&gt;//1.</span><br><span class="line">git push origin &lt;tagname&gt;//2.</span><br><span class="line">git push origin --tags//3.</span><br><span class="line">git push origin :refs/tags/&lt;tagname&gt;//4.</span><br></pre></td></tr></table></figure><ol><li>åˆ é™¤æœ¬åœ°çš„æŸä¸ªæ ‡ç­¾</li><li>å°†æŸä¸ªæ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ä»“åº“</li><li>ä¸€æ¬¡æ€§æ¨é€å…¨éƒ¨å°šæœªæ¨é€åˆ°è¿œç¨‹çš„æœ¬åœ°æ ‡ç­¾</li><li>åˆ é™¤è¿œç¨‹æ ‡ç­¾ï¼Œè¦å…ˆåˆ é™¤æœ¬åœ°çš„æ ‡ç­¾ï¼Œå†ä½¿ç”¨è¿™ä¸ªå‘½ä»¤åˆ é™¤è¿œç¨‹çš„æ ‡ç­¾</li></ol><h2 id="ä½¿ç”¨GitHub"><a href="#ä½¿ç”¨GitHub" class="headerlink" title="ä½¿ç”¨GitHub"></a>ä½¿ç”¨GitHub</h2><p>æƒ³è¦ä¿®æ”¹åˆ«äººçš„æ–‡ä»¶ï¼Œå°±è¦å…ˆforkåˆ°è‡ªå·±çš„ä»“åº“ï¼Œç„¶åæ‰èƒ½è¿›è¡Œä¿®æ”¹æäº¤ã€‚å½“ä½ æƒ³è¦åˆ«äººèƒ½æ¥å—ä½ çš„æäº¤ï¼Œä½ å°±å¯ä»¥åœ¨GitHubä¸Šå‘èµ·ä¸€ä¸ªpull requestï¼Œä¹‹åè¦çœ‹åˆ«äººæ¥å—ä¸æ¥å—äº†ã€‚</p><h2 id="ä½¿ç”¨ç äº‘"><a href="#ä½¿ç”¨ç äº‘" class="headerlink" title="ä½¿ç”¨ç äº‘"></a>ä½¿ç”¨ç äº‘</h2><p>ç”±äºGitHubæ˜¯å›½å¤–çš„ç½‘ç«™ï¼Œå›½å†…ç”¨æˆ·è®¿é—®æ—¶é€Ÿåº¦æœ‰æ—¶å€™ä»¤äººæŠ“ç‹‚ã€‚è¿™æ—¶å€™ä½ å¯ä»¥ä½¿ç”¨å›½å†…çš„gitæ‰˜ç®¡æœåŠ¡<a href="https://gitee.com/" target="_blank" rel="noopener">ç äº‘</a></p><p>ä¸è¿‡ç äº‘çš„å…è´¹gitä»“åº“æœ‰<strong>5äºº</strong>çš„æˆå‘˜ä¸Šé™ã€‚</p><p>æ·»åŠ SSH Keyçš„æ­¥éª¤å°±ç•¥è¿‡äº†ã€‚</p><p>åœ¨ç äº‘ä¸Šçš„gitæ“ä½œå’ŒGitHubç±»ä¼¼ï¼Œå°±ä¸èµ˜è¿°äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;  æœ¬æ•™ç¨‹å‚è€ƒ&lt;a href=&quot;https://www.liaoxuefeng.com/wiki/896043488029600&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å»–é›ªå³°çš„Gitæ•™ç¨‹&lt;/a&gt;&lt;/p&gt;
&lt;/blockqu
      
    
    </summary>
    
      <category term="Git" scheme="zhangzef.com/categories/Git/"/>
    
    
      <category term="Git" scheme="zhangzef.com/tags/Git/"/>
    
      <category term="GitHub" scheme="zhangzef.com/tags/GitHub/"/>
    
      <category term="ç äº‘" scheme="zhangzef.com/tags/%E7%A0%81%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šç°ä»£æ“ä½œç³»ç»Ÿï¼ˆç¬¬å››ç‰ˆï¼‰ã€‹ è¯¾åä¹ é¢˜ç­”æ¡ˆ--ç¬¬ä¸€ç« </title>
    <link href="zhangzef.com/2019/10/07/%E3%80%8A%E7%8E%B0%E4%BB%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%88%E7%AC%AC%E5%9B%9B%E7%89%88%EF%BC%89%E3%80%8B-%E8%AF%BE%E5%90%8E%E4%B9%A0%E9%A2%98%E7%AD%94%E6%A1%88-%E7%AC%AC%E4%B8%80%E7%AB%A0/"/>
    <id>zhangzef.com/2019/10/07/ã€Šç°ä»£æ“ä½œç³»ç»Ÿï¼ˆç¬¬å››ç‰ˆï¼‰ã€‹-è¯¾åä¹ é¢˜ç­”æ¡ˆ-ç¬¬ä¸€ç« /</id>
    <published>2019-10-07T09:26:30.000Z</published>
    <updated>2020-02-14T10:25:07.893Z</updated>
    
    <content type="html"><![CDATA[<p>è‡ªå·±å†™çš„ï¼Œå¯èƒ½ä¼šæœ‰é”™è¯¯ï¼Œæœ›å¤§å®¶æŒ‡æ­£ã€‚</p><h2 id="ç¬¬ä¸€é¢˜"><a href="#ç¬¬ä¸€é¢˜" class="headerlink" title="ç¬¬ä¸€é¢˜"></a>ç¬¬ä¸€é¢˜</h2><blockquote><p>  æ“ä½œç³»ç»Ÿçš„ä¸¤å¤§ä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆPage. 1ï¼‰</p></blockquote><p>è§£ï¼š</p><ol><li>ä¸ºç”¨æˆ·ç¨‹åºæä¾›ä¸€ä¸ªæ›´å¥½ã€æ›´ç®€å•ã€æ›´æ¸…æ™°çš„è®¡ç®—æœºæ¨¡å‹ã€‚</li><li>ç®¡ç†cpuã€ä¸»å­˜ã€ç£ç›˜ã€æ‰“å°æœºã€é”®ç›˜ã€é¼ æ ‡ã€æ˜¾ç¤ºå™¨ã€ç½‘ç»œæ¥å£ç­‰è®¾å¤‡ã€‚</li></ol><h2 id="ç¬¬äºŒé¢˜"><a href="#ç¬¬äºŒé¢˜" class="headerlink" title="ç¬¬äºŒé¢˜"></a>ç¬¬äºŒé¢˜</h2><blockquote><p>  åœ¨1.4èŠ‚ä¸­æè¿°äº†9ä¸­ä¸åŒç±»å‹çš„æ“ä½œç³»ç»Ÿï¼Œåˆ—ä¸¾æ¯ç§æ“ä½œç³»ç»Ÿçš„åº”ç”¨ï¼ˆæ¯ç§ç³»ç»Ÿä¸€ç§åº”ç”¨ï¼‰ã€‚ï¼ˆPage. 20ï¼‰</p></blockquote><p>è§£ï¼š</p><ol><li>å¤§å‹æœºæ“ä½œç³»ç»Ÿï¼ˆMainframe Operating Systemsï¼‰ï¼š<ul><li>æ‰¹å¤„ç†ç³»ç»Ÿåº”ç”¨äºä¿é™©å…¬å¸çš„ç´¢èµ”å¤„ç†æˆ–è¿é”å•†åº—çš„ç´¢èµ”æŠ¥å‘Š</li><li>äº‹åŠ¡å¤„ç†ç³»ç»Ÿåº”ç”¨äºé“¶è¡Œæ”¯ç¥¨å¤„ç†æˆ–èˆªç­é¢„å®š</li><li>åˆ†æ—¶ç³»ç»Ÿåº”ç”¨äºå¤§å‹æ•°æ®åº“çš„æŸ¥è¯¢</li></ul></li><li>æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼ˆServer Operating Systemsï¼‰ï¼š<ul><li>åº”ç”¨äºWebç«™ç‚¹ä¿å­˜é¡µé¢å¹¶å¤„ç†è¿›æ¥çš„è¯·æ±‚</li></ul></li><li>å¤šå¤„ç†å™¨æ“ä½œç³»ç»Ÿï¼ˆMultiprocessor Operating Systemsï¼‰ï¼š<ul><li>Windowså’ŒLinuxéƒ½å¯ä»¥è¿è¡Œåœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šï¼Œå¯è°“è®¡ç®—æœºå¸¦æ¥æ›´é«˜çš„æ€§èƒ½</li></ul></li><li>ä¸ªäººè®¡ç®—æœºæ“ä½œç³»ç»Ÿï¼ˆPersonal Computer Operating Systemsï¼‰ï¼š<ul><li>åº”ç”¨äºæ–‡å­—å¤„ç†ã€ç”µå­è¡¨æ ¼ã€æ¸¸æˆå’ŒInternetè®¿é—®</li></ul></li><li>æŒä¸Šè®¡ç®—æœºæ“ä½œç³»ç»Ÿï¼ˆHandheld Computer Operating Systemsï¼‰ï¼š<ul><li>æ‰‹æœºçš„æ“ä½œç³»ç»Ÿå¦‚Androidå’Œios</li></ul></li><li>åµŒå…¥å¼æ“ä½œç³»ç»Ÿï¼ˆEmbedded Operating Systemsï¼‰ï¼š<ul><li>åº”ç”¨äºå¾®æ³¢ç‚‰ã€å†°ç®±ã€ç”µè§†æœºã€æ™ºèƒ½å®¶å±…ã€æ±½è½¦ç­‰</li></ul></li><li>ä¼ æ„Ÿå™¨èŠ‚ç‚¹æ“ä½œç³»ç»Ÿï¼ˆSensor-Node Operating Systemsï¼‰ï¼š<ul><li>åº”ç”¨äºå»ºç­‘ç‰©å‘¨è¾¹ä¿æŠ¤ã€å›½åœŸè¾¹ç•Œä¿å«ã€æ£®æ—ç«ç¾æ¢æµ‹ã€æ°”è±¡é¢„æµ‹ç­‰</li></ul></li><li>å®æ—¶æ“ä½œç³»ç»Ÿï¼ˆReal-Time Operating Systemsï¼‰ï¼š<ul><li>ç¡¬å®æ—¶ç³»ç»Ÿåº”ç”¨äºå·¥ä¸šè¿‡ç¨‹æ§åˆ¶ã€æ°‘ç”¨èˆªç©ºã€å†›äº‹ç­‰</li><li>è½¯å®æ—¶ç³»ç»Ÿåº”ç”¨äºæ•°å­—éŸ³é¢‘æˆ–å¤šåª’ä½“ç³»ç»Ÿç­‰</li></ul></li><li>æ™ºèƒ½å¡æ“ä½œç³»ç»Ÿï¼ˆSmart Card Operating Systemsï¼‰ï¼š<ul><li>åº”ç”¨äºç”µå­æ”¯ä»˜ç­‰</li></ul></li></ol><h2 id="ç¬¬ä¸‰é¢˜"><a href="#ç¬¬ä¸‰é¢˜" class="headerlink" title="ç¬¬ä¸‰é¢˜"></a>ç¬¬ä¸‰é¢˜</h2><blockquote><p>  åˆ†æ—¶æ“ä½œç³»ç»Ÿå’Œå¤šé“ç¨‹åºç³»ç»Ÿçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆPage. 6ï¼‰</p></blockquote><p>è§£ï¼š</p><ul><li>åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼šæŒ‰ä¸€å®šæ—¶é—´é—´éš”å°†è®¡ç®—æœºçš„è½®æµåˆ†é…ç»™ç¨‹åºä½¿ç”¨ï¼Œç”±äºé—´éš”éå¸¸çŸ­ï¼Œæ‰€ä»¥å°±åƒæ¯ä¸ªç¨‹åºç‹¬å ä¸€æ ·ã€‚</li><li>å¤šé“ç¨‹åºç³»ç»Ÿï¼šå°†å†…å­˜åˆ†ä¸ºå‡ éƒ¨åˆ†å­˜æ”¾ä¸åŒçš„ç¨‹åºï¼Œä¸€ä¸ªç¨‹åºä¸èƒ½è®©cpuå’ŒI/Oè®¾å¤‡å§‹ç»ˆå¿™ç¢Œï¼Œå½“cpuçš„æ­£åœ¨æ‰§è¡Œçš„ä½œä¸šéœ€è¦ç­‰å¾…æŸä¸ªåŠ¨ä½œå®Œæˆæ‰èƒ½ç»§ç»­è¿›è¡Œï¼ˆå¦‚I/Oæ“ä½œå®Œæˆï¼‰ï¼Œå¦‚æœæ˜¯å•é“ç¨‹åºè®¾è®¡æ­¤æ—¶cpuä¼šç­‰å¾…ï¼Œè€Œå¤šé“ç¨‹åºè®¾è®¡åˆ™ä¼šè®©cpuå¼€å§‹å¤„ç†å¦ä¸€ä¸ªä½œä¸šï¼Œæé«˜äº†cpuçš„åˆ©ç”¨ç‡ã€‚</li><li>åŒºåˆ«ï¼šåˆ†æ—¶æ“ä½œç³»ç»Ÿæ˜¯æŒ‰ä¸€å®šæ—¶é—´é—´éš”å°†è®¡ç®—èµ„æºåˆ†é…ç»™ä¸åŒçš„ç¨‹åºï¼Œè€Œå¤šé“ç¨‹åºç³»ç»Ÿåˆ™æ˜¯åœ¨å½“å‰ä½œä¸šè¿›è¡Œå…¶ä»–åŠ¨ä½œæ—¶æ‰å›å»å¤„ç†åˆ«çš„ä½œä¸šã€‚</li></ul><h2 id="ç¬¬å››é¢˜"><a href="#ç¬¬å››é¢˜" class="headerlink" title="ç¬¬å››é¢˜"></a>ç¬¬å››é¢˜</h2><blockquote><p>  ä¸ºäº†ä½¿ç”¨é«˜é€Ÿç¼“å­˜ï¼Œä¸»å­˜è¢«åˆ’åˆ†ä¸ºè‹¥å¹²cacheè¡Œï¼Œé€šå¸¸æ¯è¡Œé•¿32æˆ–64å­—èŠ‚ã€‚æ¯æ¬¡ç¼“å­˜ä¸€æ•´ä¸ªcacheè¡Œã€‚æ¯æ¬¡ç¼“å­˜ä¸€æ•´è¡Œè€Œä¸æ˜¯ä¸€ä¸ªå­—èŠ‚æˆ–ä¸€ä¸ªå­—ï¼Œè¿™æ ·åšçš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p>è§£ï¼š</p><p>å› ä¸ºç¨‹åºå±€éƒ¨æ€§åŸç†ï¼Œå³å½“è¦è®¿é—®æŸä¸€ä¸ªå­—æˆ–å­—èŠ‚ï¼Œåˆ™å…¶åé¢çš„æ•°æ®è¢«è®¿é—®çš„æ¦‚ç‡å¾ˆå¤§ï¼Œè¿™æ ·å°±å¯ä»¥æé«˜ç¼“å­˜å‘½ä¸­çš„æ¦‚ç‡ã€‚</p><h2 id="ç¬¬äº”é¢˜"><a href="#ç¬¬äº”é¢˜" class="headerlink" title="ç¬¬äº”é¢˜"></a>ç¬¬äº”é¢˜</h2><blockquote><p>  åœ¨æ—©æœŸè®¡ç®—æœºä¸­ï¼Œæ¯ä¸ªå­—èŠ‚çš„è¯»å†™ç›´æ¥ç”±CPUå¤„ç†ï¼ˆå³æ²¡æœ‰DMAï¼‰ã€‚å¯¹äºå¤šé“ç¨‹åºè€Œè¨€è¿™ç§ç»„ç»‡æ–¹å¼æœ‰ä»€ä¹ˆå«ä¹‰ï¼Ÿ</p></blockquote><p>è§£ï¼š</p><p>DMAï¼ˆDirect Memory Accessï¼‰ç›´æ¥å­˜å‚¨å™¨è®¿é—®ï¼šå½“cpuè¦è¿›è¡ŒI/Oæ“ä½œæ—¶åªéœ€è¦å¯¹DMAæ§åˆ¶å™¨è¿›è¡Œè®¾ç½®ï¼Œä¹‹åDMAæ§åˆ¶å™¨ä¼šå®Œæˆcpuç»™å®šçš„å·¥ä½œï¼Œè€Œcpuå¯åœ¨æ­¤æ—¶ç©ºé—²ä¸‹æ¥å»å¤„ç†åˆ«çš„äº‹æƒ…ã€‚</p><p>å¦‚æœæ¯ä¸ªå­—èŠ‚çš„è¯»å†™æ˜¯ç”±cpuè¯»å†™ï¼Œåˆ™åœ¨I/Oæ“ä½œæ—¶cpuå°±ä¸èƒ½å¤„ç†å…¶ä»–ç¨‹åºä½œä¸šï¼Œæ­¤æ—¶cpuå°†è¢«I/Oæ“ä½œå ç”¨ï¼Œæ— æ³•ç©ºé—²ä¸‹æ¥ï¼Œç”±äºI/Oæ“ä½œè¿œæ…¢äºcpuçš„å¤„ç†é€Ÿåº¦ï¼Œcpuè¿è¡Œæ•ˆç‡ä¼šå¤§å¹…åº¦ä¸‹é™ã€‚è‹¥æœ‰DMAæ§åˆ¶å™¨åˆ™åœ¨è¾ƒæ…¢çš„I/Oæ“ä½œæ—¶cpuå¯ä»¥ç©ºé—²ä¸‹æ¥å»è¿è¡Œåˆ«çš„ä½œä¸šï¼Œä¼šä½¿è¿›è¡ŒI/Oæ“ä½œæ—¶cpuæ•ˆç‡å¤§å¹…åº¦æé«˜ï¼Œä¹Ÿæé«˜äº†å¤šé“ç¨‹åºè®¾è®¡çš„æ”¶ç›Šï¼ˆå¤šé“ç¨‹åºæ¦‚å¿µçœ‹ç¬¬ä¸‰é¢˜ï¼‰ã€‚</p><h2 id="ç¬¬å…­é¢˜"><a href="#ç¬¬å…­é¢˜" class="headerlink" title="ç¬¬å…­é¢˜"></a>ç¬¬å…­é¢˜</h2><blockquote><p>  ä¸è®¿é—®I/Oè®¾å¤‡ç›¸å…³çš„æŒ‡ä»¤é€šå¸¸æ˜¯ç‰¹æƒæŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬èƒ½åœ¨å†…æ ¸æ€æ‰§è¡Œè€Œåœ¨ç”¨æˆ·æ€åˆ™ä¸è¡Œï¼Œè¯´æ˜ä¸ºä»€ä¹ˆè¿™äº›æŒ‡ä»¤æ˜¯ç‰¹æƒæŒ‡ä»¤ã€‚</p></blockquote><p>è§£ï¼š</p><p>ç‰¹æƒæŒ‡ä»¤ï¼šå…·æœ‰ç‰¹æ®Šæƒé™çš„æŒ‡ä»¤ï¼Œåªèƒ½ç”±æ“ä½œç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨ç³»ç»Ÿçš„å†…æ ¸æ€è¿è¡Œã€‚</p><ol><li>æ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªä¸»è¦ä»»åŠ¡å°±æ˜¯ç»™ç”¨æˆ·æä¾›ä¸€ä¸ªè‰¯å¥½çš„è®¡ç®—æœºæ¨¡å‹ï¼Œç„¶è€Œè¿™ä¸€ä»»åŠ¡çš„ä¸€ä¸ªä¸»è¦å‡†åˆ™å°±æ˜¯å¼±åŒ–ç”¨æˆ·å¯¹ç¡¬ä»¶çš„æ„ŸçŸ¥ï¼Œè€ŒI/Oæ“ä½œå°±æ˜¯å¯¹ç¡¬ä»¶çš„ç›´æ¥æ“ä½œã€‚</li><li>è¿›è¡ŒI/Oæ“ä½œæ—¶æ“ä½œç³»ç»Ÿå¾€å¾€è¦æ£€æŸ¥ç›¸åº”æƒé™ï¼Œå¦‚æœI/Oæ“ä½œå¯ä»¥ç”±ç”¨æˆ·ä»»æ„è°ƒç”¨ï¼Œåˆ™ä¼šå®¹æ˜“å¼•å‘ç³»ç»Ÿå´©æºƒã€‚</li></ol><h2 id="ç¬¬ä¸ƒé¢˜"><a href="#ç¬¬ä¸ƒé¢˜" class="headerlink" title="ç¬¬ä¸ƒé¢˜"></a>ç¬¬ä¸ƒé¢˜</h2><blockquote><p>  ç³»åˆ—è®¡ç®—æœºçš„æ€æƒ³åœ¨20ä¸–ç•Œ60å¹´ä»£ç”±IBMå¼•å…¥System/360å¤§å‹æœºã€‚ç°åœ¨è¿™ç§æ€æƒ³æ˜¯æ¶ˆäº¡è¿˜æ˜¯å­˜æ´»ï¼Ÿ</p></blockquote><p>è§£ï¼š</p><p>è¿™è¿˜ç”¨é—®å—ï¼Œçœ‹çœ‹ä¸åŒç‰ˆæœ¬çš„ipadã€surfaceã€ç›¸åŒç³»åˆ—ä¸åŒé…ç½®çš„ç”µè„‘ã€‚ã€‚ã€‚</p><h2 id="ç¬¬å…«é¢˜"><a href="#ç¬¬å…«é¢˜" class="headerlink" title="ç¬¬å…«é¢˜"></a>ç¬¬å…«é¢˜</h2><blockquote><p>  ç¼“æ…¢é‡‡ç”¨GUIçš„ä¸€ä¸ªåŸå› æ˜¯æ”¯æŒä»–çš„ç¡¬ä»¶çš„æˆæœ¬é«˜æ˜‚ï¼Œä¸ºäº†æ”¯æŒ25è¡Œ80åˆ—çš„å•è‰²æ–‡æœ¬å±å¹•ï¼Œéœ€è¦å¤šå°‘è§†é¢‘RAMï¼Ÿå¯¹äº1024x768åƒç´ 24ä½è‰²å½©å›¾éœ€è¦å¤šå°‘RAMï¼Ÿåœ¨1980å¹´æ¯Kb 5ç¾å…ƒï¼Œè¿™äº›RAMæˆæœ¬æ˜¯å¤šå°‘ï¼Ÿç°åœ¨æˆæœ¬å¤šå°‘ï¼Ÿ</p></blockquote><ol><li>æ¯ä¸ªæ–‡æœ¬ä¸€ä¸ªå­—èŠ‚ï¼Œåˆ™25è¡Œ80åˆ—æœ€å¤§å°±æ˜¯25Ã—80å­—èŠ‚ï¼Œå³2000å­—èŠ‚è§†é¢‘RAM</li><li>1024Ã—768ä¸ªåƒç´ ï¼Œæ¯ä¸ªåƒç´ 24ä½ï¼Œä¸€å­—èŠ‚æœ‰8ä½ï¼Œåˆ™æ€»å…±æ˜¯1024Ã—768Ã—24Ã·8ï¼Œå³2359296å­—èŠ‚ï¼Œ2304KBã€‚</li><li>1980å¹´æˆæœ¬æ˜¯11520ç¾å…ƒï¼Œåœ¨ä»Šå¤©æŒ‰jdé‡‘å£«é¡¿8g 2400çš„å†…å­˜ä»·æ ¼ç®—æ˜¯0.03125äººæ°‘å¸æ¯KBï¼ˆè¿›åˆ¶ä¸º1024ï¼‰ï¼Œåˆ™å…¶æˆæœ¬æ˜¯72äººæ°‘å¸ï¼ŒæŒ‰å½“å‰ç¾å…ƒæ±‡ç‡æ˜¯10.0732ç¾å…ƒã€‚ <img src="http://image.zhangzef.com/TIMæˆªå›¾20191007235755.png" style="zoom:33%;"><img src="http://image.zhangzef.com/TIMæˆªå›¾20191007235417.png" alt></li></ol><h2 id="ç¬¬ä¹é¢˜"><a href="#ç¬¬ä¹é¢˜" class="headerlink" title="ç¬¬ä¹é¢˜"></a>ç¬¬ä¹é¢˜</h2><blockquote><p>  åœ¨å»ºç«‹ä¸€ä¸ªæ“ä½œç³»ç»Ÿæ—¶æœ‰å‡ ä¸ªè®¾è®¡ç›®çš„ï¼Œä¾‹å¦‚èµ„æºåˆ©ç”¨ã€åŠæ—¶æ€§ã€å¥å£®æ€§ç­‰ï¼Œè¯·åˆ—ä¸¾ä¸¤ä¸ªå¯èƒ½ç›¸äº’çŸ›ç›¾çš„è®¾è®¡ç›®çš„ã€‚</p></blockquote><p>è§£ï¼š</p><p>è€ƒè™‘ç¡¬å®æ—¶æ“ä½œç³»ç»Ÿï¼Œå…¶åŠæ—¶æ€§å’Œå¯é æ€§è¾ƒé«˜ï¼Œä½†æ˜¯å¥å£®æ€§è¾ƒå·®ï¼Œå½“å‡ºé”™æ—¶ä¼šå¯¼è‡´åç»­å·¥ä½œæ— æ³•è¿›è¡Œã€‚</p><h2 id="ç¬¬åé¢˜"><a href="#ç¬¬åé¢˜" class="headerlink" title="ç¬¬åé¢˜"></a>ç¬¬åé¢˜</h2><blockquote><p>  å†…æ ¸æ€å’Œç”¨æˆ·æ€æœ‰å“ªäº›åŒºåˆ«ï¼Ÿè§£é‡Šåœ¨è®¾è®¡æ“ä½œç³»ç»Ÿæ—¶å­˜åœ¨ä¸¤ç§ä¸åŒçš„æ¨¡å¼æœ‰ä»€ä¹ˆå¸®åŠ©ã€‚</p></blockquote><p>è§£ï¼š</p><ul><li>å†…æ ¸æ€ï¼šå¯ä»¥æ— é™åˆ¶åœ°å¯¹ç³»ç»Ÿå­˜å‚¨ã€å¤–éƒ¨è®¾å¤‡è¿›è¡Œè®¿é—®ï¼Œå…·æœ‰æœ€é«˜çº§åˆ«çš„æƒé™ï¼Œå¯ä»¥æ‰§è¡Œcpuçš„æ‰€æœ‰æŒ‡ä»¤ã€‚</li><li>ç”¨æˆ·æ€ï¼šè®¿é—®å—é™åˆ¶ï¼Œæ— æ³•è®¿é—®å¤–éƒ¨è®¾å¤‡ï¼Œæ— æ³•æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ã€‚</li><li>åŒºåˆ«ï¼šç›¸å¯¹ä¸ç”¨æˆ·æ€ï¼Œå†…æ ¸æ€æ‹¥æœ‰çš„æƒåŠ›æ›´é«˜ï¼Œè€Œç”¨æˆ·æ€è®¿é—®è®¾å¤‡éƒ½éœ€è¦å†…æ ¸æ€æ¥å¸®åŠ©ã€‚</li><li>å¯¹æ“ä½œç³»ç»Ÿçš„å¸®åŠ©ï¼š<ul><li>å¯ä»¥ä½¿ç”¨æˆ·ç¨‹åºä¸éœ€è¦æ¥è§¦åº•å±‚ç‰©ç†è®¾å¤‡çš„ç»†èŠ‚ï¼Œä»…ç”±ä¸€ä¸ªå‡½æ•°æ¥å®ç°ä¸€ç³»åˆ—å¤æ‚çš„å·¥ä½œã€‚</li><li>ä¿æŠ¤ç¡¬ä»¶ä¿¡æ¯ï¼Œå¯¹ç”¨æˆ·ç¨‹åºè¿›è¡Œé™åˆ¶ï¼Œå½“ç”¨æˆ·ç¨‹åºéœ€è¦è¿›è¡ŒæŸäº›ç¡¬ä»¶è®¿é—®ï¼Œå¯ä»¥å‘æ“ä½œç³»ç»Ÿç”³è¯·ï¼Œæ“ä½œç³»ç»Ÿä¼šæ£€æŸ¥å®ƒçš„æƒé™ã€‚</li></ul></li></ul><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><blockquote><p>  è¿™å‡ é¢˜éƒ½æ˜¯åæ€ç»´é¢˜ï¼Œè§‰å¾—è¿™ç§é¢˜è¦å…ˆåˆ—ä¸¾è¿™äº›ä¸œè¥¿çš„æ€§è´¨ï¼Œå†å¯¹æ¯”æ€»ç»“ã€‚</p><p>  æœ‰äº›åè¯ä¹¦ä¸Šæ²¡æœ‰è®²è§£ï¼Œåœ¨ç½‘ä¸Šçš„èµ„æ–™ä¹Ÿæ¯”è¾ƒå°‘ï¼Œå¯èƒ½ä¸å¤ªå‡†ç¡®</p></blockquote><h2 id="ç¬¬åä¸€é¢˜"><a href="#ç¬¬åä¸€é¢˜" class="headerlink" title="ç¬¬åä¸€é¢˜"></a>ç¬¬åä¸€é¢˜</h2><blockquote><p>  ä¸€ä¸ª255GBå¤§å°çš„ç£ç›˜æœ‰65535ä¸ªæŸ±é¢ï¼Œæ¯ä¸ªæŸ±é¢255ä¸ªæ‰‡åŒºã€‚æ¯ä¸ªæ‰‡åŒº512å­—èŠ‚ã€‚è¿™ä¸ªç£ç›˜æœ‰å¤šå°‘ç›˜ç‰‡å’Œç£å¤´ï¼Ÿå‡è®¾å¹³å‡å¯»é“æ—¶é—´ä¸º11ms,å¹³å‡æ—‹è½¬å»¶è¿Ÿä¸º7ms,è¯»å–é€Ÿåº¦100MB/s,è®¡ç®—ä»ä¸€ä¸ªæ‰‡åŒºè¯»å–400kbéœ€è¦çš„å¹³å‡æ—¶é—´ã€‚</p></blockquote><p>è§£ï¼š</p><p><img src="http://image.zhangzef.com/TIM%E6%88%AA%E5%9B%BE20191008155307.png" alt="img" style="zoom:33%;"></p><p>å¦‚å›¾ï¼Œçº¢è‰²ä¸ºä¸€ä¸ªæŸ±é¢ï¼Œè“è‰²ä¸ºæ‰‡åŒºï¼Œå³æ¯ä¸ªç›˜é¢æœ‰è‹¥å¹²æŸ±é¢ï¼Œæ¯ä¸ªæŸ±é¢æœ‰è‹¥å¹²æ‰‡åŒºï¼Œæ¯ä¸ªç›˜é¢æœ‰ä¸€ä¸ªç£å¤´ï¼Œæ¯ä¸ªç›˜ç‰‡æœ‰ä¸¤ä¸ªç›˜é¢ï¼Œä¹Ÿå³ä¸¤ä¸ªç£å¤´ã€‚ï¼ˆç”¨è§¦æ‘¸æ¿ç”»çš„ğŸ‘€ï¼‰</p><ul><li>ç”±æ­¤å¯å¾—æ¯ä¸ªç›˜é¢çš„å­˜å‚¨å®¹é‡ä¸º255Ã—512Ã—65535=â€­8556249600â€¬B=â€­8355712.5KBâ‰ˆ8160MBâ‰ˆ8G</li><li>æ‰€ä»¥ç›˜é¢æ•°å³ç£å¤´æ•°ä¸º255Ã·8â‰ˆ32</li><li>æ‰€ä»¥å…±æœ‰16ä¸ªç›˜ç‰‡</li><li>å¹³å‡æ—¶é—´=å¯»é“æ—¶é—´+æ—‹è½¬å»¶è¿Ÿ+è¯»å–æ—¶é—´ï¼š11ms+7ms+400kbÃ·(100MB/sÃ—1024Ã·1000)â‰ˆ22ms</li></ul><h2 id="ç¬¬åäºŒé¢˜"><a href="#ç¬¬åäºŒé¢˜" class="headerlink" title="ç¬¬åäºŒé¢˜"></a>ç¬¬åäºŒé¢˜</h2><blockquote><p>  ä¸‹é¢å“ªä¸€æ¡æŒ‡ä»¤åªèƒ½åœ¨å†…æ ¸æ€ä½¿ç”¨ï¼Ÿ</p><ul><li>a ç¦æ­¢æ‰€æœ‰çš„ä¸­æ–­</li><li>b è¯»æ—¥æœŸ-æ—¶é—´æ—¶é’Ÿ</li><li>c è®¾ç½®æ—¥æœŸ-æ—¶é—´æ—¶é’Ÿ</li><li>d æ”¹å˜å­˜å‚¨å™¨æ˜ åƒ</li></ul></blockquote><p>è§£ï¼šaã€cã€d</p><h2 id="ç¬¬åä¸‰é¢˜"><a href="#ç¬¬åä¸‰é¢˜" class="headerlink" title="ç¬¬åä¸‰é¢˜"></a>ç¬¬åä¸‰é¢˜</h2><blockquote><p>  è€ƒè™‘ä¸€ä¸ªæœ‰ä¸¤ä¸ªCPUçš„ç³»ç»Ÿï¼Œä¸”æ¯ä¸€ä¸ªCPUæœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼ˆè¶…çº¿ç¨‹ï¼‰ã€‚å‡è®¾æœ‰ä¸‰ä¸ªç¨‹åºP0ã€P1ã€P2ï¼Œåˆ†åˆ«ä»¥è¿è¡Œæ—¶é—´5ms, 10ms,20mså¼€å§‹ï¼Œè¿è¡Œè¿™äº›ç¨‹åºéœ€è¦å¤šå°‘æ—¶é—´ï¼Ÿå‡è®¾è¿™ä¸‰ä¸ªç¨‹åºéƒ½æ˜¯100%é™äºCPUï¼Œåœ¨è¿è¡Œæ—¶æ— é˜»èµ›ï¼Œå¹¶ä¸”ä¸€æ—¦è®¾å®šå°±ä¸æ”¹å˜CPUã€‚</p></blockquote><p>ä¸å¤ªç†è§£ä»–çš„çº¿ç¨‹è¦æ€ä¹ˆç®—ï¼Œçœ‹ç™¾åº¦ç™¾ç§‘è‹±ç‰¹å°”è¶…çº¿ç¨‹æŠ€æœ¯æ˜¯å°†cpuå†…éƒ¨ä½¿ç”¨é¢‘ç‡è¾ƒé«˜çš„éƒ¨ä»¶å¤åˆ¶ä¸€ä»½ï¼Œè¿™æ ·å°±å¯ä»¥æé«˜ä½¿ç”¨é¢‘ç‡è¾ƒä½çš„éƒ¨ä»¶çš„ä½¿ç”¨æ•ˆç‡ï¼Œå°±å¯ä»¥æŠŠä»–çœ‹æˆä¸¤ä¸ªé€»è¾‘çº¿ç¨‹ã€‚ä½†æ˜¯çœ‹ç½‘ä¸Šç­”æ¡ˆéƒ½æ²¡æœ‰è€ƒè™‘ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å·¥ä½œçš„é—®é¢˜ã€‚</p><h2 id="ç¬¬åå››é¢˜"><a href="#ç¬¬åå››é¢˜" class="headerlink" title="ç¬¬åå››é¢˜"></a>ç¬¬åå››é¢˜</h2><blockquote><p>  ä¸€å°è®¡ç®—æœºæœ‰ä¸€ä¸ªå››çº§æµæ°´çº¿ï¼Œæ¯ä¸€çº§éƒ½èŠ±è´¹ç›¸åŒçš„æ—¶é—´æ‰§è¡Œå…¶å·¥ä½œï¼Œå³1ns, è¿™å°æœºå™¨æ¯ç§’å¯æ‰§è¡Œå¤šå°‘æ¡æŒ‡ä»¤ï¼Ÿ</p></blockquote><p>è§£ï¼š</p><p>1s = 1000000000ns</p><p>åˆ†æˆå››çº§æµæ°´çº¿ï¼Œåº”è¯¥æ˜¯ä¸€æ¡æŒ‡ä»¤åˆ†æˆå››éƒ¨åˆ†ï¼Œå³æ¯æ¡æŒ‡ä»¤æ‰§è¡Œæ—¶é—´ä¸º4nsï¼Œå››çº§æµæ°´çº¿å›¾ç¤ºï¼š</p><p><img src="http://image.zhangzef.com/TIM%E6%88%AA%E5%9B%BE20191008170610.png" alt="img" style="zoom:33%;"></p><p>ç”±å›¾å¯æ¨ç®—å‡º10äº¿nså¯è¿è¡Œ1000000000-3æ¡æŒ‡ä»¤</p><h2 id="ç¬¬åäº”é¢˜"><a href="#ç¬¬åäº”é¢˜" class="headerlink" title="ç¬¬åäº”é¢˜"></a>ç¬¬åäº”é¢˜</h2><blockquote><p>  å‡è®¾ä¸€ä¸ªè®¡ç®—æœºç³»ç»Ÿæœ‰é«˜é€Ÿç¼“å­˜ã€å†…å­˜(RAM)ä»¥åŠç£ç›˜ï¼Œæ“ä½œç³»ç»Ÿç”¨è™šæ‹Ÿå†…å­˜ã€‚è¯»å–ç¼“å­˜ä¸­çš„ä¸€ä¸ªè¯éœ€è¦1ns, RAMéœ€è¦10ns, ç£ç›˜éœ€è¦10msã€‚å¦‚æœç¼“å­˜å‘½ä¸­ç‡æ˜¯95%ï¼Œ å†…å­˜çš„æ˜¯99%ï¼ˆç¼“å­˜å¤±æ•ˆæ—¶ï¼‰ï¼Œè¯»å–ä¸€ä¸ªè¯çš„å¹³å‡æ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ</p></blockquote><p>è§£ï¼š</p><p>10ms = 10000000ns</p><p>å¹³å‡æ—¶é—´å³ï¼š</p><ul><li><p>1nsÃ—0.95(ç¼“å­˜å‘½ä¸­)</p></li><li><p>+10nsÃ—0.05Ã—0.99(ç¼“å­˜æœªå‘½ä¸­å†…å­˜å‘½ä¸­)</p></li><li><p>+10000000nsÃ—0.05Ã—0.01(ç¼“å­˜å†…å­˜éƒ½æœªå‘½ä¸­)</p></li><li><p>=5001.455ns</p></li></ul><h2 id="ç¬¬åå…­é¢˜"><a href="#ç¬¬åå…­é¢˜" class="headerlink" title="ç¬¬åå…­é¢˜"></a>ç¬¬åå…­é¢˜</h2><blockquote><p>  åœ¨ç”¨æˆ·ç¨‹åºè¿›è¡Œä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œä»¥è¯»å†™ç£ç›˜æ–‡ä»¶æ—¶ï¼Œè¯¥ç¨‹åºæä¾›æŒ‡ç¤ºè¯´æ˜äº†æ‰€éœ€è¦çš„æ–‡ä»¶ï¼Œä¸€ä¸ªæŒ‡å‘æ•°æ®ç¼“å†²åŒºçš„æŒ‡é’ˆä»¥åŠè®¡æ•°ã€‚ç„¶åï¼Œæ§åˆ¶æƒè½¬ç»™æ“ä½œç³»ç»Ÿï¼Œå®ƒè°ƒç”¨ç›¸å…³çš„é©±åŠ¨ç¨‹åºã€‚å‡è®¾é©±åŠ¨ç¨‹åºå¯åŠ¨ç£ç›˜å¹¶ä¸”ç›´åˆ°ä¸­æ–­å‘ç”Ÿæ‰ç»ˆæ­¢ã€‚åœ¨ä»ç£ç›˜è¯»çš„æƒ…å†µä¸‹ï¼Œå¾ˆæ˜æ˜¾ï¼Œè°ƒç”¨è€…ä¼šè¢«é˜»å¡ï¼ˆå› ä¸ºæ–‡ä»¶ä¸­æ²¡æœ‰æ•°æ®ï¼‰ã€‚åœ¨å‘ç£ç›˜å†™æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿéœ€è¦æŠŠè°ƒç”¨è€…é˜»å¡ä¸€ç›´ç­‰åˆ°ç£ç›˜ä¼ é€å®Œæˆä¸ºæ­¢å—ï¼Ÿ</p></blockquote><p>ä¸å¤ªæ‡‚ã€‚ã€‚ã€‚</p><h2 id="ç¬¬åä¸ƒé¢˜"><a href="#ç¬¬åä¸ƒé¢˜" class="headerlink" title="ç¬¬åä¸ƒé¢˜"></a>ç¬¬åä¸ƒé¢˜</h2><blockquote><p>  ä»€ä¹ˆæ˜¯é™·é˜±æŒ‡ä»¤ï¼Ÿåœ¨æ“ä½œç³»ç»Ÿä¸­è§£é‡Šä»–çš„ç”¨é€”ã€‚</p></blockquote><p>è§£ï¼š</p><p>åœ¨ç½‘ä¸Šçœ‹åˆ°å¥½åƒå’ŒtarpæŒ‡ä»¤ç±»ä¼¼çš„è¿˜æœ‰ä¸€ä¸ªå«è®¿ç®¡æŒ‡ä»¤(è¿˜æœ‰äººè¯´ä¸¤ä¸ªå¤§è‡´ç›¸ç­‰ï¼Œæ²¡ææ˜ç™½ä¸¤ä¸ªæœ‰å•¥å…³ç³»)ï¼Œå¥½åƒæ˜¯å› ä¸ºå†…æ ¸æ€åˆå«ç®¡æ€ï¼Œç”¨æˆ·æ€åˆå«ç›®æ€ã€‚</p><p>trapæŒ‡ä»¤æ˜¯ä¸€ä¸ªéç‰¹æƒæŒ‡ä»¤ï¼Œä»–æ˜¯ä»ç”¨æˆ·æ€è¿›å…¥åˆ°å†…æ ¸æ€å”¯ä¸€çš„å…¥å£ï¼Œè¯¥æŒ‡ä»¤å…è®¸ç”¨æˆ·ç¨‹åºè°ƒç”¨ç‰¹æƒæŒ‡ä»¤ã€‚</p><h2 id="ç¬¬åå…«é¢˜"><a href="#ç¬¬åå…«é¢˜" class="headerlink" title="ç¬¬åå…«é¢˜"></a>ç¬¬åå…«é¢˜</h2><blockquote><p>  åˆ†æ—¶ç³»ç»Ÿä¸­ä¸ºä»€ä¹ˆéœ€è¦è¿›ç¨‹è¡¨ï¼Ÿåœ¨åªæœ‰ä¸€ä¸ªè¿›ç¨‹å­˜åœ¨çš„ä¸ªäººè®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œè¯¥è¿›ç¨‹æ§åˆ¶æ•´ä¸ªæœºå™¨ç›´åˆ°è¿›ç¨‹ç»“æŸï¼Œè¿™ç§æœºå™¨ä¹Ÿéœ€è¦è¿›ç¨‹è¡¨å—ï¼Ÿ</p></blockquote><p>è§£ï¼š</p><p>è¿›ç¨‹è¡¨æ˜¯ç”¨æ¥ç®¡ç†è¿›ç¨‹ï¼Œå½“åˆ†æ—¶ç³»ç»Ÿå°†æŸäº›è¿›ç¨‹æŒ‚èµ·æ—¶ï¼Œä»–ä»¬å°†è¿›å…¥è¿›ç¨‹è¡¨ï¼Œåˆ†æ—¶ç³»ç»Ÿä»è¿›ç¨‹è¡¨ä¸­å–å‡ºå¦ä¸€ä¸ªéœ€è¦å¤„ç†çš„è¿›ç¨‹ã€‚</p><p>å½“åªæœ‰ä¸€ä¸ªè¿›ç¨‹æ—¶ä¸éœ€è¦ï¼Œå› ä¸ºä»–æ— éœ€ç®¡ç†å…¶ä»–è¿›ç¨‹ã€‚</p><h2 id="ç¬¬åä¹é¢˜"><a href="#ç¬¬åä¹é¢˜" class="headerlink" title="ç¬¬åä¹é¢˜"></a>ç¬¬åä¹é¢˜</h2><blockquote><p>  è¯´æ˜æœ‰æ²¡æœ‰ç†ç”±åœ¨ä¸€ä¸ªéç©ºçš„ç›®å½•ä¸­å®‰è£…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æœè¿™æ ·åšï¼Œå¦‚ä½•åšï¼Ÿ</p></blockquote><p>ä¸å¤ªæ‡‚ï¼Œå¸Œæœ›æœ‰å¤§ä½¬èƒ½å¸®æˆ‘è§£ç­”ä¸€ä¸‹ã€‚</p><h2 id="ç¬¬äºŒåé¢˜"><a href="#ç¬¬äºŒåé¢˜" class="headerlink" title="ç¬¬äºŒåé¢˜"></a>ç¬¬äºŒåé¢˜</h2><blockquote><p>  å¯¹äºä¸‹åˆ—ç³»ç»Ÿè°ƒç”¨ï¼Œç»™å‡ºå¼•èµ·å¤±è´¥çš„æ¡ä»¶ï¼šfork,execä»¥åŠunlink.</p></blockquote><p>è§£ï¼š</p><ul><li>forkï¼šå¦‚æœåœ¨è¿›ç¨‹è¡¨ä¸­æ²¡æœ‰ç©ºé—²çš„å†…å­˜ç”¨äºåˆ›å»ºå­è¿›ç¨‹ï¼Œåˆ™è°ƒç”¨å¤±è´¥</li><li>execï¼šå½“å…¶å‚æ•°ä¸­æ‰§è¡Œçš„æ–‡ä»¶åç§°é”™è¯¯æ—¶</li><li>unlinkï¼šè¦åˆ é™¤çš„ç›®å½•ä¸å­˜åœ¨æˆ–è€…æƒé™ä¸è¶³æ—¶</li></ul><h2 id="ç¬¬äºŒåä¸€é¢˜"><a href="#ç¬¬äºŒåä¸€é¢˜" class="headerlink" title="ç¬¬äºŒåä¸€é¢˜"></a>ç¬¬äºŒåä¸€é¢˜</h2><blockquote><p>  ä¸‹åˆ—èµ„æºèƒ½ä½¿ç”¨å“ªç§å¤šè·¯å¤ç”¨ï¼ˆæ—¶é—´ã€ç©ºé—´æˆ–è€…ä¸¤è€…çš†å¯ï¼‰ï¼šCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘å¡ã€æ‰“å°æœºã€é”®ç›˜ä»¥åŠæ˜¾ç¤ºå™¨ï¼Ÿ</p></blockquote><p>è§£ï¼š</p><ul><li>æ—¶é—´å¤ç”¨ï¼šCPUã€ç½‘å¡ã€æ‰“å°æœºã€é”®ç›˜</li><li>ç©ºé—´å¤ç”¨ï¼šå†…å­˜ã€ç£ç›˜ã€</li><li>ä¸¤è€…çš†å¯ï¼šæ˜¾ç¤ºå™¨</li></ul><h2 id="ç¬¬äºŒåäºŒé¢˜"><a href="#ç¬¬äºŒåäºŒé¢˜" class="headerlink" title="ç¬¬äºŒåäºŒé¢˜"></a>ç¬¬äºŒåäºŒé¢˜</h2><blockquote><p>  åœ¨count = write(fd, buffer,nbytes);è°ƒç”¨ä¸­ï¼Œæ˜¯å¦èƒ½å°†å‡½æ•°è¿”å›å€¼ä¼ é€’ç»™ counté™¤nbteså˜é‡ä»¥å¤–çš„ä»»ä½•å€¼å—ï¼Ÿå¦‚æœèƒ½ï¼Œä¸ºä»€ä¹ˆï¼Ÿï¼ˆè¿™ç‚¹ä¹¦ä¸Šç¿»è¯‘é”™äº†ã€‚ã€‚ã€‚ï¼‰</p></blockquote><p>è§£ï¼š</p><p>writeè¿”å›å€¼ï¼šé€šå¸¸ä¸å‚æ•°nbytesç›¸åŒï¼Œå¦åˆ™è¡¨ç¤ºå‡ºé”™ã€‚</p><ol><li>è‹¥è¿”å›-1ï¼Œè¡¨ç¤ºwriteç³»ç»Ÿè°ƒç”¨é”™è¯¯ã€‚</li><li>è‹¥è¿”å›å€¼ä¸º0ï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å†™å…¥ä»»ä½•æ•°æ®</li></ol><h2 id="ç¬¬äºŒåä¸‰é¢˜"><a href="#ç¬¬äºŒåä¸‰é¢˜" class="headerlink" title="ç¬¬äºŒåä¸‰é¢˜"></a>ç¬¬äºŒåä¸‰é¢˜</h2><blockquote><p>  æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œå…¶æ–‡ä»¶æè¿°ç¬¦æ˜¯fdï¼Œå†…å«ä¸‹åˆ—å­—èŠ‚åºåˆ—ï¼š3ï¼Œ1ï¼Œ4ï¼Œ1ï¼Œ5ï¼Œ9ï¼Œ2ï¼Œ6ï¼Œ5ï¼Œ3ï¼Œ5ã€‚æœ‰å¦‚ä¸‹ç³»ç»Ÿè°ƒç”¨ï¼š</p>  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;   lseek(fd, <span class="number">3</span>, SEEK_SET);</span><br><span class="line">&gt;   read(fd, &amp;buffer, <span class="number">4</span>);</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>  å…¶ä¸­lseekè°ƒç”¨å¯»æ‰¾æ–‡ä»¶ä¸­çš„å­—èŠ‚3ã€‚åœ¨è¯»æ“ä½œå®Œæˆä¹‹åï¼Œbufferä¸­çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p>è§£ï¼š</p><p>lseekï¼šç”¨äºä¿®æ”¹æŒ‡é’ˆåœ¨æ–‡ä»¶ä¸­çš„ä½ç½®ã€‚ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºæ–‡ä»¶æè¿°ã€æ–‡ä»¶ä¸­çš„ä½ç½®ã€è¯´æ˜ç›¸å¯¹äºæ–‡ä»¶çš„èµ·å§‹ä½ç½®ï¼Œå½“å‰ä½ç½®è¿˜æ˜¯ç»“å°¾ã€‚å…¶è¿”å›å€¼æ˜¯æ–‡ä»¶ä¸­çš„ç»å¯¹ä½ç½®ã€‚</p><p>setæˆ‘æŸ¥çš„æœ‰start sth. happeningçš„æ„æ€ï¼Œä¹Ÿè®¸åœ¨è¿™é‡Œå°±æ˜¯å¼€å§‹çš„æ„æ€å§ï¼Œè¿™ä¸ªåå­—èµ·çš„å¥½æŠ½è±¡ï¼Œä»¥å‰éƒ½ä¸çŸ¥é“setè¿˜æœ‰å¼€å§‹çš„æ„æ€ã€‚ã€‚ã€‚æ‰€ä»¥SEEK_SETå°±æ˜¯ä»æ–‡ä»¶çš„å¼€å¤´ï¼Œä»å¼€å¤´ç®—èµ·ç¬¬ä¸‰ä¸ªå°±æ˜¯å­—ç¬¦<strong>1</strong>äº†ã€‚</p><p>é‚£readå°±æ˜¯ä»å­—ç¬¦1å¼€å§‹ç®—4ä¸ªå­—ç¬¦å³ï¼š1ï¼Œ5ï¼Œ9ï¼Œ2</p><blockquote><p>  æˆ‘ä¸å¤ªæ¸…æ¥šä»–çš„æŒ‡é’ˆæ˜¯ä»€ä¹ˆæœºåˆ¶ï¼Œä½†æ˜¯å½“è¿è¡Œå¦‚ä¸‹ä»£ç </p>  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;   lseek(fd, <span class="number">0</span>, SEEK_SET);<span class="comment">//å°†æŒ‡é’ˆè®¾ç½®åœ¨æ–‡ä»¶çš„èµ·å§‹ä½ç½®</span></span><br><span class="line">&gt;   <span class="comment">//æ‡’å¾—æ‰“å¼€Linuxè¯•äº†ï¼Œè¿˜è¦é‡å¯æ¢ç³»ç»Ÿ</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><ul><li>å¦‚æœæ–‡ä»¶èµ·å§‹ä½ç½®æ˜¯1ï¼Œå†™çš„æ—¶å€™æ˜¯ä¸ä¼šä»0å¼€å§‹å†™çš„ï¼Œå› ä¸º0ä¸æ˜¯ä¸€ä¸ªä½ç½®ï¼Œè€Œæ˜¯ä»1å¼€å§‹å†™ï¼Œä¹Ÿå³æŒ‡é’ˆä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œé‚£ä¹ˆlseekå°±ä¼šæŠŠæŒ‡é’ˆè®¾ç½®åœ¨ä¸‹ä¸€ä¸ªè¦è¯»å†™ä½ç½®çš„å‰é¢ï¼Œå³æ¯æ¬¡è¯»å†™éƒ½ä»æŒ‡é’ˆçš„ä¸‹ä¸€ä½å¼€å§‹è¯»å†™ï¼ˆå¥½åƒæœ‰äº›ç±»ä¼¼STLä¸­çš„rbeginè¿­ä»£å™¨ï¼Œæˆ‘ä¹Ÿè®°ä¸æ¸…æ¥šäº†ï¼‰ã€‚<strong>ä½†æ˜¯</strong>ï¼Œè¿™ä¸ªè¯´æ³•å’Œä¹¦ä¸Šçš„è¯´æ³•ç›¸<strong>çŸ›ç›¾</strong>ï¼Œä¹¦ä¸ŠPage. 32çš„1.6.2ä¸­è¯´â€œåœ¨é¡ºåºè¯»(å†™)æ—¶ï¼Œè¯¥æŒ‡é’ˆé€šå¸¸æŒ‡å‘è¦è¯»(å†™)çš„ä¸‹ä¸€ä¸ªå­—èŠ‚â€ã€‚</li><li>å¦‚æœæ–‡ä»¶èµ·å§‹ä½ç½®æ˜¯0ï¼Œé‚£ä¹ˆlseekä¼šå°†æŒ‡é’ˆè®¾ç½®åœ¨ç¬¬0ä½ï¼ŒæŒ‰ä¹¦ä¸Šè¯´ï¼Œä¸‹ä¸€æ¬¡å°†åœ¨ç¬¬0ä½å¼€å§‹è¯»(å†™)ï¼Œæ‰€ä»¥é¢˜ç›®ä¸­çš„3å¯èƒ½æŒ‡çš„å°±æ˜¯æ–‡ä»¶ä¸­çš„ç¬¬å››ä¸ªå­—ç¬¦ã€‚</li></ul></blockquote><h2 id="ç¬¬äºŒåå››é¢˜"><a href="#ç¬¬äºŒåå››é¢˜" class="headerlink" title="ç¬¬äºŒåå››é¢˜"></a>ç¬¬äºŒåå››é¢˜</h2><blockquote><p>  å‡è®¾ä¸€ä¸ª10MBçš„æ–‡ä»¶åœ¨ç£ç›˜è¿ç»­æ‰‡åŒºçš„åŒä¸€ä¸ªè½¨é“ä¸Šï¼ˆè½¨é“å·ï¼š50ï¼‰ã€‚ç£ç›˜çš„ç£å¤´è‡‚æ­¤æ—¶ä½äºç¬¬100å·è½¨é“ã€‚è¦æƒ³ä»ç£ç›˜ä¸Šæ‰¾å›è¿™ä¸ªæ–‡ä»¶ï¼Œéœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ å‡è®¾ç£å¤´è‡‚ä»ä¸€ä¸ªæŸ±é¢ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæŸ±é¢éœ€è¦1msï¼Œå½“æ–‡ä»¶çš„å¼€å§‹éƒ¨åˆ†å­˜å‚¨åœ¨çš„æ‰‡åŒºæ—‹è½¬åˆ°ç£å¤´ä¸‹éœ€è¦5msï¼Œå¹¶ä¸”è¯»çš„é€Ÿç‡æ˜¯200MB/sã€‚</p></blockquote><p>è§£ï¼š</p><p>è¯»å–æ–‡ä»¶æ—¶é—´ï¼š(10MB) Ã· (200MB/s) = 0.05s = 50ms</p><p>æ€»æ—¶é—´ï¼š50ms + 50ms + 5ms = 105ms</p><h2 id="ç¬¬äºŒåäº”é¢˜"><a href="#ç¬¬äºŒåäº”é¢˜" class="headerlink" title="ç¬¬äºŒåäº”é¢˜"></a>ç¬¬äºŒåäº”é¢˜</h2><blockquote><p>  å—ç‰¹æ®Šæ–‡ä»¶å’Œå­—ç¬¦ç‰¹æ®Šæ–‡ä»¶çš„åŸºæœ¬å·®åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p>è§£ï¼š</p><p>å¦‚æœä¸€ä¸ªç¡¬ä»¶è®¾å¤‡æ˜¯ä»¥å­—ç¬¦æµçš„æ–¹å¼è¢«è®¿é—®çš„è¯ï¼Œé‚£å°±åº”è¯¥å°†å®ƒå½’äºå­—ç¬¦è®¾å¤‡ï¼›åè¿‡æ¥ï¼Œå¦‚æœä¸€ä¸ªè®¾å¤‡æ˜¯éšæœºï¼ˆæ— åºçš„ï¼‰è®¿é—®çš„ï¼Œé‚£ä¹ˆå®ƒå°±å±äºå—è®¾å¤‡ã€‚å—è®¾å¤‡å¸¸è§çš„æ˜¯ç¡¬ç›˜ï¼Œè€Œå­—ç¬¦è®¾å¤‡å¸¸è§çš„æ˜¯é”®ç›˜ç­‰ã€‚</p><p>å—ç‰¹æ®Šæ–‡ä»¶å’Œå­—ç¬¦ç‰¹æ®Šæ–‡ä»¶åˆå«åšå—è®¾å¤‡å’Œå­—ç¬¦è®¾å¤‡ï¼Œåœ¨ç™¾åº¦æŸ¥å—ç‰¹æ®Šæ–‡ä»¶å’Œå­—ç¬¦ç‰¹æ®Šæ–‡ä»¶åŸºæœ¬æŸ¥ä¸åˆ°ä»€ä¹ˆæœ‰ç”¨çš„èµ„æ–™ï¼Œè¿˜èƒ½ç´¢å¼•åˆ°æœ‰é“è¯å…¸çš„ç¿»è¯‘æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿï¼Ÿï¼Ÿè¾£é¸¡ç™¾åº¦ã€‚ã€‚ã€‚è€ŒæŸ¥å—è®¾å¤‡å’Œå­—ç¬¦è®¾å¤‡è¿˜èƒ½æŸ¥åˆ°ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿ã€‚</p><h2 id="ç¬¬äºŒåå…­é¢˜"><a href="#ç¬¬äºŒåå…­é¢˜" class="headerlink" title="ç¬¬äºŒåå…­é¢˜"></a>ç¬¬äºŒåå…­é¢˜</h2><blockquote><p>  åœ¨å›¾1-17çš„ä¾‹å­ä¸­åº“è°ƒç”¨ç§°ä¸ºreadï¼Œè€Œç³»ç»Ÿè°ƒç”¨è‡ªèº«ç§°ä¸ºreadï¼Œè¿™ä¸¤è€…éƒ½æœ‰ç›¸é—®çš„åå­—æ˜¯æ­£å¸¸çš„å—ï¼Ÿ å¦‚æœä¸æ˜¯ï¼Œå“ªä¸€ä¸ªæ›´é‡è¦ï¼Ÿ</p><p>  <img src="http://image.zhangzef.com/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%86%85%E6%A0%B8%E8%B0%83%E7%94%A8.jpg" alt="img" style="zoom: 33%;"></p></blockquote><p>è§£ï¼š</p><p>ä¹¦ä¸ŠPage. 29è¯´â€œç¬¬ä¸ƒæ­¥ï¼šè·Ÿéšåœ¨TRAPæŒ‡ä»¤åçš„å†…æ ¸ä»£ç å¼€å§‹æ£€æŸ¥ç³»ç»Ÿè°ƒç”¨ç¼–å·ï¼Œç„¶ååˆ†é…ç»™æ­£ç¡®çš„ç³»ç»Ÿè°ƒç”¨å¤„ç†å™¨ï¼Œè¿™é€šå¸¸æ˜¯é€šè¿‡ä¸€å¼ ç”±ç³»ç»Ÿè°ƒç”¨ç¼–å·æ‰€å¼•ç”¨çš„ã€æŒ‡å‘ç³»ç»Ÿè°ƒç”¨å¤„ç†å™¨çš„æŒ‡é’ˆè¡¨æ¥å®Œæˆâ€ï¼Œ</p><p>å³è¿™äº›ç³»ç»Ÿè°ƒç”¨å…¶å®æ²¡æœ‰åå­—ï¼Œåªæ˜¯ä¸€äº›ç¼–å·ã€‚åº”è¯¥åœ¨ç”¨æˆ·æ€çš„readæ›´é‡è¦ï¼Œå› ä¸ºä»–è¦å†™æˆä»£ç ï¼Œæ›´æŠ½è±¡ä¸”å®¹æ˜“è¢«ç†è§£ã€‚</p><h2 id="ç¬¬äºŒåä¸ƒé¢˜"><a href="#ç¬¬äºŒåä¸ƒé¢˜" class="headerlink" title="ç¬¬äºŒåä¸ƒé¢˜"></a>ç¬¬äºŒåä¸ƒé¢˜</h2><blockquote><p>  ç°ä»£æ“ä½œç³»ç»Ÿå°†è¿›ç¨‹çš„åœ°å€ç©ºé—´ä»æœºå™¨ç‰©ç†å†…å­˜ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œåˆ—ä¸¾è¿™ç§è®¾è®¡çš„ä¸¤ä¸ªå¥½å¤„ã€‚</p></blockquote><p>è§£ï¼š</p><ol><li>ä»–ä¸ºè™šæ‹Ÿå†…å­˜æå‡ºå¥ å®šäº†åŸºç¡€ï¼Œå¦‚æœè¿›ç¨‹åœ°å€ç©ºé—´å’Œæœºå™¨å†…å­˜ä¸€ä¸€å¯¹åº”ï¼Œåˆ™å°±ä¸å¯èƒ½æœ‰è™šæ‹Ÿå†…å­˜å­˜åœ¨ã€‚</li><li>é˜²æ­¢å…¶ä»–æ¶æ„ç¨‹åºæˆ–è€…æœ‰bugçš„ç¨‹åºä¿®æ”¹åˆ«çš„ç¨‹åºçš„å†…å­˜ã€‚</li></ol><h2 id="ç¬¬äºŒåå…«é¢˜"><a href="#ç¬¬äºŒåå…«é¢˜" class="headerlink" title="ç¬¬äºŒåå…«é¢˜"></a>ç¬¬äºŒåå…«é¢˜</h2><blockquote><p>  å¯¹ç¨‹åºå‘˜è€Œè¨€ï¼Œç³»ç»Ÿè°ƒç”¨å°±åƒå¯¹å…¶ä»–åº“è¿‡ç¨‹çš„è°ƒç”¨ä¸€æ ·ã€‚æœ‰æ— å¿…è¦è®©ç¨‹åºå‘˜äº†è§£å“ªä¸€ä¸ªåº“è¿‡ç¨‹å¯¼è‡´äº†ç³»ç»Ÿè°ƒç”¨ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å½¢ä¸‹ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p></blockquote><p>è§£ï¼š</p><p>æˆ‘è®¤ä¸ºï¼Œä¸€ä¸ªå¥½çš„åº“ï¼Œåº”è¯¥æ˜¯æ›´æŠ½è±¡ã€ç¾è§‚ã€‚ä»–åº”è¯¥è®©ç¨‹åºå‘˜å¿½ç•¥é‚£äº›ç¡¬ä»¶ç»†èŠ‚å’Œç³»ç»Ÿç»†èŠ‚ä»¥è¾¾åˆ°æ›´é«˜æ•ˆçš„å¼€å‘ã€‚</p><h2 id="ç¬¬äºŒåä¹é¢˜"><a href="#ç¬¬äºŒåä¹é¢˜" class="headerlink" title="ç¬¬äºŒåä¹é¢˜"></a>ç¬¬äºŒåä¹é¢˜</h2><blockquote><p>  å›¾1-23è¯´æ˜æœ‰ä¸€æ‰¹UNIXçš„ç³»ç»Ÿè°ƒç”¨æ²¡æœ‰ä¸ä¹‹ç›¸ç­‰ä»·çš„Win32 APIï¼Œå¯¹äºæ‰€åˆ—å‡ºçš„æ¯ä¸€ä¸ªæ²¡æœ‰Win32ç­‰ä»·çš„è°ƒç”¨ï¼Œè‹¥ç¨‹åºå‘˜è¦æŠŠä¸€ä¸ªUNIXç¨‹åºè½¬æ¢åˆ°Windowsä¸‹è¿è¡Œï¼Œä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ</p><p>  <img src="http://image.zhangzef.com/IMG_20191009_181417.jpg" alt="img" style="zoom:33%;"></p></blockquote><p>è§£ï¼š</p><ul><li>linkï¼šåœ¨win32ä¸­æ–‡ä»¶å°†ä¸èƒ½ä»¥å¦ä¸€ä¸ªåå­—å‡ºç°åœ¨å…¶ä»–ç›®å½•ä¸­</li><li>mountå’Œunmountï¼šåœ¨win32ä¸­ä¸èƒ½åˆå¹¶ä¸¤ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå°±å¿…é¡»åˆ†æ¸…æ¥šå“ªäº›æ–‡ä»¶æ˜¯åœ¨å“ªä¸ªé©±åŠ¨å™¨ä¸Šé¢ã€‚</li><li>chmodï¼šåœ¨Win32ä¸­ä¸èƒ½çµæ´»æ”¹å˜æ–‡ä»¶çš„ä¿æŠ¤å±æ€§</li><li>killï¼šåœ¨Win32ä¸­ä¸èƒ½æ€æ­»å¤±å¸¸çš„ç¨‹åº</li></ul><h2 id="ç¬¬ä¸‰åé¢˜"><a href="#ç¬¬ä¸‰åé¢˜" class="headerlink" title="ç¬¬ä¸‰åé¢˜"></a>ç¬¬ä¸‰åé¢˜</h2><blockquote><p>  å¯ç§»æ¤çš„æ“ä½œç³»ç»Ÿæ˜¯èƒ½ä»ä¸€ä¸ªç³»ç»Ÿä½“ç³»ç»“æ„åˆ°å¦ä¸€ä¸ªä½“ç³»ç»“æ„çš„ç§»åŠ¨ä¸éœ€è¦ä»»ä½•ä¿®æ”¹çš„æ“ä½œç³»ç»Ÿã€‚è¯·è§£é‡Šä¸ºä»€ä¹ˆå»ºç«‹ä¸€ä¸ªå®Œå…¨å¯ç§»æ¤æ€§çš„æ“ä½œç³»ç»Ÿæ˜¯ä¸å¯è¡Œçš„ã€‚æè¿°ä¸€ä¸‹åœ¨è®¾è®¡ä¸€ä¸ªé«™åº¦å¯ç§»æ¤çš„æ“ä½œç³»ç»Ÿæ—¶ä½ è®¾è®¡çš„ä¸¤ä¸ªé«˜çº§å±‚æ˜¯ä»€ä¹ˆæ ·çš„ã€‚</p></blockquote><p>è§£ï¼š</p><ol><li>å› ä¸ºä¸åŒçš„ç¡¬ä»¶å¾€å¾€éƒ½æœ‰ç€è‡ªå·±ç‹¬æœ‰çš„æŒ‡ä»¤é›†ï¼Œè€ŒæŸäº›ç¡¬ä»¶ä¸“ç”¨äºå®ç°ä¸€äº›åŠŸèƒ½ï¼Œä¸åŒåŠŸèƒ½çš„æŒ‡ä»¤é›†å¾€å¾€å„ä¸ç›¸åŒã€‚å³ä½¿åŠŸèƒ½ç›¸åŒçš„ç¡¬ä»¶æŒ‡ä»¤é›†ä¹Ÿä¸å°½ç›¸åŒã€‚</li><li>åº”è¯¥æœ‰ä¸€ä¸ªç”¨äºå±è”½ç¡¬ä»¶ç»†èŠ‚å§ï¼Œç±»ä¼¼äºè®¡ç®—æœºç½‘ç»œä¸­çš„ç‰©ç†å±‚ã€‚å¦ä¸€ä¸ªä¸çŸ¥é“ã€‚ã€‚ã€‚ï¼ˆä»€ä¹ˆé¬¼é—®é¢˜ï¼Œæˆ‘å¯¹æ“ä½œç³»ç»Ÿè¿˜ä¸äº†è§£äº†ï¼Œä¸Šæ¥é—®è¿™ç§åŠé€€é—®é¢˜ï¼‰</li></ol><h2 id="ç¬¬ä¸‰åä¸€é¢˜"><a href="#ç¬¬ä¸‰åä¸€é¢˜" class="headerlink" title="ç¬¬ä¸‰åä¸€é¢˜"></a>ç¬¬ä¸‰åä¸€é¢˜</h2><blockquote><p>  è¯·è§£é‡Šåœ¨å»ºç«‹åŸºäºå¾®å†…æ ¸çš„æ“ä½œç³»ç»Ÿæ—¶ç­–ç•¥ä¸æœºåˆ¶çš„åˆ†ç¦»å¸¦æ¥çš„å¥½å¤„ã€‚</p></blockquote><p>è§£ï¼š</p><p>è®©å†…æ ¸ä½“ç§¯æ›´å°ï¼Œå°†å¤æ‚çš„ç­–ç•¥å®ç°äº¤ç»™ç”¨æˆ·æ€ï¼Œä½¿å†…æ ¸åšçš„äº‹æƒ…æ›´åŠ ä¸“ä¸€ï¼Œæ•ˆç‡æ›´é«˜ã€‚</p><h2 id="ç¬¬ä¸‰åäºŒé¢˜"><a href="#ç¬¬ä¸‰åäºŒé¢˜" class="headerlink" title="ç¬¬ä¸‰åäºŒé¢˜"></a>ç¬¬ä¸‰åäºŒé¢˜</h2><blockquote><p>  è™šæ‹Ÿæœºç”±äºå¾ˆå¤šå› ç´ è€Œååˆ†æµè¡Œï¼Œç„¶è€Œä»–ä»¬ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œç»™å‡ºä¸€ä¸ªç¼ºç‚¹ã€‚</p></blockquote><p>è§£ï¼š</p><p>è™šæ‹Ÿæœºå»ºç«‹åœ¨å®¿ä¸»æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œä¼šç»™å¤„ç†å™¨å’Œå†…å­˜å¸¦æ¥å¾ˆå¤§çš„å¼€é”€æ¥ä½¿è™šæ‹Ÿæœºçœ‹ä¼¼å’Œå®¿ä¸»æ“ä½œç³»ç»Ÿç›¸åŒã€‚</p><h2 id="ç¬¬ä¸‰åä¸‰é¢˜"><a href="#ç¬¬ä¸‰åä¸‰é¢˜" class="headerlink" title="ç¬¬ä¸‰åä¸‰é¢˜"></a>ç¬¬ä¸‰åä¸‰é¢˜</h2><blockquote><p>  ä¸‹é¢æ˜¯å•ä½è½¬æ¢çš„ç»ƒä¹ ï¼š</p><p>  a)ä¸€å¾®å¹´æ˜¯å¤šå°‘ç§’ï¼Ÿ</p><p>  b)å¾®ç±³å¸¸ç§°ä¸ºmicronã€‚é‚£ä¹ˆgigamicronæ˜¯å¤šé•¿ï¼Ÿ</p><p>  c) 1TBå­˜å‚¨å™¨ä¸­æœ‰å¤šå°‘å­—èŠ‚ï¼Ÿ</p><p>  d)åœ°çƒçš„è´¨é‡æ˜¯6000 yottagram, æ¢ç®—æˆkilogramæ˜¯å¤šå°‘ï¼Ÿ</p></blockquote><p>è§£ï¼š</p><ul><li>0.000001Ã—365Ã—24Ã—3600 = 31.536s</li><li>1000000000Ã—0.000001 = 1000m</li><li>2^40å­—èŠ‚</li><li>6Ã—10^21 kg</li></ul><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://blog.csdn.net/qq475703980/article/details/82534394" target="_blank" rel="noopener">ã€Šç°ä»£æ“ä½œç³»ç»Ÿï¼ˆä¸­æ–‡ç¬¬å››ç‰ˆï¼‰ã€‹è¯¾åä¹ é¢˜ç­”æ¡ˆ ç¬¬ä¸€ç«  å¼•è®º</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è‡ªå·±å†™çš„ï¼Œå¯èƒ½ä¼šæœ‰é”™è¯¯ï¼Œæœ›å¤§å®¶æŒ‡æ­£ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç¬¬ä¸€é¢˜&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€é¢˜&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€é¢˜&quot;&gt;&lt;/a&gt;ç¬¬ä¸€é¢˜&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;  æ“ä½œç³»ç»Ÿçš„ä¸¤å¤§ä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆPage. 1ï¼‰&lt;
      
    
    </summary>
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="zhangzef.com/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
      <category term="ç°ä»£æ“ä½œç³»ç»Ÿ" scheme="zhangzef.com/tags/%E7%8E%B0%E4%BB%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="è¯¾åä¹ é¢˜" scheme="zhangzef.com/tags/%E8%AF%BE%E5%90%8E%E4%B9%A0%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>Maven</title>
    <link href="zhangzef.com/2019/10/06/Maven/"/>
    <id>zhangzef.com/2019/10/06/Maven/</id>
    <published>2019-10-06T07:54:24.000Z</published>
    <updated>2020-02-14T10:54:58.604Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://pan.baidu.com/s/1h8P7aILAm9oJ2LD9ZKdGpA" target="_blank" rel="noopener">è§†é¢‘åˆ†äº«</a>     æå–ç ï¼šx8tf</p><h2 id="Mavençš„å¥½å¤„åŠæ¦‚è¦"><a href="#Mavençš„å¥½å¤„åŠæ¦‚è¦" class="headerlink" title="Mavençš„å¥½å¤„åŠæ¦‚è¦"></a>Mavençš„å¥½å¤„åŠæ¦‚è¦</h2><h3 id="mavençš„å¥½å¤„åŠæ ¸å¿ƒ"><a href="#mavençš„å¥½å¤„åŠæ ¸å¿ƒ" class="headerlink" title="mavençš„å¥½å¤„åŠæ ¸å¿ƒ"></a>mavençš„å¥½å¤„åŠæ ¸å¿ƒ</h3><p>æ™®é€šé¡¹ç›®é€šè¿‡æŠŠjaråŒ…å¤åˆ¶è¿›å·¥ç¨‹ï¼Œè€ŒMavenåˆ™æ˜¯å»ºç«‹ä¸€ä¸ªjaråŒ…ä»“åº“ï¼Œé€šè¿‡åæ ‡ï¼ˆå³å…¬å¸åç§°+é¡¹ç›®åç§°+ç‰ˆæœ¬å·ï¼‰æ¥å‘ä»“åº“ä¸­å¯»æ‰¾åæ ‡</p><p>mavençš„ä¸¤å¤§æ ¸å¿ƒï¼š</p><ul><li>ä¾èµ–ç®¡ç†ï¼šå¯¹jaråŒ…çš„ç®¡ç†è¿‡ç¨‹</li><li>é¡¹ç›®æ„å»ºï¼šé¡¹ç›®åœ¨ç¼–ç å®Œæˆåï¼Œå¯¹é¡¹ç›®è¿›è¡Œç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€éƒ¨ç½²ç­‰ä¸€ç³»åˆ—æ“ä½œé€šè¿‡å‘½ä»¤æ¥å®ç°<ul><li>é€šè¿‡mavenå‘½ä»¤å°†webé¡¹ç›®å‘å¸ƒåˆ°tomcatï¼šmvn tomcat:run</li></ul></li></ul><h2 id="mavençš„é…ç½®åŠä»“åº“"><a href="#mavençš„é…ç½®åŠä»“åº“" class="headerlink" title="mavençš„é…ç½®åŠä»“åº“"></a>mavençš„é…ç½®åŠä»“åº“</h2><h3 id="mavençš„ç»„æˆ"><a href="#mavençš„ç»„æˆ" class="headerlink" title="mavençš„ç»„æˆ"></a>mavençš„ç»„æˆ</h3><p>mavenæ–‡ä»¶ç»„æˆï¼š <img src="http://image.zhangzef.com/20200214183839.png" alt="img" style="zoom: 67%;"></p><p>æŸ¥è¯¢mavenç‰ˆæœ¬ä¿¡æ¯ï¼šcmdä¸­é”®å…¥mvn -v</p><h3 id="mavenä»“åº“ç±»å‹"><a href="#mavenä»“åº“ç±»å‹" class="headerlink" title="mavenä»“åº“ç±»å‹"></a>mavenä»“åº“ç±»å‹</h3><p><img src="http://image.zhangzef.com/20200214183840.png" alt="img" style="zoom: 67%;"></p><h2 id="mavené¡¹ç›®æ ‡å‡†ç›®å½•ç»“æ„"><a href="#mavené¡¹ç›®æ ‡å‡†ç›®å½•ç»“æ„" class="headerlink" title="mavené¡¹ç›®æ ‡å‡†ç›®å½•ç»“æ„"></a>mavené¡¹ç›®æ ‡å‡†ç›®å½•ç»“æ„</h2><ul><li>srcï¼šé¡¹ç›®æºç <ul><li>mainï¼šä¸»è¦ä»£ç <ul><li>javaï¼šjavaä»£ç </li><li>recourcesï¼šé…ç½®æ–‡ä»¶</li><li>webappï¼šé¡µé¢ç´ æï¼šjspæ–‡ä»¶ã€cssæ–‡ä»¶ç­‰ç­‰</li></ul></li><li>testï¼šå•å…ƒæµ‹è¯•<ul><li>javaï¼šå•å…ƒæµ‹è¯•ç±»</li></ul></li><li>tarjetï¼šå­˜æ”¾ç¼–è¯‘åçš„æ–‡ä»¶ï¼ˆä¸å±äºmavenæ ‡å‡†ç›®å½•ç»“æ„ï¼‰</li></ul></li><li>pom.xmlï¼šmavené¡¹ç›®æ ¸å¿ƒé…ç½®æ–‡ä»¶</li></ul><h2 id="mavenå¸¸ç”¨çš„å‘½ä»¤"><a href="#mavenå¸¸ç”¨çš„å‘½ä»¤" class="headerlink" title="mavenå¸¸ç”¨çš„å‘½ä»¤"></a>mavenå¸¸ç”¨çš„å‘½ä»¤</h2><h3 id="cleanï¼šæ¸…ç†å‘½ä»¤"><a href="#cleanï¼šæ¸…ç†å‘½ä»¤" class="headerlink" title="cleanï¼šæ¸…ç†å‘½ä»¤"></a>cleanï¼šæ¸…ç†å‘½ä»¤</h3><p>å°†å·²ç”Ÿæˆçš„.classæ–‡ä»¶æ¸…ç†æ‰ï¼ˆå°†æ ¹ç›®å½•ä¸‹çš„tarjetç›®å½•æ¸…ç†æ‰ï¼‰</p><h3 id="compileï¼šç¼–è¯‘å‘½ä»¤"><a href="#compileï¼šç¼–è¯‘å‘½ä»¤" class="headerlink" title="compileï¼šç¼–è¯‘å‘½ä»¤"></a>compileï¼šç¼–è¯‘å‘½ä»¤</h3><p>å°†.javaæ–‡ä»¶ç¼–è¯‘æˆ.classæ–‡ä»¶</p><h3 id="testï¼šæµ‹è¯•å‘½ä»¤"><a href="#testï¼šæµ‹è¯•å‘½ä»¤" class="headerlink" title="testï¼šæµ‹è¯•å‘½ä»¤"></a>testï¼šæµ‹è¯•å‘½ä»¤</h3><p>å°†é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼štest/javaç›®å½•ä¸‹çš„å•å…ƒæµ‹è¯•ç±»å…¨éƒ¨æ‰§è¡Œ</p><p>ç±»åå¿…é¡»æ˜¯XxxxTest.java</p><h3 id="packageï¼šæ‰“åŒ…å‘½ä»¤"><a href="#packageï¼šæ‰“åŒ…å‘½ä»¤" class="headerlink" title="packageï¼šæ‰“åŒ…å‘½ä»¤"></a>packageï¼šæ‰“åŒ…å‘½ä»¤</h3><p>åŠ¨æ€æ‰“åŒ…ï¼š</p><ul><li>web project â€¦â€¦waråŒ…</li><li>java project â€¦â€¦jaråŒ…</li></ul><p>å°†é¡¹ç›®æ‰“åŒ…åˆ°æ ¹ç›®å½•ä¸‹targetç›®å½•</p><h3 id="installï¼šå®‰è£…å‘½ä»¤"><a href="#installï¼šå®‰è£…å‘½ä»¤" class="headerlink" title="installï¼šå®‰è£…å‘½ä»¤"></a>installï¼šå®‰è£…å‘½ä»¤</h3><p>è§£å†³æœ¬åœ°å¤šä¸ªé¡¹ç›®å…¬ç”¨ä¸€ä¸ªjaråŒ…</p><p>å°†é¡¹ç›®æ‰“åŒ…åˆ°æœ¬åœ°ä»“åº“</p><h3 id="mavené¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#mavené¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="mavené¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸ"></a>mavené¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸ</h3><p>åœ¨mavené¡¹ç›®ä¸­å­˜åœ¨ä¸‰å¥—ç”Ÿå‘½å‘¨æœŸï¼Œæ¯ä¸€å¥—ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯ç›¸äº’ç‹¬ç«‹ï¼Œå³æ‰§è¡Œæ¯ä¸€å¥—ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘½ä»¤æ—¶ä¸ä¼šæ‰§è¡Œå…¶ä»–ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘½ä»¤ã€‚åœ¨ä¸€å¥—ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œæ‰§è¡Œåé¢çš„å‘½ä»¤ï¼Œå‰é¢çš„å‘½ä»¤ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚</p><p>ä¾‹ï¼šå½“æ‰§è¡Œinstallæ—¶å‘½ä»¤æ‰§è¡Œé¡ºåºï¼šcompile -&gt; test -&gt; package -&gt; install</p><ul><li>CleanLifeCycleï¼šæ¸…ç†ç”Ÿå‘½å‘¨æœŸ<ul><li>Cleanå‘½ä»¤</li></ul></li><li>DefaultLifeCycleï¼šé»˜è®¤ç”Ÿå‘½å‘¨æœŸï¼ˆä¸»è¦ï¼‰<ul><li>compileå‘½ä»¤</li><li>testå‘½ä»¤</li><li>packageå‘½ä»¤</li><li>installå‘½ä»¤</li><li>deployå‘½ä»¤</li></ul></li><li>SiteLifeCyï¼šç«™ç‚¹ç”Ÿå‘½å‘¨æœŸ<ul><li>siteå‘½ä»¤</li></ul></li></ul><h2 id="mavenæ•´åˆstruts2æ¡†æ¶"><a href="#mavenæ•´åˆstruts2æ¡†æ¶" class="headerlink" title="mavenæ•´åˆstruts2æ¡†æ¶"></a>mavenæ•´åˆstruts2æ¡†æ¶</h2><ol><li>é€šè¿‡å·¥å…·ç”Ÿæˆweb.xml</li><li>æ·»åŠ struts2ä¾èµ–</li><li>åˆ›å»ºstruts.xml</li><li>åˆ›å»ºactionç±»</li><li>åœ¨web.xmlä¸­é…ç½®struts2æ¡†æ¶æ ¸å¿ƒè¿‡æ»¤å™¨</li><li>ç¼–å†™actionä¸­æ–¹æ³•</li><li>åœ¨struts.xmlä¸­é…ç½®</li></ol><h2 id="mavenæ¦‚å¿µæ¨¡å‹"><a href="#mavenæ¦‚å¿µæ¨¡å‹" class="headerlink" title="mavenæ¦‚å¿µæ¨¡å‹"></a>mavenæ¦‚å¿µæ¨¡å‹</h2><p><img src="http://image.zhangzef.com/20200214183838.png" alt="img" style="zoom:50%;"></p><p>æ¦‚å¿µæ¨¡å‹å³ä¸¤å¤§æ ¸å¿ƒï¼š</p><ul><li>ä¾èµ–ç®¡ç†ï¼šé€šè¿‡pom.xmlæ–‡ä»¶å®Œæˆ</li><li>é¡¹ç›®æ„å»ºï¼šé€šè¿‡ç”Ÿå‘½å‘¨æœŸå®Œæˆ</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://pan.baidu.com/s/1h8P7aILAm9oJ2LD9ZKdGpA&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è§†é¢‘åˆ†äº«&lt;/a&gt;     æå–ç ï¼šx8tf&lt;/p&gt;
&lt;h2 id=&quot;Mavençš„å¥½å¤„åŠæ¦‚è¦&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="JavaWeb" scheme="zhangzef.com/categories/JavaWeb/"/>
    
    
      <category term="ä¾èµ–ç®¡ç†" scheme="zhangzef.com/tags/%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86/"/>
    
      <category term="Maven" scheme="zhangzef.com/tags/Maven/"/>
    
  </entry>
  
  <entry>
    <title>Spring--äºŒã€SpringåŸºäºæ³¨è§£çš„IOCåŠIOCçš„æ¡ˆä¾‹</title>
    <link href="zhangzef.com/2019/10/04/Spring--%E4%BA%8C%E3%80%81Spring%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84IOC%E5%8F%8AIOC%E7%9A%84%E6%A1%88%E4%BE%8B/"/>
    <id>zhangzef.com/2019/10/04/Spring--äºŒã€SpringåŸºäºæ³¨è§£çš„IOCåŠIOCçš„æ¡ˆä¾‹/</id>
    <published>2019-10-04T04:37:47.000Z</published>
    <updated>2020-02-14T10:55:12.077Z</updated>
    
    <content type="html"><![CDATA[<p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/av47952931/?p=1" target="_blank" rel="noopener">Spring5æ•™ç¨‹IDEAç‰ˆ-4å¤©-2018é»‘é©¬</a></p><p><a href="https://pan.baidu.com/s/1V5WhXOqkjQ0CuEA8Zj504A" target="_blank" rel="noopener">æ•™å­¦èµ„æº</a>    æå–ç ï¼šcwbz</p><p>åŸºäºæ³¨è§£çš„IOCé…ç½®å’Œxmlé…ç½®å®ç°çš„åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯é™ä½ç¨‹åºé—´çš„è€¦åˆï¼Œåªæ˜¯é…ç½®çš„å½¢å¼ä¸ä¸€æ ·ã€‚</p><h2 id="Springä¸­IOCçš„å¸¸ç”¨æ³¨è§£"><a href="#Springä¸­IOCçš„å¸¸ç”¨æ³¨è§£" class="headerlink" title="Springä¸­IOCçš„å¸¸ç”¨æ³¨è§£"></a>Springä¸­IOCçš„å¸¸ç”¨æ³¨è§£</h2><h3 id="æ³¨è§£åˆ†ç±»"><a href="#æ³¨è§£åˆ†ç±»" class="headerlink" title="æ³¨è§£åˆ†ç±»"></a>æ³¨è§£åˆ†ç±»</h3><ol><li>ç”¨äºåˆ›å»ºå¯¹è±¡çš„ï¼šä½œç”¨å’Œåœ¨xmlé…ç½®æ–‡ä»¶ä¸­å†™ä¸€ä¸ª<strong>bean</strong>æ ‡ç­¾å®ç°çš„åŠŸèƒ½ç›¸åŒ</li><li>ç”¨äºæ³¨å…¥æ•°æ®çš„ï¼šä½œç”¨å’Œåœ¨xmlé…ç½®ä¸­çš„beanæ ‡ç­¾ä¸­å†™ä¸€ä¸ª<strong>property</strong>æ ‡ç­¾åŠŸèƒ½ç›¸åŒ</li><li>ç”¨äºæ”¹å˜ä½œç”¨èŒƒå›´çš„ï¼šä½œç”¨å’Œbeanæ ‡ç­¾ä½¿ç”¨<strong>scope</strong>å±æ€§å®ç°åŠŸèƒ½ç›¸åŒ</li><li>å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³ï¼šä½œç”¨å’Œåœ¨beanæ ‡ç­¾ä¸­ä½¿ç”¨<strong>init-method</strong>å’Œ<strong>destory-method</strong>ä½œç”¨ç›¸åŒ</li></ol><h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><h5 id="å¯¼å…¥jaråŒ…"><a href="#å¯¼å…¥jaråŒ…" class="headerlink" title="å¯¼å…¥jaråŒ…"></a>å¯¼å…¥jaråŒ…</h5><p>åœ¨åŸºäºæ³¨è§£çš„é…ç½®ä¸­ï¼Œæˆ‘ä»¬è¿˜è¦å°†aopçš„jaråŒ…æ‹·è´åˆ°libç›®å½•</p><h4 id="ä½¿ç”¨-Componentæ³¨è§£é…ç½®ç®¡ç†çš„èµ„æº"><a href="#ä½¿ç”¨-Componentæ³¨è§£é…ç½®ç®¡ç†çš„èµ„æº" class="headerlink" title="ä½¿ç”¨@Componentæ³¨è§£é…ç½®ç®¡ç†çš„èµ„æº"></a>ä½¿ç”¨@Componentæ³¨è§£é…ç½®ç®¡ç†çš„èµ„æº</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è´¦æˆ·çš„ä¸šåŠ¡å±‚å®ç°ç±»  </span></span><br><span class="line"><span class="meta">@Component</span>(<span class="string">"accountService"</span>) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> IAccountDao accountDao; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAccountDao</span><span class="params">(IAccountDao accountDao)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.accountDao = accountDao; </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">//è´¦æˆ·çš„æŒä¹…å±‚å®ç°ç±» </span></span><br><span class="line"><span class="meta">@Component</span>(<span class="string">"accountDao"</span>) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountDaoImpl</span> <span class="keyword">implements</span> <span class="title">IAccountDao</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> DBAssit dbAssit; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong>å½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£æ³¨å…¥æ—¶ï¼Œsetæ–¹æ³•ä¸ç”¨å†™ã€‚</p><h4 id="åˆ›å»ºSpringçš„xmlé…ç½®æ–‡ä»¶å¹¶å¼€å¯å¯¹æ³¨è§£çš„æ”¯æŒ"><a href="#åˆ›å»ºSpringçš„xmlé…ç½®æ–‡ä»¶å¹¶å¼€å¯å¯¹æ³¨è§£çš„æ”¯æŒ" class="headerlink" title="åˆ›å»ºSpringçš„xmlé…ç½®æ–‡ä»¶å¹¶å¼€å¯å¯¹æ³¨è§£çš„æ”¯æŒ"></a>åˆ›å»ºSpringçš„xmlé…ç½®æ–‡ä»¶å¹¶å¼€å¯å¯¹æ³¨è§£çš„æ”¯æŒ</h4><p>å¯¼å…¥çº¦æŸæ—¶éœ€è¦å¤šå¯¼å…¥ä¸€ä¸ªcontextåç§°ç©ºé—´ä¸‹çš„çº¦æŸï¼Œå¹¶ä¸”å‘ŠçŸ¥Springåœ¨åˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ…ã€‚</p><h3 id="å¸¸ç”¨æ³¨è§£"><a href="#å¸¸ç”¨æ³¨è§£" class="headerlink" title="å¸¸ç”¨æ³¨è§£"></a>å¸¸ç”¨æ³¨è§£</h3><p>ç›¸å½“äºï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ç”¨äºåˆ›å»ºå¯¹è±¡çš„"><a href="#ç”¨äºåˆ›å»ºå¯¹è±¡çš„" class="headerlink" title="ç”¨äºåˆ›å»ºå¯¹è±¡çš„"></a>ç”¨äºåˆ›å»ºå¯¹è±¡çš„</h4><h5 id="Component"><a href="#Component" class="headerlink" title="@Component"></a>@Component</h5><ul><li>ä½œç”¨ï¼šæŠŠèµ„æºè®©Springæ¥ç®¡ç†ï¼Œç›¸å½“äºåœ¨xmlä¸­é…ç½®ä¸€ä¸ªbeanã€‚</li><li>å±æ€§ï¼š<ul><li>valueï¼šæŒ‡å®šbeançš„idã€‚å¦‚æœä¸æŒ‡å®švalueå±æ€§ï¼Œé»˜è®¤beançš„idæ˜¯å½“å‰ç±»çš„ç±»åï¼Œé¦–å­—æ¯å°å†™ã€‚</li></ul></li></ul><h5 id="Controller-Service-Repository"><a href="#Controller-Service-Repository" class="headerlink" title="@Controller     @Service     @Repository"></a>@Controller     @Service     @Repository</h5><p>è¿™ä¸‰ä¸ªæ³¨è§£å’ŒComponentæ³¨è§£çš„è¡ç”Ÿï¼Œä½œç”¨åŠå±æ€§éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œåªä¸è¿‡æä¾›äº†æ›´åŠ æ˜ç¡®çš„è¯­ä¹‰åŒ–ï¼š</p><ul><li>@Controllerï¼šä¸€èˆ¬ç”¨äº<strong>è¡¨ç°å±‚</strong>çš„æ³¨è§£</li><li>@Serviceï¼šä¸€èˆ¬ç”¨äº<strong>ä¸šåŠ¡å±‚</strong>çš„æ³¨è§£</li><li>@Repositoryï¼šä¸€èˆ¬ç”¨äº<strong>æŒä¹…å±‚</strong>çš„æ³¨è§£</li></ul><p>ç»†èŠ‚ï¼šå¦‚æœæ³¨è§£ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªå±æ€§è¦èµ‹å€¼æ—¶ï¼Œä¸”åç§°æ˜¯valueï¼Œvalueåœ¨èµ‹å€¼æ—¶å¯ä»¥ä¸å†™ã€‚</p><h4 id="ç”¨äºæ³¨å…¥æ•°æ®çš„"><a href="#ç”¨äºæ³¨å…¥æ•°æ®çš„" class="headerlink" title="ç”¨äºæ³¨å…¥æ•°æ®çš„"></a>ç”¨äºæ³¨å…¥æ•°æ®çš„</h4><p>ç›¸å½“äºï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">ref</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired"></a>@Autowired</h5><p>åœ¨Springçš„IOCå®¹å™¨ä¸­å¯»æ‰¾å˜é‡è‡ªåŠ¨æŒ‰ç±»å‹åŒ¹é…ã€‚ï¼ˆå®¹å™¨ä¸­çš„å˜é‡å³ç”¨@Componentæˆ–å…¶ä»–ä¸‰ä¸ªæ³¨è§£çš„å¯¹è±¡ï¼‰å½“ä½¿ç”¨æ³¨è§£æ³¨å…¥å±æ€§æ—¶ï¼Œsetæ–¹æ³•å¯ä»¥å¿½ç•¥ã€‚å®ƒåªèƒ½æ³¨å…¥å…¶ä»–beanç±»å‹ã€‚</p><p>ä½œç”¨ï¼š</p><ul><li>å½“åªæœ‰ä¸€ä¸ªå˜é‡çš„ç±»å‹åŒ¹é…æ—¶åˆ™æˆåŠŸã€‚</li><li>å½“æœ‰å¤šä¸ªå˜é‡çš„ç±»å‹åŒ¹é…æ—¶ï¼Œä½¿ç”¨è¦æ³¨è§£çš„å¯¹è±¡å˜é‡åç§°ä½œä¸ºbeançš„idï¼Œåœ¨Springçš„IOCå®¹å™¨ä¸­æŸ¥æ‰¾ï¼Œæ‰¾åˆ°äº†å°±å¯ä»¥æ³¨å…¥æˆåŠŸï¼Œæ‰¾ä¸åˆ°å°±æŠ¥é”™ã€‚</li></ul><p>å‡ºç°ä½ç½®ï¼š</p><p>â€‹    å¯ä»¥æ˜¯å˜é‡ä¸Šï¼Œä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•ä¸Šã€‚</p><h5 id="Qualifier"><a href="#Qualifier" class="headerlink" title="@Qualifier"></a>@Qualifier</h5><p>ä½œç”¨ï¼šåœ¨è‡ªåŠ¨æŒ‰ç…§ç±»å‹æ³¨å…¥çš„åŸºç¡€ä¹‹ä¸Šï¼Œå†æŒ‰ç…§Beançš„idæ³¨å…¥ã€‚å®ƒåœ¨ç»™å­—æ®µæ³¨å…¥æ—¶ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå¿…é¡»å’Œ@Autowiredä¸€èµ·ä½¿ç”¨ï¼›ä½†æ˜¯ç»™æ–¹æ³•å‚æ•°æ³¨å…¥æ—¶ï¼Œå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ã€‚</p><p>å±æ€§ï¼švalueï¼šæŒ‡å®šbeançš„idã€‚</p><h5 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a>@Resource</h5><p>ä½œç”¨ï¼šç›´æ¥æŒ‰ç…§Beançš„idæ³¨å…¥ã€‚å®ƒä¹Ÿåªèƒ½æ³¨å…¥å…¶ä»–beanç±»å‹ã€‚</p><p>å±æ€§ï¼šnameï¼šæŒ‡å®šbeançš„id</p><h5 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h5><p>ä½œç”¨ï¼šæ³¨å…¥åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringç±»å‹æ•°æ®çš„</p><p>å±æ€§ï¼š valueï¼šç”¨äºæŒ‡å®šå€¼ï¼ˆå¯ä»¥æ”¯æŒSpringçš„SpELè¡¨è¾¾å¼ï¼š${è¡¨è¾¾å¼}ï¼‰</p><h4 id="ç”¨äºæ”¹å˜ä½œç”¨èŒƒå›´çš„"><a href="#ç”¨äºæ”¹å˜ä½œç”¨èŒƒå›´çš„" class="headerlink" title="ç”¨äºæ”¹å˜ä½œç”¨èŒƒå›´çš„"></a>ç”¨äºæ”¹å˜ä½œç”¨èŒƒå›´çš„</h4><p>ç›¸å½“äº</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">""</span> <span class="attr">scope</span>=<span class="string">""</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="Scope"><a href="#Scope" class="headerlink" title="@Scope"></a>@Scope</h5><p>ä½œç”¨ï¼š æŒ‡å®šbeançš„ä½œç”¨èŒƒå›´ã€‚ </p><p>å±æ€§ï¼š valueï¼šæŒ‡å®šèŒƒå›´çš„å€¼ã€‚ å–å€¼ï¼š<strong>singleton</strong>    <strong>prototype</strong>    request    session    globalsession</p><h4 id="å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³ï¼ˆäº†è§£ï¼‰"><a href="#å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³ï¼ˆäº†è§£ï¼‰" class="headerlink" title="å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³ï¼ˆäº†è§£ï¼‰"></a>å’Œç”Ÿå‘½å‘¨æœŸç›¸å…³ï¼ˆäº†è§£ï¼‰</h4><p>ç›¸å½“äº</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">""</span> <span class="attr">init-method</span>=<span class="string">""</span> <span class="attr">destroy-method</span>=<span class="string">""</span> /&gt;</span></span><br></pre></td></tr></table></figure><h5 id="PostConstruct"><a href="#PostConstruct" class="headerlink" title="@PostConstruct"></a>@PostConstruct</h5><p>ä½œç”¨ï¼š ç”¨äºæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ã€‚</p><h5 id="PreDestroy"><a href="#PreDestroy" class="headerlink" title="@PreDestroy"></a>@PreDestroy</h5><p>ä½œç”¨ï¼š ç”¨äºæŒ‡å®šé”€æ¯æ–¹æ³•ã€‚</p><h3 id="å…³äºSpringæ³¨è§£å’ŒXMLçš„é€‰æ‹©é—®é¢˜"><a href="#å…³äºSpringæ³¨è§£å’ŒXMLçš„é€‰æ‹©é—®é¢˜" class="headerlink" title="å…³äºSpringæ³¨è§£å’ŒXMLçš„é€‰æ‹©é—®é¢˜"></a>å…³äºSpringæ³¨è§£å’ŒXMLçš„é€‰æ‹©é—®é¢˜</h3><ul><li>æ³¨è§£çš„ä¼˜åŠ¿ï¼š é…ç½®ç®€å•ï¼Œç»´æŠ¤æ–¹ä¾¿ï¼ˆæˆ‘ä»¬æ‰¾åˆ°ç±»ï¼Œå°±ç›¸å½“äºæ‰¾åˆ°äº†å¯¹åº”çš„é…ç½®ï¼‰ã€‚ </li><li>XMLçš„ä¼˜åŠ¿ï¼š ä¿®æ”¹æ—¶ï¼Œä¸ç”¨æ”¹æºç ã€‚ä¸æ¶‰åŠé‡æ–°ç¼–è¯‘å’Œéƒ¨ç½²ã€‚</li></ul><p>ä¸¤è€…æ¯”è¾ƒï¼š<img src="http://image.zhangzef.com/20200214184212.png" alt="img" style="zoom: 67%;"></p><h2 id="æ¡ˆä¾‹ä½¿ç”¨xmlæ–¹å¼å’Œæ³¨è§£æ–¹å¼å®ç°å•è¡¨çš„CRUDæ“ä½œ"><a href="#æ¡ˆä¾‹ä½¿ç”¨xmlæ–¹å¼å’Œæ³¨è§£æ–¹å¼å®ç°å•è¡¨çš„CRUDæ“ä½œ" class="headerlink" title="æ¡ˆä¾‹ä½¿ç”¨xmlæ–¹å¼å’Œæ³¨è§£æ–¹å¼å®ç°å•è¡¨çš„CRUDæ“ä½œ"></a>æ¡ˆä¾‹ä½¿ç”¨xmlæ–¹å¼å’Œæ³¨è§£æ–¹å¼å®ç°å•è¡¨çš„CRUDæ“ä½œ</h2><p>CRUDå³å¢(Create)ã€æŸ¥(Retrieve)ã€æ”¹(Update)ã€åˆ (Delete)</p><p>æ­¤å¤„å¯çœ‹é“¾æ¥è§†é¢‘çš„P35-P38</p><h2 id="æ”¹é€ åŸºäºæ³¨è§£çš„IOCæ¡ˆä¾‹ï¼Œä½¿ç”¨çº¯æ³¨è§£çš„æ–¹å¼å®ç°"><a href="#æ”¹é€ åŸºäºæ³¨è§£çš„IOCæ¡ˆä¾‹ï¼Œä½¿ç”¨çº¯æ³¨è§£çš„æ–¹å¼å®ç°" class="headerlink" title="æ”¹é€ åŸºäºæ³¨è§£çš„IOCæ¡ˆä¾‹ï¼Œä½¿ç”¨çº¯æ³¨è§£çš„æ–¹å¼å®ç°"></a>æ”¹é€ åŸºäºæ³¨è§£çš„IOCæ¡ˆä¾‹ï¼Œä½¿ç”¨çº¯æ³¨è§£çš„æ–¹å¼å®ç°</h2><p>ç»è¿‡ä¸Šé¢çš„æ”¹é€ ï¼Œæˆ‘ä»¬è¿˜æœ‰å‡ ç§é…ç½®éœ€è¦ä»xmlæ”¹æˆæ³¨è§£é…ç½®ã€‚</p><h3 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h3><p>ä½œç”¨ï¼š ç”¨äºæŒ‡å®šå½“å‰ç±»æ˜¯ä¸€ä¸ªspringé…ç½®ç±»ï¼Œå½“åˆ›å»ºå®¹å™¨æ—¶ä¼šä»è¯¥ç±»ä¸ŠåŠ è½½æ³¨è§£ã€‚è·å–å®¹å™¨æ—¶éœ€è¦ä½¿ç”¨AnnotationApplicationContext(æœ‰@Configurationæ³¨è§£çš„ç±».class)ã€‚ </p><p>å±æ€§ï¼š value:ç”¨äºæŒ‡å®šé…ç½®ç±»çš„å­—èŠ‚ç </p><h3 id="ComponentScan"><a href="#ComponentScan" class="headerlink" title="@ComponentScan"></a>@ComponentScan</h3><p>ä½œç”¨ï¼š ç”¨äºæŒ‡å®šspringåœ¨åˆå§‹åŒ–å®¹å™¨æ—¶è¦æ‰«æçš„åŒ…ã€‚ä½œç”¨å’Œåœ¨springçš„xmlé…ç½®æ–‡ä»¶ä¸­çš„ï¼š &lt;context:component-scan base-package=â€com.itheimaâ€/&gt;æ˜¯ä¸€æ ·çš„ã€‚ </p><p>å±æ€§ï¼š basePackagesï¼šç”¨äºæŒ‡å®šè¦æ‰«æçš„åŒ…ã€‚å’Œè¯¥æ³¨è§£ä¸­çš„valueå±æ€§ä½œç”¨ä¸€æ ·ã€‚</p><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> </span><br><span class="line"><span class="meta">@ComponentScan</span>(<span class="string">"com.itheima"</span>) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfiguration</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure><h3 id="Bean"><a href="#Bean" class="headerlink" title="@Bean"></a>@Bean</h3><p>ä½œç”¨ï¼š è¯¥æ³¨è§£åªèƒ½å†™åœ¨æ–¹æ³•ä¸Šï¼Œè¡¨æ˜ä½¿ç”¨æ­¤æ–¹æ³•åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå°†æ–¹æ³•çš„è¿”å›å€¼æ”¾å…¥springå®¹å™¨ã€‚ </p><p>å±æ€§ï¼š nameï¼šç»™å½“å‰@Beanæ³¨è§£æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡æŒ‡å®šä¸€ä¸ªåç§°(å³beançš„idï¼‰ï¼ˆå½“ä¸å†™æ—¶é»˜è®¤ä¸ºå½“å‰æ–¹æ³•çš„åå­—ï¼‰ã€‚</p><p>ç»†èŠ‚ï¼šå½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£é…ç½®æ–¹æ³•æ—¶ï¼Œå¦‚æœæ–¹æ³•æœ‰å‚æ•°ï¼Œspringæ¡†æ¶ä¼šå»å®¹å™¨ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å¯ç”¨çš„beanå¯¹è±¡ï¼ŒæŸ¥æ‰¾æ–¹å¼å’ŒAutowiredæ³¨è§£çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚</p><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span>(name=<span class="string">"dbAssit"</span>) </span><br><span class="line"><span class="function"><span class="keyword">public</span> DBAssit <span class="title">createDBAssit</span><span class="params">(DataSource dataSource)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> DBAssit(dataSource); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Import"><a href="#Import" class="headerlink" title="@Import"></a>@Import</h3><p>ä½œç”¨ï¼š ç”¨äºå¯¼å…¥å…¶ä»–é…ç½®ç±»ï¼Œåœ¨å¼•å…¥å…¶ä»–é…ç½®ç±»æ—¶ï¼Œå¯ä»¥ä¸ç”¨å†å†™@Configurationæ³¨è§£ã€‚å½“ç„¶ï¼Œå†™ä¸Šä¹Ÿæ²¡é—®é¢˜ã€‚ æœ‰importçš„ä¸ºçˆ¶é…ç½®ç±»ï¼Œå¯¼å…¥çš„æ˜¯å­é…ç½®ç±»ã€‚</p><p>å±æ€§ï¼š value[]ï¼šç”¨äºæŒ‡å®šå…¶ä»–é…ç½®ç±»çš„å­—èŠ‚ç ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> </span><br><span class="line"><span class="meta">@ComponentScan</span>(basePackages = <span class="string">"com.itheima.spring"</span>) </span><br><span class="line"><span class="meta">@Import</span>(&#123; JdbcConfig.class&#125;) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfiguration</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure><h3 id="PropertySource"><a href="#PropertySource" class="headerlink" title="@PropertySource"></a>@PropertySource</h3><p>ä½œç”¨ï¼šç”¨äºåŠ è½½.propertiesæ–‡ä»¶ä¸­çš„é…ç½®ã€‚ä¾‹å¦‚æˆ‘ä»¬é…ç½®æ•°æ®æºæ—¶ï¼Œå¯ä»¥æŠŠè¿æ¥æ•°æ®åº“çš„ä¿¡æ¯å†™åˆ°propertiesé…ç½®æ–‡ä»¶ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨æ­¤æ³¨è§£æŒ‡å®špropertiesé…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚</p><p>å±æ€§ï¼š value[]ï¼šç”¨äºæŒ‡å®špropertiesæ–‡ä»¶ä½ç½®ã€‚å¦‚æœæ˜¯åœ¨ç±»è·¯å¾„ä¸‹ï¼Œéœ€è¦å†™ä¸Šclasspath:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">jdbc.propertiesæ–‡ä»¶ï¼š </span><br><span class="line">jdbc.driver=com.mysql.jdbc.Driver </span><br><span class="line">jdbc.url=jdbc:mysql:<span class="comment">//localhost:3306/day44_ee247_spring</span></span><br><span class="line">jdbc.username=root </span><br><span class="line">jdbc.password=<span class="number">1234</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span> </span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"classpath:jdbc.properties"</span>) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcConfig</span></span>&#123; &#125;</span><br></pre></td></tr></table></figure><h2 id="Springå’ŒJunitçš„æ•´åˆ"><a href="#Springå’ŒJunitçš„æ•´åˆ" class="headerlink" title="Springå’ŒJunitçš„æ•´åˆ"></a>Springå’ŒJunitçš„æ•´åˆ</h2><p>JUnitæ˜¯ä¸€ä¸ªJavaç¼–ç¨‹è¯­è¨€çš„å•å…ƒæµ‹è¯•æ¡†æ¶ã€‚</p><h3 id="é—®é¢˜åŠè§£å†³æ€è·¯"><a href="#é—®é¢˜åŠè§£å†³æ€è·¯" class="headerlink" title="é—®é¢˜åŠè§£å†³æ€è·¯"></a>é—®é¢˜åŠè§£å†³æ€è·¯</h3><p>åœ¨æµ‹è¯•ç±»ä¸­ï¼Œæ¯ä¸ªæµ‹è¯•æ–¹æ³•éƒ½æœ‰ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼š </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">IAccountService as = ac.getBean(<span class="string">"accountService"</span>,IAccountService.class);</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤è¡Œä»£ç çš„ä½œç”¨åˆ†åˆ«æ˜¯è·å–å®¹å™¨å’Œåˆ›å»ºä¸šåŠ¡å±‚å¯¹è±¡ï¼Œå¦‚æœä¸å†™çš„è¯ï¼Œç›´æ¥ä¼šæç¤ºç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚æ‰€ä»¥åˆä¸èƒ½è½»æ˜“åˆ æ‰ã€‚ä½†æ˜¯æµ‹è¯•äººå‘˜ä¸ä¼šç®¡ä½ ä½¿ç”¨çš„åˆ°åº•æ˜¯ä»€ä¹ˆæ¡†æ¶ï¼Œæ‰€ä»¥å¯èƒ½ä»–æ ¹æœ¬ä¸çŸ¥é“å®¹å™¨æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦çš„æ˜¯<strong>ç¨‹åºèƒ½è‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºå®¹å™¨</strong>ã€‚</p><p>Junitçš„ä¸€ä¸ªæ³¨è§£å¯ä»¥è®©æˆ‘ä»¬æ›¿æ¢ä»–çš„è¿è¡Œå™¨ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªæ³¨è§£å°†è¿è¡Œå™¨æ›¿æ¢ä¸ºspringæ¡†æ¶çš„è¿è¡Œå™¨ï¼Œå®ƒå¯ä»¥è¯»å–é…ç½®æ–‡ä»¶ï¼ˆæˆ–æ³¨è§£ï¼‰æ¥åˆ›å»ºå®¹å™¨ã€‚æˆ‘ä»¬åªéœ€è¦å‘Šè¯‰å®ƒé…ç½®æ–‡ä»¶åœ¨å“ªå°±è¡Œäº†ã€‚</p><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><h4 id="å¯¼å…¥jaråŒ…-1"><a href="#å¯¼å…¥jaråŒ…-1" class="headerlink" title="å¯¼å…¥jaråŒ…"></a>å¯¼å…¥jaråŒ…</h4><p>å¯¼å…¥spring-testçš„jaråŒ…å’Œspring-aopçš„jaråŒ…ã€‚</p><h4 id="ä½¿ç”¨-RunWithæ³¨è§£æ›¿æ¢åŸæœ‰è¿è¡Œå™¨"><a href="#ä½¿ç”¨-RunWithæ³¨è§£æ›¿æ¢åŸæœ‰è¿è¡Œå™¨" class="headerlink" title="ä½¿ç”¨@RunWithæ³¨è§£æ›¿æ¢åŸæœ‰è¿è¡Œå™¨"></a>ä½¿ç”¨@RunWithæ³¨è§£æ›¿æ¢åŸæœ‰è¿è¡Œå™¨</h4><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceTest</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨-ContextConfigurationæŒ‡å®šspringé…ç½®æ–‡ä»¶çš„ä½ç½®"><a href="#ä½¿ç”¨-ContextConfigurationæŒ‡å®šspringé…ç½®æ–‡ä»¶çš„ä½ç½®" class="headerlink" title="ä½¿ç”¨@ContextConfigurationæŒ‡å®šspringé…ç½®æ–‡ä»¶çš„ä½ç½®"></a>ä½¿ç”¨@ContextConfigurationæŒ‡å®šspringé…ç½®æ–‡ä»¶çš„ä½ç½®</h4><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class) </span><br><span class="line"><span class="meta">@ContextConfiguration</span>(locations= &#123;<span class="string">"classpath:bean.xml"</span>&#125;) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceTest</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure><p>@ContextConfigurationæ³¨è§£ï¼š </p><ul><li>locationså±æ€§ï¼šç”¨äºæŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚å¦‚æœæ˜¯ç±»è·¯å¾„ä¸‹ï¼Œéœ€è¦ç”¨classpath:è¡¨æ˜ </li><li>classeså±æ€§ï¼šç”¨äºæŒ‡å®šæ³¨è§£çš„ç±»ã€‚å½“ä¸ä½¿ç”¨xmlé…ç½®æ—¶ï¼Œéœ€è¦ç”¨æ­¤å±æ€§æŒ‡å®šæ³¨è§£ç±»çš„ä½ç½®ã€‚</li></ul><h4 id="ä½¿ç”¨-Autowiredç»™æµ‹è¯•ç±»ä¸­çš„å˜é‡æ³¨å…¥æ•°æ®"><a href="#ä½¿ç”¨-Autowiredç»™æµ‹è¯•ç±»ä¸­çš„å˜é‡æ³¨å…¥æ•°æ®" class="headerlink" title="ä½¿ç”¨@Autowiredç»™æµ‹è¯•ç±»ä¸­çš„å˜é‡æ³¨å…¥æ•°æ®"></a>ä½¿ç”¨@Autowiredç»™æµ‹è¯•ç±»ä¸­çš„å˜é‡æ³¨å…¥æ•°æ®</h4><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class) </span><br><span class="line"><span class="meta">@ContextConfiguration</span>(locations= &#123;<span class="string">"classpath:bean.xml"</span>&#125;) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceTest</span> </span>&#123; </span><br><span class="line"><span class="meta">@Autowired</span> <span class="keyword">private</span> IAccountService as ; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸ºä»€ä¹ˆä¸æŠŠæµ‹è¯•ç±»é…åˆ°xmlä¸­"><a href="#ä¸ºä»€ä¹ˆä¸æŠŠæµ‹è¯•ç±»é…åˆ°xmlä¸­" class="headerlink" title="ä¸ºä»€ä¹ˆä¸æŠŠæµ‹è¯•ç±»é…åˆ°xmlä¸­"></a>ä¸ºä»€ä¹ˆä¸æŠŠæµ‹è¯•ç±»é…åˆ°xmlä¸­</h3><ol><li>å½“æˆ‘ä»¬åœ¨xmlä¸­é…ç½®äº†ä¸€ä¸ªbeanï¼ŒspringåŠ è½½é…ç½®æ–‡ä»¶åˆ›å»ºå®¹å™¨æ—¶ï¼Œå°±ä¼šåˆ›å»ºå¯¹è±¡ã€‚</li><li>æµ‹è¯•ç±»åªæ˜¯æˆ‘ä»¬åœ¨æµ‹è¯•åŠŸèƒ½æ—¶ä½¿ç”¨ï¼Œè€Œåœ¨é¡¹ç›®ä¸­å®ƒå¹¶ä¸å‚ä¸ç¨‹åºé€»è¾‘ï¼Œä¹Ÿä¸ä¼šè§£å†³éœ€æ±‚ä¸Šçš„é—®é¢˜ï¼Œæ‰€ä»¥åˆ›å»ºå®Œäº†ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨ã€‚é‚£ä¹ˆå­˜åœ¨å®¹å™¨ä¸­å°±ä¼šé€ æˆèµ„æºçš„æµªè´¹ã€‚</li></ol><p>æ¥ä¸‹æ¥è¯·çœ‹ä¸‹ä¸€ç¯‡ã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è§†é¢‘ï¼š&lt;a href=&quot;https://www.bilibili.com/video/av47952931/?p=1&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Spring5æ•™ç¨‹IDEAç‰ˆ-4å¤©-2018é»‘é©¬&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;h
      
    
    </summary>
    
      <category term="JavaWeb" scheme="zhangzef.com/categories/JavaWeb/"/>
    
    
      <category term="Spring" scheme="zhangzef.com/tags/Spring/"/>
    
      <category term="æ¡†æ¶" scheme="zhangzef.com/tags/%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>Spring--ä¸€ã€Springæ¦‚è¿°åŠSpringä¸­åŸºäºXMLçš„IOCé…ç½®</title>
    <link href="zhangzef.com/2019/10/02/Spring--%E4%B8%80%E3%80%81Spring%E6%A6%82%E8%BF%B0%E5%8F%8ASpring%E4%B8%AD%E5%9F%BA%E4%BA%8EXML%E7%9A%84IOC%E9%85%8D%E7%BD%AE/"/>
    <id>zhangzef.com/2019/10/02/Spring--ä¸€ã€Springæ¦‚è¿°åŠSpringä¸­åŸºäºXMLçš„IOCé…ç½®/</id>
    <published>2019-10-02T10:48:40.000Z</published>
    <updated>2020-02-14T10:55:29.492Z</updated>
    
    <content type="html"><![CDATA[<p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/av47952931/?p=1" target="_blank" rel="noopener">Spring5æ•™ç¨‹IDEAç‰ˆ-4å¤©-2018é»‘é©¬</a></p><p><a href="https://pan.baidu.com/s/1V5WhXOqkjQ0CuEA8Zj504A" target="_blank" rel="noopener">æ•™å­¦èµ„æº</a>    æå–ç ï¼šcwbz</p><h2 id="Springçš„æ¦‚è¿°ï¼ˆäº†è§£ï¼‰"><a href="#Springçš„æ¦‚è¿°ï¼ˆäº†è§£ï¼‰" class="headerlink" title="Springçš„æ¦‚è¿°ï¼ˆäº†è§£ï¼‰"></a>Springçš„æ¦‚è¿°ï¼ˆäº†è§£ï¼‰</h2><h3 id="springæ˜¯ä»€ä¹ˆ"><a href="#springæ˜¯ä»€ä¹ˆ" class="headerlink" title="springæ˜¯ä»€ä¹ˆ"></a>springæ˜¯ä»€ä¹ˆ</h3><p>Springæ˜¯åˆ†å±‚çš„Java SE/EEåº”ç”¨ full-stackè½»é‡çº§å¼€æºæ¡†æ¶ï¼Œä»¥IoCï¼ˆInverse Of Controlï¼šåè½¬æ§åˆ¶ï¼‰å’ŒAOPï¼ˆAspect Oriented Programmingï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ä¸ºå†…æ ¸ï¼Œæä¾›äº†å±•ç°å±‚Spring MVCå’ŒæŒä¹…å±‚Spring JDBCä»¥åŠä¸šåŠ¡å±‚äº‹åŠ¡ç®¡ç†ç­‰ä¼—å¤šçš„ä¼ä¸šçº§åº”ç”¨æŠ€æœ¯ï¼Œè¿˜èƒ½æ•´åˆå¼€æºä¸–ç•Œä¼—å¤šè‘—åçš„ç¬¬ä¸‰æ–¹æ¡†æ¶å’Œç±»åº“ï¼Œé€æ¸æˆä¸ºä½¿ç”¨æœ€å¤šçš„Java EEä¼ä¸šåº”ç”¨å¼€æºæ¡†æ¶ã€‚è€Œè¿™æ¬¡è¦è®²çš„Springæ¡†æ¶æ˜¯å¤„äºä¸šåŠ¡å±‚çš„æ¡†æ¶ã€‚</p><h3 id="Springçš„ä¼˜åŠ¿"><a href="#Springçš„ä¼˜åŠ¿" class="headerlink" title="Springçš„ä¼˜åŠ¿"></a>Springçš„ä¼˜åŠ¿</h3><blockquote><p>  <strong>æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘</strong></p><p>  é€šè¿‡Springæä¾›çš„IoCå®¹å™¨ï¼Œå¯ä»¥å°†å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»äº¤ç”±Springè¿›è¡Œæ§åˆ¶ï¼Œé¿å…ç¡¬ç¼–ç æ‰€é€ æˆçš„è¿‡åº¦ç¨‹åºè€¦åˆã€‚ç”¨æˆ·ä¹Ÿä¸å¿…å†ä¸ºå•ä¾‹æ¨¡å¼ç±»ã€å±æ€§æ–‡ä»¶è§£æç­‰è¿™äº›å¾ˆåº•å±‚çš„éœ€æ±‚ç¼–å†™ä»£ç ï¼Œå¯ä»¥æ›´ä¸“æ³¨äºä¸Šå±‚çš„åº”ç”¨ã€‚</p></blockquote><blockquote><p>  <strong>AOPç¼–ç¨‹çš„æ”¯æŒ</strong></p><p>  é€šè¿‡Springçš„AOPåŠŸèƒ½ï¼Œæ–¹ä¾¿è¿›è¡Œé¢å‘åˆ‡é¢çš„ç¼–ç¨‹ï¼Œè®¸å¤šä¸å®¹æ˜“ç”¨ä¼ ç»ŸOOPå®ç°çš„åŠŸèƒ½å¯ä»¥é€šè¿‡AOPè½»æ¾åº”ä»˜ã€‚</p></blockquote><blockquote><p>  <strong>å£°æ˜å¼äº‹åŠ¡çš„æ”¯æŒ</strong></p><p>  å¯ä»¥å°†æˆ‘ä»¬ä»å•è°ƒçƒ¦é—·çš„äº‹åŠ¡ç®¡ç†ä»£ç ä¸­è§£è„±å‡ºæ¥ï¼Œé€šè¿‡å£°æ˜å¼æ–¹å¼çµæ´»çš„è¿›è¡Œäº‹åŠ¡çš„ç®¡ç†ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œè´¨é‡ã€‚</p></blockquote><blockquote><p>  <strong>æ–¹ä¾¿ç¨‹åºçš„æµ‹è¯•</strong></p><p>  å¯ä»¥ç”¨éå®¹å™¨ä¾èµ–çš„ç¼–ç¨‹æ–¹å¼è¿›è¡Œå‡ ä¹æ‰€æœ‰çš„æµ‹è¯•å·¥ä½œï¼Œæµ‹è¯•ä¸å†æ˜¯æ˜‚è´µçš„æ“ä½œï¼Œè€Œæ˜¯éšæ‰‹å¯åšçš„äº‹æƒ…ã€‚</p></blockquote><blockquote><p>  <strong>æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶</strong></p><p>  Springå¯ä»¥é™ä½å„ç§æ¡†æ¶çš„ä½¿ç”¨éš¾åº¦ï¼Œæä¾›äº†å¯¹å„ç§ä¼˜ç§€æ¡†æ¶ï¼ˆStrutsã€Hibernateã€Hessianã€Quartzç­‰ï¼‰çš„ç›´æ¥æ”¯æŒã€‚</p></blockquote><blockquote><p>  <strong>é™ä½JavaEE APIçš„ä½¿ç”¨éš¾åº¦</strong></p><p>  Springå¯¹JavaEE APIï¼ˆå¦‚JDBCã€JavaMailã€è¿œç¨‹è°ƒç”¨ç­‰ï¼‰è¿›è¡Œäº†è–„è–„çš„å°è£…å±‚ï¼Œä½¿è¿™äº›APIçš„ä½¿ç”¨éš¾åº¦å¤§ä¸ºé™ä½ã€‚</p></blockquote><blockquote><p>  <strong>Javaæºç æ˜¯ç»å…¸å­¦ä¹ èŒƒä¾‹</strong></p><p>  Springçš„æºä»£ç è®¾è®¡ç²¾å¦™ã€ç»“æ„æ¸…æ™°ã€åŒ å¿ƒç‹¬ç”¨ï¼Œå¤„å¤„ä½“ç°ç€å¤§å¸ˆå¯¹Javaè®¾è®¡æ¨¡å¼çµæ´»è¿ç”¨ä»¥åŠå¯¹JavaæŠ€æœ¯çš„é«˜æ·±é€ è¯£ã€‚å®ƒçš„æºä»£ç æ— æ„æ˜¯JavaæŠ€æœ¯çš„æœ€ä½³å®è·µçš„èŒƒä¾‹ã€‚</p></blockquote><h3 id="Springçš„ä½“ç³»ç»“æ„"><a href="#Springçš„ä½“ç³»ç»“æ„" class="headerlink" title="Springçš„ä½“ç³»ç»“æ„"></a>Springçš„ä½“ç³»ç»“æ„</h3><p><img src="http://image.zhangzef.com/20200214184451.png" alt="img" style="zoom: 67%;"></p><p>Springçš„ä¸¤å¤§æ ¸å¿ƒä¸ºï¼šAOPå’ŒIOC</p><p>AOPéƒ¨åˆ†ä¸ºï¼šAOPã€Aspectsã€Instrumentationã€Messaging</p><p>IOCï¼ˆæ ¸å¿ƒå®¹å™¨ï¼‰éƒ¨åˆ†ä¸ºCore Containeréƒ¨åˆ†</p><h2 id="IOCçš„æ¦‚å¿µå’Œä½œç”¨"><a href="#IOCçš„æ¦‚å¿µå’Œä½œç”¨" class="headerlink" title="IOCçš„æ¦‚å¿µå’Œä½œç”¨"></a>IOCçš„æ¦‚å¿µå’Œä½œç”¨</h2><h3 id="ç¨‹åºçš„è€¦åˆä¸è§£è€¦"><a href="#ç¨‹åºçš„è€¦åˆä¸è§£è€¦" class="headerlink" title="ç¨‹åºçš„è€¦åˆä¸è§£è€¦"></a>ç¨‹åºçš„è€¦åˆä¸è§£è€¦</h3><p>ç¨‹åºçš„è€¦åˆå³ç¨‹åºé—´çš„ä¾èµ–å…³ç³»ï¼šâ‘ ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚â‘¡æ–¹æ³•é—´çš„ä¾èµ–å…³ç³»ã€‚</p><p>è§£è€¦å³é™ä½ç¨‹åºé—´çš„ä¾èµ–å…³ç³»ï¼Œå®é™…å¼€å‘ä¸­åº”åšåˆ°ç¼–è¯‘æœŸä¸ä¾èµ–ï¼Œè¿è¡Œæ—¶æ‰ä¾èµ–ï¼š</p><ol><li>ä½¿ç”¨åå°„ï¼ˆClass.forName()ï¼‰æ¥åˆ›å»ºå¯¹è±¡ï¼Œé¿å…ä½¿ç”¨newæ¥åˆ›å»ºå¯¹è±¡ã€‚</li><li>é€šè¿‡è¯»å–é…ç½®æ–‡ä»¶æ¥è·å–è¦åˆ›å»ºçš„å¯¹è±¡çš„å…¨é™å®šç±»åã€‚<ol><li>é…ç½®æ–‡ä»¶å†…å®¹ï¼šå”¯ä¸€æ ‡è¯†=å…¨é™å®šç±»åï¼ˆkey=valueï¼‰</li></ol></li></ol><h3 id="å·¥å‚æ¨¡å¼è§£è€¦"><a href="#å·¥å‚æ¨¡å¼è§£è€¦" class="headerlink" title="å·¥å‚æ¨¡å¼è§£è€¦"></a>å·¥å‚æ¨¡å¼è§£è€¦</h3><p>åœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬å¯ä»¥æŠŠä¸‰å±‚ï¼ˆå‚è€ƒJavaEEä¸‰å±‚ç»“æ„ï¼šWeb(è¡¨ç°)å±‚ã€ä¸šåŠ¡å±‚ã€DAO(æ•°æ®)å±‚ï¼‰çš„å¯¹è±¡éƒ½ä½¿ç”¨é…ç½®æ–‡ä»¶é…ç½®èµ·æ¥ï¼Œå½“å¯åŠ¨æœåŠ¡å™¨åº”ç”¨åŠ è½½çš„æ—¶å€™ï¼Œè®©ä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•é€šè¿‡è¯»å–é…ç½®æ–‡ä»¶ï¼ŒæŠŠè¿™äº›å¯¹è±¡åˆ›å»ºå‡ºæ¥å¹¶å­˜èµ·æ¥ã€‚åœ¨æ¥ä¸‹æ¥çš„ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥æ‹¿è¿‡æ¥ç”¨å°±å¥½äº†ã€‚ </p><p>é‚£ä¹ˆï¼Œè¿™ä¸ªè¯»å–é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºå’Œè·å–ä¸‰å±‚å¯¹è±¡çš„ç±»å°±æ˜¯å·¥å‚ã€‚</p><p>å»ºè®®äº†è§£å•ä¾‹å¤šä¾‹å¯¹è±¡æ¥æé«˜å·¥å‚æ¨¡å¼è§£è€¦æ•ˆç‡ã€‚</p><h3 id="æ§åˆ¶ç¿»è½¬-Inversion-Of-Controlï¼ˆIOCï¼‰"><a href="#æ§åˆ¶ç¿»è½¬-Inversion-Of-Controlï¼ˆIOCï¼‰" class="headerlink" title="æ§åˆ¶ç¿»è½¬-Inversion Of Controlï¼ˆIOCï¼‰"></a>æ§åˆ¶ç¿»è½¬-Inversion Of Controlï¼ˆIOCï¼‰</h3><p>æ§åˆ¶åè½¬ï¼ˆIOCï¼‰å³æŠŠåˆ›å»ºå¯¹è±¡çš„æƒåˆ©äº¤ç»™æ¡†æ¶ï¼Œæ˜¯æ¡†æ¶çš„é‡è¦ç‰¹å¾ï¼Œå®ƒåŒ…æ‹¬ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼Œç®€ç§°DIï¼‰å’Œä¾èµ–æŸ¥æ‰¾ï¼ˆDependency Lookupï¼‰</p><p>åŸæ¥æˆ‘ä»¬åˆ›å»ºå¯¹è±¡æ˜¯ç”¨newæ¥<strong>ä¸»åŠ¨</strong>åˆ›å»ºçš„ï¼Œå³æˆ‘ä»¬çš„é¡¹ç›®å¯¹èµ„æºçš„ä½¿ç”¨æ˜¯ç›´æ¥å…³è”çš„ï¼Œå¦‚å›¾ï¼š<img src="http://image.zhangzef.com/20200214184452.png" alt="img" style="zoom:50%;"></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¼•å…¥æ¡†æ¶çš„å·¥å‚æ¥å¸®æˆ‘ä»¬åˆ›å»ºç”Ÿäº§å¯¹è±¡ï¼Œä»–è´Ÿè´£ç»™æˆ‘ä»¬ä»æŒ‡å®šå®¹å™¨ä¸­è·å–æŒ‡å®šå¯¹è±¡çš„ç±»ï¼Œè¿™æ—¶å€™è¿™ä¸ªå¯¹è±¡è·å–è¿‡æ¥æ˜¯ä¸æ˜¯æˆ‘èƒ½ç”¨çš„ï¼Œæˆ‘ä»¬çš„åº”ç”¨æœ¬èº«å·²ç»æ— æ³•å¾—çŸ¥äº†ï¼Œå·¥å‚èƒ½å¾—åˆ°å“ªä¸ªå¯¹è±¡æ˜¯æ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„å…¨é™å®šç±»åï¼ˆkey=valueï¼‰è·å¾—çš„ï¼Œæˆ‘ä»¬çš„åº”ç”¨æœ¬èº«æ²¡æœ‰è‡ªä¸»æ§åˆ¶æƒã€‚è€ŒåŸæ¥çš„ç›´æ¥newçš„æ–¹æ³•åˆ™åº”ç”¨æœ¬èº«æ˜¯æœ‰è‡ªä¸»æ§åˆ¶æƒçš„ã€‚æ‰€ä»¥è¿™ç§å·¥å‚æ¨¡å¼é™ä½äº†æˆ‘ä»¬ç¨‹åºé—´çš„ä¾èµ–å…³ç³»ï¼Œå¦‚å›¾ï¼š<img src="http://image.zhangzef.com/20200214184454.png" alt="img" style="zoom:50%;"></p><p>å³IOCç”¨æ¥å‰Šå‡è®¡ç®—æœºç¨‹åºé—´çš„è€¦åˆã€‚</p><h2 id="ä½¿ç”¨Springçš„IOCè§£å†³ç¨‹åºè€¦åˆ"><a href="#ä½¿ç”¨Springçš„IOCè§£å†³ç¨‹åºè€¦åˆ" class="headerlink" title="ä½¿ç”¨Springçš„IOCè§£å†³ç¨‹åºè€¦åˆ"></a>ä½¿ç”¨Springçš„IOCè§£å†³ç¨‹åºè€¦åˆ</h2><h3 id="Springçš„å¼€å‘åŒ…"><a href="#Springçš„å¼€å‘åŒ…" class="headerlink" title="Springçš„å¼€å‘åŒ…"></a>Springçš„å¼€å‘åŒ…</h3><p>å®˜ç½‘ï¼š<a href="http://spring.io/" target="_blank" rel="noopener">http://spring.io/</a></p><p>Springçš„ç›®å½•ç»“æ„ï¼š</p><ul><li>dcosï¼šAPIå’Œå¼€å‘è§„èŒƒ</li><li>libsï¼šjaråŒ…å’Œæºç </li><li>schemaï¼šçº¦æŸ</li></ul><h3 id="SpringåŸºäºXMLçš„IOCç»†èŠ‚"><a href="#SpringåŸºäºXMLçš„IOCç»†èŠ‚" class="headerlink" title="SpringåŸºäºXMLçš„IOCç»†èŠ‚"></a>SpringåŸºäºXMLçš„IOCç»†èŠ‚</h3><h4 id="Springä¸­å·¥å‚çš„ç±»ç»“æ„å›¾"><a href="#Springä¸­å·¥å‚çš„ç±»ç»“æ„å›¾" class="headerlink" title="Springä¸­å·¥å‚çš„ç±»ç»“æ„å›¾"></a>Springä¸­å·¥å‚çš„ç±»ç»“æ„å›¾</h4><p><img src="http://image.zhangzef.com/20200214184449.png" alt="img" style="zoom: 67%;"></p><p><img src="http://image.zhangzef.com/20200214184450.png" alt="img" style="zoom:67%;"></p><h5 id="BeanFactoryå’ŒApplicationContextçš„åŒºåˆ«"><a href="#BeanFactoryå’ŒApplicationContextçš„åŒºåˆ«" class="headerlink" title="BeanFactoryå’ŒApplicationContextçš„åŒºåˆ«"></a>BeanFactoryå’ŒApplicationContextçš„åŒºåˆ«</h5><p>BeanFactory æ‰æ˜¯Spring å®¹å™¨ä¸­çš„é¡¶å±‚æ¥å£ã€‚ApplicationContext æ˜¯å®ƒçš„å­æ¥å£ã€‚</p><p>BeanFactory å’ŒApplicationContext çš„åŒºåˆ«ï¼šåˆ›å»ºå¯¹è±¡çš„æ—¶é—´ç‚¹ä¸ä¸€æ ·ã€‚</p><ul><li>ApplicationContextï¼šåªè¦ä¸€è¯»å–é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹å°±ä¼šåˆ›å»ºå¯¹è±¡ã€‚å•ä¾‹å¯¹è±¡é€‚ç”¨ã€‚å¸¸ç”¨æ­¤æ¥å£ï¼ŒSpringä¼šæ ¹æ®å¯¹è±¡çš„å•ä¾‹å¤šä¾‹æ¥é€‰æ‹©ã€‚</li><li>BeanFactoryï¼šä»€ä¹ˆä½¿ç”¨ä»€ä¹ˆæ—¶å€™åˆ›å»ºå¯¹è±¡ã€‚å¤šä¾‹å¯¹è±¡é€‚ç”¨ã€‚</li></ul><h5 id="ApplicationContextæ¥å£çš„å®ç°ç±»"><a href="#ApplicationContextæ¥å£çš„å®ç°ç±»" class="headerlink" title="ApplicationContextæ¥å£çš„å®ç°ç±»"></a>ApplicationContextæ¥å£çš„å®ç°ç±»</h5><ul><li>ClassPathXmlApplicationContextï¼š<br>å®ƒæ˜¯ä»ç±»çš„æ ¹è·¯å¾„ä¸‹åŠ è½½é…ç½®æ–‡ä»¶ æ¨èä½¿ç”¨è¿™ç§</li><li>FileSystemXmlApplicationContextï¼š<br>å®ƒæ˜¯ä»ç£ç›˜è·¯å¾„ä¸ŠåŠ è½½é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶å¯ä»¥åœ¨ç£ç›˜çš„ä»»æ„ä½ç½®ã€‚</li><li>AnnotationConfigApplicationContext:<br>å½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£é…ç½®å®¹å™¨å¯¹è±¡æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ­¤ç±»æ¥åˆ›å»ºspring å®¹å™¨ã€‚å®ƒç”¨æ¥è¯»å–æ³¨è§£ã€‚</li></ul><h4 id="IOCä¸­beanæ ‡ç­¾å’Œç®¡ç†å¯¹è±¡ç»†èŠ‚"><a href="#IOCä¸­beanæ ‡ç­¾å’Œç®¡ç†å¯¹è±¡ç»†èŠ‚" class="headerlink" title="IOCä¸­beanæ ‡ç­¾å’Œç®¡ç†å¯¹è±¡ç»†èŠ‚"></a>IOCä¸­beanæ ‡ç­¾å’Œç®¡ç†å¯¹è±¡ç»†èŠ‚</h4><h5 id="beanæ ‡ç­¾"><a href="#beanæ ‡ç­¾" class="headerlink" title="beanæ ‡ç­¾"></a>beanæ ‡ç­¾</h5><p>ä½œç”¨ï¼š</p><ul><li>ç”¨äºé…ç½®å¯¹è±¡è®©springæ¥åˆ›å»ºçš„ã€‚ </li><li><p>é»˜è®¤æƒ…å†µä¸‹å®ƒè°ƒç”¨çš„æ˜¯ç±»ä¸­çš„æ— å‚æ„é€ å‡½æ•°ã€‚å¦‚æœæ²¡æœ‰æ— å‚æ„é€ å‡½æ•°åˆ™ä¸èƒ½åˆ›å»ºæˆåŠŸã€‚</p><p>å±æ€§ï¼š</p></li><li><p>idï¼šç»™å¯¹è±¡åœ¨å®¹å™¨ä¸­æä¾›ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ã€‚ç”¨äºè·å–å¯¹è±¡ã€‚</p></li><li>classï¼šæŒ‡å®šç±»çš„å…¨é™å®šç±»åã€‚ç”¨äºåå°„åˆ›å»ºå¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹è°ƒç”¨æ— å‚æ„é€ å‡½æ•°ã€‚</li><li>scopeï¼šæŒ‡å®šå¯¹è±¡çš„ä½œç”¨èŒƒå›´ã€‚<ul><li>singleton :é»˜è®¤å€¼ï¼Œå•ä¾‹çš„.</li><li>prototype :å¤šä¾‹çš„. </li><li>request :WEBé¡¹ç›®ä¸­,Springåˆ›å»ºä¸€ä¸ªBeançš„å¯¹è±¡,å°†å¯¹è±¡å­˜å…¥åˆ°requeståŸŸä¸­. </li><li>session :WEBé¡¹ç›®ä¸­,Springåˆ›å»ºä¸€ä¸ªBeançš„å¯¹è±¡,å°†å¯¹è±¡å­˜å…¥åˆ°sessionåŸŸä¸­.</li><li>global session :WEBé¡¹ç›®ä¸­,åº”ç”¨åœ¨Portletç¯å¢ƒ.å¦‚æœæ²¡æœ‰Portletç¯å¢ƒé‚£ä¹ˆglobalSessionç›¸å½“äºsession. </li></ul></li><li>init-methodï¼šæŒ‡å®šç±»ä¸­çš„åˆå§‹åŒ–æ–¹æ³•åç§°ã€‚</li><li>destroy-methodï¼šæŒ‡å®šç±»ä¸­é”€æ¯æ–¹æ³•åç§°ã€‚</li></ul><h5 id="beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸ"><a href="#beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸ"></a>beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸ</h5><p>å•ä¾‹å¯¹è±¡ï¼šscope=â€singletonâ€ </p><ul><li>ä¸€ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹ã€‚å®ƒçš„ä½œç”¨èŒƒå›´å°±æ˜¯æ•´ä¸ªå¼•ç”¨ã€‚ </li><li>ç”Ÿå‘½å‘¨æœŸï¼š <ul><li>å¯¹è±¡å‡ºç”Ÿï¼šå½“åº”ç”¨åŠ è½½ï¼Œåˆ›å»ºå®¹å™¨æ—¶ï¼Œå¯¹è±¡å°±è¢«åˆ›å»ºäº†ã€‚ </li><li>å¯¹è±¡æ´»ç€ï¼šåªè¦å®¹å™¨åœ¨ï¼Œå¯¹è±¡ä¸€ç›´æ´»ç€ã€‚ </li><li>å¯¹è±¡æ­»äº¡ï¼šå½“åº”ç”¨å¸è½½ï¼Œé”€æ¯å®¹å™¨æ—¶ï¼Œå¯¹è±¡å°±è¢«é”€æ¯äº†ã€‚ </li></ul></li></ul><p>å¤šä¾‹å¯¹è±¡ï¼šscope=â€prototypeâ€ </p><ul><li>æ¯æ¬¡è®¿é—®å¯¹è±¡æ—¶ï¼Œéƒ½ä¼šé‡æ–°åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚ </li><li>ç”Ÿå‘½å‘¨æœŸï¼š <ul><li>å¯¹è±¡å‡ºç”Ÿï¼šå½“ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œåˆ›å»ºæ–°çš„å¯¹è±¡å®ä¾‹ã€‚</li><li>å¯¹è±¡æ´»ç€ï¼šåªè¦å¯¹è±¡åœ¨ä½¿ç”¨ä¸­ï¼Œå°±ä¸€ç›´æ´»ç€ã€‚ </li><li>å¯¹è±¡æ­»äº¡ï¼šå½“å¯¹è±¡é•¿æ—¶é—´ä¸ç”¨æ—¶ï¼Œè¢«javaçš„åƒåœ¾å›æ”¶å™¨å›æ”¶äº†ã€‚</li></ul></li></ul><h5 id="å®ä¾‹åŒ–beançš„ä¸‰ç§æ–¹å¼"><a href="#å®ä¾‹åŒ–beançš„ä¸‰ç§æ–¹å¼" class="headerlink" title="å®ä¾‹åŒ–beançš„ä¸‰ç§æ–¹å¼"></a>å®ä¾‹åŒ–beançš„ä¸‰ç§æ–¹å¼</h5><p>ç¬¬ä¸€ç§æ–¹å¼ï¼šä½¿ç”¨é»˜è®¤æ— å‚æ„é€ å‡½æ•° </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼š å®ƒä¼šæ ¹æ®é»˜è®¤æ— å‚æ„é€ å‡½æ•°æ¥åˆ›å»ºç±»å¯¹è±¡ã€‚å¦‚æœbeanä¸­æ²¡æœ‰é»˜è®¤æ— å‚æ„é€ å‡½æ•°ï¼Œå°†ä¼šåˆ›å»ºå¤±è´¥ã€‚--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.AccountServiceImpl"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§æ–¹å¼ï¼šspringç®¡ç†é™æ€å·¥å‚-ä½¿ç”¨é™æ€å·¥å‚çš„æ–¹æ³•åˆ›å»ºå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ¨¡æ‹Ÿä¸€ä¸ªé™æ€å·¥å‚ï¼Œåˆ›å»ºä¸šåŠ¡å±‚å®ç°ç±»*/</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticFactory</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IAccountService <span class="title">createAccountService</span><span class="params">()</span></span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AccountServiceImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ­¤ç§æ–¹å¼æ˜¯:</span></span><br><span class="line"><span class="comment">ä½¿ç”¨StaticFactoryç±»ä¸­çš„é™æ€æ–¹æ³•createAccountServiceåˆ›å»ºå¯¹è±¡ï¼Œå¹¶å­˜å…¥springå®¹å™¨</span></span><br><span class="line"><span class="comment">idå±æ€§ï¼šæŒ‡å®šbeançš„idï¼Œç”¨äºä»å®¹å™¨ä¸­è·å–</span></span><br><span class="line"><span class="comment">classå±æ€§ï¼šæŒ‡å®šé™æ€å·¥å‚çš„å…¨é™å®šç±»å</span></span><br><span class="line"><span class="comment">factory-methodå±æ€§ï¼šæŒ‡å®šç”Ÿäº§å¯¹è±¡çš„é™æ€æ–¹æ³•</span></span><br><span class="line"><span class="comment">--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"com.itheima.factory.StaticFactory"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">factory-method</span>=<span class="string">"createAccountService"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰ç§æ–¹å¼ï¼šspringç®¡ç†å®ä¾‹å·¥å‚-ä½¿ç”¨å®ä¾‹å·¥å‚çš„æ–¹æ³•åˆ›å»ºå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*æ¨¡æ‹Ÿä¸€ä¸ªå®ä¾‹å·¥å‚ï¼Œåˆ›å»ºä¸šåŠ¡å±‚å®ç°ç±»</span></span><br><span class="line"><span class="comment">*æ­¤å·¥å‚åˆ›å»ºå¯¹è±¡ï¼Œå¿…é¡»ç°æœ‰å·¥å‚å®ä¾‹å¯¹è±¡ï¼Œå†è°ƒç”¨æ–¹æ³• </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InstanceFactory</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IAccountService <span class="title">createAccountService</span><span class="params">()</span></span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AccountServiceImpl(); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ­¤ç§æ–¹å¼æ˜¯ï¼š </span></span><br><span class="line"><span class="comment">å…ˆæŠŠå·¥å‚çš„åˆ›å»ºäº¤ç»™springæ¥ç®¡ç†ã€‚ ç„¶ååœ¨ä½¿ç”¨å·¥å‚çš„beanæ¥è°ƒç”¨é‡Œé¢çš„æ–¹æ³• </span></span><br><span class="line"><span class="comment">factory-beanå±æ€§ï¼šç”¨äºæŒ‡å®šå®ä¾‹å·¥å‚beançš„idã€‚ </span></span><br><span class="line"><span class="comment">factory-methodå±æ€§ï¼šç”¨äºæŒ‡å®šå®ä¾‹å·¥å‚ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"instancFactory"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"com.itheima.factory.InstanceFactory"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">factory-bean</span>=<span class="string">"instancFactory"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">factory-method</span>=<span class="string">"createAccountService"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Springçš„ä¾èµ–æ³¨å…¥"><a href="#Springçš„ä¾èµ–æ³¨å…¥" class="headerlink" title="Springçš„ä¾èµ–æ³¨å…¥"></a>Springçš„ä¾èµ–æ³¨å…¥</h4><h5 id="ä¾èµ–æ³¨å…¥çš„æ¦‚å¿µ"><a href="#ä¾èµ–æ³¨å…¥çš„æ¦‚å¿µ" class="headerlink" title="ä¾èµ–æ³¨å…¥çš„æ¦‚å¿µ"></a>ä¾èµ–æ³¨å…¥çš„æ¦‚å¿µ</h5><p>ä¾èµ–æ³¨å…¥æ˜¯Springæ¡†æ¶æ ¸å¿ƒIOCçš„å…·ä½“å®ç°</p><p>ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥å‘¢ï¼Ÿå³åœ¨å½“å‰ç±»éœ€è¦å…¶ä»–ç±»çš„å¯¹è±¡æ—¶ï¼Œç”±Springä¸ºæˆ‘ä»¬æä¾›ï¼Œè€Œä¸æ˜¯è‡ªå·±åˆ›å»ºï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­è¯´æ˜ä¾èµ–å…³ç³»çš„ç»´æŠ¤ã€‚</p><p>ä¾èµ–æ³¨å…¥ï¼š</p><ul><li>èƒ½æ³¨å…¥çš„æ•°æ®æœ‰ä¸‰ç±»ï¼š<ul><li>åŸºæœ¬ç±»å‹å’ŒString</li><li>å…¶ä»–beanç±»å‹ï¼ˆåœ¨é…ç½®æ–‡ä»¶æˆ–æ³¨è§£é…ç½®è¿‡çš„beanï¼‰</li><li>å¤æ‚ç±»å‹/é›†åˆç±»å‹</li></ul></li><li>æ³¨å…¥çš„æ–¹å¼ï¼š<ul><li>ä½¿ç”¨æ„é€ å‡½æ•°æä¾›</li><li>ä½¿ç”¨setæ–¹æ³•æä¾›</li><li>ä½¿ç”¨æ³¨è§£æä¾›ï¼ˆä¸‹ä¸€ç¯‡ï¼‰</li></ul></li></ul><h5 id="æ„é€ å‡½æ•°çš„ä¾èµ–æ³¨å…¥"><a href="#æ„é€ å‡½æ•°çš„ä¾èµ–æ³¨å…¥" class="headerlink" title="æ„é€ å‡½æ•°çš„ä¾èµ–æ³¨å…¥"></a>æ„é€ å‡½æ•°çš„ä¾èµ–æ³¨å…¥</h5><p>å°±æ˜¯é€šè¿‡ç±»çš„æ„é€ å‡½æ•°ï¼Œç»™æˆå‘˜å˜é‡èµ‹å€¼ã€‚èµ‹å€¼æ“ä½œæ˜¯é€šè¿‡é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œè®©Springæ¡†æ¶æ¥å¸®æˆ‘ä»¬æ³¨å…¥ã€‚ä¸€èˆ¬è¿™ç§æ–¹å¼ç”¨äºä¸ç»å¸¸æ›´å˜çš„æˆå‘˜å˜é‡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™æ˜¯æˆ‘ä»¬éœ€è¦è°ƒç”¨çš„ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> String name; </span><br><span class="line">    <span class="keyword">private</span> Integer age; </span><br><span class="line">    <span class="keyword">private</span> Date birthday; </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AccountServiceImpl</span><span class="params">(String name, </span></span></span><br><span class="line"><span class="function"><span class="params">                              Integer age, Date birthday)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.name = name; </span><br><span class="line">        <span class="keyword">this</span>.age = age; </span><br><span class="line">        <span class="keyword">this</span>.birthday = birthday; </span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        System.out.println(name+<span class="string">","</span>+age+<span class="string">","</span>+birthday); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨æ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œç»™serviceä¸­çš„å±æ€§ä¼ å€¼ </span></span><br><span class="line"><span class="comment">è¦æ±‚ï¼š </span></span><br><span class="line"><span class="comment">ç±»ä¸­éœ€è¦æä¾›ä¸€ä¸ªå¯¹åº”å‚æ•°åˆ—è¡¨çš„æ„é€ å‡½æ•°ã€‚ </span></span><br><span class="line"><span class="comment">æ¶‰åŠçš„æ ‡ç­¾ï¼š constructor-arg ï¼ˆbeanæ ‡ç­¾å†…éƒ¨ï¼‰</span></span><br><span class="line"><span class="comment">       å±æ€§ï¼š </span></span><br><span class="line"><span class="comment">        index:æŒ‡å®šå‚æ•°åœ¨æ„é€ å‡½æ•°å‚æ•°åˆ—è¡¨çš„ç´¢å¼•ä½ç½® </span></span><br><span class="line"><span class="comment">        type:æŒ‡å®šå‚æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">        name:æŒ‡å®šå‚æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„åç§° ç”¨è¿™ä¸ªæ‰¾ç»™è°èµ‹å€¼</span></span><br><span class="line"><span class="comment">=======ä¸Šé¢ä¸‰ä¸ªéƒ½æ˜¯æ‰¾ç»™è°èµ‹å€¼ï¼Œä¸‹é¢ä¸¤ä¸ªæŒ‡çš„æ˜¯èµ‹ä»€ä¹ˆå€¼çš„============== </span></span><br><span class="line"><span class="comment">        value:å®ƒèƒ½èµ‹çš„å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringç±»å‹ </span></span><br><span class="line"><span class="comment">        ref:å®ƒèƒ½èµ‹çš„å€¼æ˜¯å…¶ä»–beanç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»å¾—æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è¿‡çš„bean </span></span><br><span class="line"><span class="comment">--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.AccountServiceImpl"</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"å¼ ä¸‰"</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">value</span>=<span class="string">"18"</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"birthday"</span> <span class="attr">ref</span>=<span class="string">"now"</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"now"</span> <span class="attr">class</span>=<span class="string">"java.util.Date"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Springæ³¨å…¥çš„ç±»å‹é»˜è®¤ä¸ºå­—ç¬¦ä¸²ï¼Œè¦æ³¨å…¥å…¶ä»–beanç±»å‹æ—¶ï¼Œä»–ä¸èƒ½å¼ºåˆ¶è½¬æ¢æˆè¯¥ç±»å‹ï¼Œéœ€è¦å¦å¤–åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªbeanç±»å‹ï¼Œè®©è¯¥ç±»å‹çš„æ„é€ å‡½æ•°å¸®æˆ‘ä»¬åˆ›å»ºå¥½ï¼Œå†å°†è¯¥ç±»å‹é€šè¿‡é…ç½®æ–‡ä»¶ä¼ å…¥è¦æ³¨å…¥çš„å¯¹è±¡ã€‚</p><p>ä¼˜åŠ¿ï¼šåœ¨è·å–beanå¯¹è±¡æ—¶ï¼Œæ³¨å…¥æ•°æ®æ˜¯å¿…é¡»çš„æ“ä½œï¼Œå¦åˆ™å¯¹è±¡æ— æ³•åˆ›å»ºæˆåŠŸã€‚</p><p>å¼Šç«¯ï¼šæ”¹å˜äº†beanå¯¹è±¡çš„å®ä¾‹åŒ–æ–¹å¼ï¼Œä½¿æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¦‚æœç”¨ä¸åˆ°è¿™äº›æ•°æ®ï¼Œä¹Ÿå¿…é¡»æä¾›ã€‚</p><h5 id="setæ–¹æ³•æ³¨å…¥"><a href="#setæ–¹æ³•æ³¨å…¥" class="headerlink" title="setæ–¹æ³•æ³¨å…¥"></a>setæ–¹æ³•æ³¨å…¥</h5><p>å°±æ˜¯åˆ©ç”¨ç±»ä¸­æä¾›setæ–¹æ³•ç±»è®¾ç½®æˆå‘˜å˜é‡çš„å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> String name; </span><br><span class="line">    <span class="keyword">private</span> Integer age; </span><br><span class="line">    <span class="keyword">private</span> Date birthday; </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.name = name; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.age = age; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBirthday</span><span class="params">(Date birthday)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.birthday = birthday; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        System.out.println(name+<span class="string">","</span>+age+<span class="string">","</span>+birthday); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é€šè¿‡é…ç½®æ–‡ä»¶ç»™beanä¸­çš„å±æ€§ä¼ å€¼ï¼šä½¿ç”¨setæ–¹æ³•çš„æ–¹å¼ </span></span><br><span class="line"><span class="comment">æ¶‰åŠçš„æ ‡ç­¾ï¼š propertyï¼ˆbeanæ ‡ç­¾é‡Œé¢ï¼‰</span></span><br><span class="line"><span class="comment">å±æ€§ï¼š </span></span><br><span class="line"><span class="comment">nameï¼šæ‰¾çš„æ˜¯ç±»ä¸­setæ–¹æ³•åé¢çš„éƒ¨åˆ† </span></span><br><span class="line"><span class="comment">refï¼šç»™å±æ€§èµ‹å€¼æ˜¯å…¶ä»–beanç±»å‹çš„ </span></span><br><span class="line"><span class="comment">valueï¼šç»™å±æ€§èµ‹å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å’Œstringç±»å‹çš„ </span></span><br><span class="line"><span class="comment">å®é™…å¼€å‘ä¸­ï¼Œæ­¤ç§æ–¹å¼ç”¨çš„è¾ƒå¤šã€‚ </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.AccountServiceImpl"</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"test"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">value</span>=<span class="string">"21"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"birthday"</span> <span class="attr">ref</span>=<span class="string">"now"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"now"</span> <span class="attr">class</span>=<span class="string">"java.util.Date"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¼˜åŠ¿ï¼šåˆ›å»ºå¯¹è±¡æ—¶æ²¡æœ‰æ˜ç¡®çš„é™åˆ¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°</p><p>å¼Šç«¯ï¼šå¦‚æœ‰æŸä¸ªæˆå‘˜å¿…é¡»æœ‰å€¼ï¼Œåˆ™è·å–å¯¹è±¡å¯èƒ½setæ–¹æ³•æ²¡æœ‰æ‰§è¡Œ</p><h5 id="å¤æ‚ç±»å‹æ³¨å…¥"><a href="#å¤æ‚ç±»å‹æ³¨å…¥" class="headerlink" title="å¤æ‚ç±»å‹æ³¨å…¥"></a>å¤æ‚ç±»å‹æ³¨å…¥</h5><p>æœ¬è´¨ä¸Šè¿˜æ˜¯ä½¿ç”¨setæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> String[] myStrs; </span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; myList; </span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; mySet; </span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt; myMap; </span><br><span class="line">    <span class="keyword">private</span> Properties myProps; </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyStrs</span><span class="params">(String[] myStrs)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.myStrs = myStrs; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyList</span><span class="params">(List&lt;String&gt; myList)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.myList = myList; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMySet</span><span class="params">(Set&lt;String&gt; mySet)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.mySet = mySet; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyMap</span><span class="params">(Map&lt;String, String&gt; myMap)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.myMap = myMap; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyProps</span><span class="params">(Properties myProps)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.myProps = myProps; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        System.out.println(Arrays.toString(myStrs)); </span><br><span class="line">        System.out.println(myList); </span><br><span class="line">        System.out.println(mySet); </span><br><span class="line">        System.out.println(myMap);</span><br><span class="line">        System.out.println(myProps);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ³¨å…¥é›†åˆæ•°æ® </span></span><br><span class="line"><span class="comment">Listç»“æ„çš„ï¼š array,list,set </span></span><br><span class="line"><span class="comment">Mapç»“æ„çš„ map,entry,props,prop </span></span><br><span class="line"><span class="comment">--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.AccountServiceImpl"</span>&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!-- åœ¨æ³¨å…¥é›†åˆæ•°æ®æ—¶ï¼Œåªè¦ç»“æ„ç›¸åŒï¼Œæ ‡ç­¾å¯ä»¥äº’æ¢ --&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!-- ç»™æ•°ç»„æ³¨å…¥æ•°æ® --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"myStrs"</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>BBB<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>CCC<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥listé›†åˆæ•°æ® --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"myList"</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>BBB<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>CCC<span class="tag">&lt;/<span class="name">value</span>&gt;</span> <span class="tag">&lt;/<span class="name">array</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥seté›†åˆæ•°æ® --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mySet"</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>BBB<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>CCC<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥Mapæ•°æ® --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"myMap"</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">props</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"testA"</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">prop</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"testB"</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">prop</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;/<span class="name">props</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥propertiesæ•°æ® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"myProps"</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"testA"</span> <span class="attr">value</span>=<span class="string">"aaa"</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"testB"</span>&gt;</span> </span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;/<span class="name">entry</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥æ•°æ®"><a href="#ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥æ•°æ®" class="headerlink" title="ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥æ•°æ®"></a>ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥æ•°æ®</h5><p>é€šè¿‡å†xmlä¸­å¯¼å…¥påç§°ç©ºé—´ï¼Œä½¿ç”¨pï¼špropertyNameæ¥æ³¨å…¥æ•°æ®ï¼Œæœ¬è´¨è¿˜æ˜¯è°ƒç”¨setæ–¹æ³•ï¼ˆè§†é¢‘é‡Œæ²¡è®²ï¼Œå¯èƒ½æ˜¯å°‘äº†ä¸€é›†ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl4</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> String name; </span><br><span class="line">    <span class="keyword">private</span> Integer age; </span><br><span class="line">    <span class="keyword">private</span> Date birthday; </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.name = name; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.age = age; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBirthday</span><span class="params">(Date birthday)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.birthday = birthday; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        System.out.println(name+<span class="string">","</span>+age+<span class="string">","</span>+birthday); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">                           http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.AccountServiceImpl4"</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">p:name</span>=<span class="string">"test"</span> <span class="attr">p:age</span>=<span class="string">"21"</span> <span class="attr">p:birthday-ref</span>=<span class="string">"now"</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¯·çœ‹ä¸‹ä¸€ç¯‡ã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è§†é¢‘ï¼š&lt;a href=&quot;https://www.bilibili.com/video/av47952931/?p=1&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Spring5æ•™ç¨‹IDEAç‰ˆ-4å¤©-2018é»‘é©¬&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;h
      
    
    </summary>
    
      <category term="JavaWeb" scheme="zhangzef.com/categories/JavaWeb/"/>
    
    
      <category term="Spring" scheme="zhangzef.com/tags/Spring/"/>
    
      <category term="æ¡†æ¶" scheme="zhangzef.com/tags/%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>è®°--20190923</title>
    <link href="zhangzef.com/2019/09/23/%E8%AE%B0-20190923/"/>
    <id>zhangzef.com/2019/09/23/è®°-20190923/</id>
    <published>2019-09-23T12:17:55.000Z</published>
    <updated>2019-12-02T12:20:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©çš„å¿ƒæƒ…å¯èƒ½å°±åƒè¿‡å±±è½¦ä¸€æ ·ï¼Œè½èµ·è½è½è½è½è½ã€‚ã€‚ã€‚åˆ°æ™šä¸Šçš„æ—¶å€™å·²ç»éº»æœ¨ï¼Œä»€ä¹ˆéƒ½æ— æ‰€è°“äº†ã€‚ã€‚ã€‚</p><h2 id="è“æ¡¥æ¯æŠ¥é”€"><a href="#è“æ¡¥æ¯æŠ¥é”€" class="headerlink" title="è“æ¡¥æ¯æŠ¥é”€"></a>è“æ¡¥æ¯æŠ¥é”€</h2><p>å…³äºè“æ¡¥æ¯æŠ¥é”€çš„äº‹è·‘äº†æŒºé•¿æ—¶é—´äº†ï¼Œå¯èƒ½æ˜¯è‡ªå·±åŠäº‹èƒ½åŠ›å¤ªå·®äº†ï¼Œæ¯æ¬¡éƒ½åƒæ— å¤´è‹è‡ä¸€æ ·åˆ°å¤„ä¹±æ’ã€‚é—®äº†è®¡ç®—æœºé™¢çš„è€å¸ˆï¼Œè¿˜é—®äº†16çº§çš„è¾…å¯¼å‘˜ï¼Œè·‘äº†æ–°åŒºè€åŒºï¼Œä»Šå¤©ç»ˆäºç»™ä»–å¼„å®Œäº†ï¼Œä¸è¿‡æœ€ååšçš„ä¸å¤ªå¥½ï¼Œå¿˜è®°å°†æŠ¥é”€æ˜ç»†ç»™è®°ä¸‹æ¥ç®—ä¸€ç®—ï¼ŒæŒºå¤±è¯¯çš„ã€‚å…¶å®æœ€åæŒºæ„Ÿè°¢16çº§çš„è¾…å¯¼å‘˜çš„ï¼Œè¿˜æ˜¯å¥¹å¸®æˆ‘æ‰¾çš„è€å¸ˆå»ç®—æŠ¥é”€ï¼Œè¦ä¸ç„¶åˆå¾—é—®ä¸€å¤§å †äººã€‚ã€‚ã€‚æœ€ååŠå®Œä¸“é—¨ç»™è€å¸ˆå‘äº†ä¸ªçŸ­ä¿¡è°¢è°¢è€å¸ˆã€‚</p><h2 id="ACMçœèµ›å•é¡¹å¥–å­¦é‡‘å®¡æ ¸"><a href="#ACMçœèµ›å•é¡¹å¥–å­¦é‡‘å®¡æ ¸" class="headerlink" title="ACMçœèµ›å•é¡¹å¥–å­¦é‡‘å®¡æ ¸"></a>ACMçœèµ›å•é¡¹å¥–å­¦é‡‘å®¡æ ¸</h2><p>å‰ä¸€æ®µæ—¶é—´å¯¼å‘˜ç»™æˆ‘è¯´æˆ‘çš„ACMçœèµ›å•é¡¹å¥–å­¦é‡‘æ²¡æœ‰è¿‡å®¡ï¼Œæˆ‘çªç„¶ä¸€æ„£ï¼Œä¸€è„¸æ‡µé€¼ã€‚å½“æ—¶è€å¸ˆè¯´çº§åˆ«ä¸å¤Ÿï¼Œç„¶åæˆ‘è§‰å¾—ä¸å¯èƒ½å•Šï¼Œå°±é—®è€å¸ˆèƒ½ä¸èƒ½ç”³è¯‰ï¼Œå¯èƒ½æ˜¯è‡ªå·±è¯­æ°”ä¸å¤ªå¥½ï¼Œè€å¸ˆç›´æ¥è¯´ä¸èƒ½ã€‚ï¼ˆè‡ªå·±æœ‰æ—¶å€™è„¾æ°”å¤ªæ€¥äº†ï¼‰åæ¥é—®äº†å­¦é•¿å•¥çš„ï¼Œåˆå’Œè€å¸ˆè”ç³»äº†ä¸€ä¸‹ï¼Œè€å¸ˆä¹Ÿå¸®å¿™é—®äº†é—®ã€‚æœ€åè®©æˆ‘å»è¡Œæ”¿æ¥¼é—®ï¼Œè¿˜ä¸“é—¨å®å˜±æˆ‘æ˜¯å»å’¨è¯¢ï¼Œä¸æ˜¯å»è´¨é—®ã€‚</p><p>ä»Šå¤©å»äº†è¡Œæ”¿æ¥¼ï¼Œé‚£ä¸ªè€å¸ˆè¯´è¿™ä¸ªå¥–ä»ä»Šå¹´å¼€å§‹éƒ½ä¸ç®—äº†ã€‚WTMâ€¦â€¦å½“æ—¶å°±æƒ³æ€¼ä¸€å¥ï¼Œè¿™ä¸ªå¥–ä¸ç®—å“ªä¸ªçœèµ›çš„å¥–è¿˜æœ‰èµ„æ ¼ç®—ï¼Ÿï¼Ÿï¼Ÿæœ€åè¯´äº†ä¸¤å¥ï¼Œå¿ƒé‡Œç«å¤§çš„å¾ˆï¼Œå¯èƒ½è¯­æ°”ä¹Ÿä¸å¤ªå¥½ï¼Œå°±èµ°äº†ã€‚ã€‚ã€‚</p><h2 id="ä¸‰å¥½å­¦ç”Ÿ"><a href="#ä¸‰å¥½å­¦ç”Ÿ" class="headerlink" title="ä¸‰å¥½å­¦ç”Ÿ"></a>ä¸‰å¥½å­¦ç”Ÿ</h2><p>æœ¬æ¥æƒ³ç€ä»Šå¹´æœ‰å¸Œæœ›èƒ½ç”³è¯·ä¸‰å¥½å­¦ç”Ÿçš„ï¼Œåæ¥å…¬å¸ƒåå•çš„æ—¶å€™æ²¡æœ‰æˆ‘ï¼Œå¿ƒé‡ŒæŒºå¤±è½çš„ï¼Œå°±å’Œå‰é¢é‚£ä¸ªäººç»¼åˆæµ‹è¯„å·®äº†0.3åˆ†ï¼Œæ­£æ­£å¥½åˆ°æˆ‘å‰é¢ä¸€ä¸ªäººï¼Œå®åŠ›ä¸è¡Œï¼Œæ— è¯å¯è¯´ã€‚ä»Šå¤©ç­é•¿å’Œæˆ‘è¯´æˆ‘ä»¬ä¸“ä¸šå¤šå‡ºæ¥ä¸€ä¸ªä¸‰å¥½å­¦ç”Ÿåé¢ï¼Œæœ€åå¯¼å‘˜è¯´æˆ‘æ–‡åŒ–è¯¾æˆç»©ä¸å¤Ÿå¹´çº§å‰ç™¾åˆ†ä¹‹ä¸‰åï¼Œæ²¡æœ‰ç»™æˆ‘ï¼Œè¡Œå§ï¼Œè«å¾—åŠæ³•ï¼Œèœå°±æ˜¯èœã€‚ã€‚ã€‚</p><h2 id="å…³äºè€ƒç ”"><a href="#å…³äºè€ƒç ”" class="headerlink" title="å…³äºè€ƒç ”"></a>å…³äºè€ƒç ”</h2><p>ä»Šå¤©å¬äº†æŸè€ƒç ”æœºæ„çš„è®²è¯¾ï¼Œçªç„¶æ„Ÿè§‰è¦å¼€å§‹å­¦è‹±è¯­å’Œæ•°å­¦äº†ï¼Œè™½ç„¶ä»–è®²çš„æœ‰äº›å¤¸å¼ ï¼Œæƒ³è®©æˆ‘ä»¬æŠ¥è¾…å¯¼ç­ï¼Œä½†æ˜¯è‹±è¯­å’Œæ•°å­¦ç¡®å®å¾—æ‹‰é•¿æˆ˜çº¿ï¼Œæ„Ÿè§‰å¥½ç´§å¼ å•Šï¼Œè¿˜æƒ³å•ƒä¸€å•ƒè¥¿ç“œä¹¦å’Œä¸¤æœ¬é»‘ç –å¤´çš„æ“ä½œç³»ç»Ÿå’Œè®¡ç½‘çš„ä¹¦äº†ï¼Œå…‰è¿™ä¸‰æœ¬ç –å¤´å°±å¤Ÿæˆ‘çœ‹çš„äº†ï¼Œæ„Ÿè§‰æ—¶é—´ä¸å¤Ÿå•Šï¼Œè¿˜è¦å‡†å¤‡æ¥ä¸‹æ¥çš„åŒºåŸŸèµ›ï¼Œå§æ§½ï¼Œå‹åŠ›å¥½å¤§å•Šã€‚ã€‚ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è‡ªå·±åœ¨åŠäº‹èƒ½åŠ›å’Œä¸äººäº¤æµèƒ½åŠ›ä¸Šå·®å¤ªå¤šäº†ï¼Œä»¥åå¯¹è€å¸ˆå’Œæ‰¾åˆ«äººåŠäº‹ä¸€å®šè¦å¿ä½è„¾æ°”ï¼Œå¯¹åˆ«äººä¸€å®šè¦è°¦é€Šæœ‰ç¤¼è²Œï¼ŒåŠå®Œäº‹åˆ«å¿˜è¯´è°¢è°¢ï¼Œéº»çƒ¦æ‚¨äº†ï¼Œå’Œåˆ«äººæ‰“å£°æ‹›å‘¼ã€‚å¯¹æœªæ¥è¿™å­¦æœŸçš„è§„åˆ’ä¹Ÿè¯¥åšä¸€åšäº†ï¼Œè€ƒç ”è‹±è¯­æ•°å­¦ï¼Œçœ‹ä¹¦ï¼ŒACMåŒºåŸŸèµ›ã€‚å¸Œæœ›èƒ½åœ¨åŒºåŸŸèµ›æ‹¿ä¸ªç‰Œå­ï¼Œè¦æ˜¯ä»€ä¹ˆéƒ½æ²¡æ‹¿åˆ°ï¼Œå¤§å­¦å››å¹´çœŸçš„æ˜¯åºŸäº†ã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©çš„å¿ƒæƒ…å¯èƒ½å°±åƒè¿‡å±±è½¦ä¸€æ ·ï¼Œè½èµ·è½è½è½è½è½ã€‚ã€‚ã€‚åˆ°æ™šä¸Šçš„æ—¶å€™å·²ç»éº»æœ¨ï¼Œä»€ä¹ˆéƒ½æ— æ‰€è°“äº†ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è“æ¡¥æ¯æŠ¥é”€&quot;&gt;&lt;a href=&quot;#è“æ¡¥æ¯æŠ¥é”€&quot; class=&quot;headerlink&quot; title=&quot;è“æ¡¥æ¯æŠ¥é”€&quot;&gt;&lt;/a&gt;è“æ¡¥æ¯æŠ¥é”€&lt;/h2&gt;&lt;p&gt;å…³äºè“æ¡¥
      
    
    </summary>
    
      <category term="æ—¥å¿—" scheme="zhangzef.com/categories/%E6%97%A5%E5%BF%97/"/>
    
    
      <category term="å¿ƒæƒ…" scheme="zhangzef.com/tags/%E5%BF%83%E6%83%85/"/>
    
      <category term="æ„Ÿæ‚Ÿ" scheme="zhangzef.com/tags/%E6%84%9F%E6%82%9F/"/>
    
  </entry>
  
  <entry>
    <title>Codeforces Round #587 (Div. 3) æ¯”èµ›&amp;è¡¥é¢˜</title>
    <link href="zhangzef.com/2019/09/21/Codeforces-Round-587-Div-3-%E6%AF%94%E8%B5%9B-%E8%A1%A5%E9%A2%98/"/>
    <id>zhangzef.com/2019/09/21/Codeforces-Round-587-Div-3-æ¯”èµ›-è¡¥é¢˜/</id>
    <published>2019-09-21T09:50:46.000Z</published>
    <updated>2020-02-14T10:54:33.242Z</updated>
    
    <content type="html"><![CDATA[<p>tipsï¼šå¤§å®¶è¯„è®ºçš„æ—¶å€™å†™ä¸€ä¸‹é‚®ç®±å’Œæ˜µç§°å‘€ï¼Œå¤´åƒæ˜¯æ ¹æ®æ˜µç§°å’Œé‚®ç®±éšæœºç”Ÿæˆçš„ğŸ˜</p><p>æƒ³å¼€å§‹æ‰“ä¸€æ‰“cfï¼Œåˆ·é¢˜åˆ·çš„å¤ªå°‘äº†ï¼Œå¤ªåƒäºäº†ã€‚</p><h2 id="1216A-Prefixes"><a href="#1216A-Prefixes" class="headerlink" title="1216A. Prefixes"></a>1216A. Prefixes</h2><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ç»™ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸ºå¶æ•°ï¼ŒåªåŒ…å«å°å†™å­—æ¯aå’Œbï¼Œä½ å¯ä»¥å˜æ¢å…¶ä¸­ä»»æ„ä¸€ä¸ªå­—æ¯ï¼ŒæŠŠaæ¢æˆbæˆ–è€…æŠŠbæ¢æˆaã€‚è¦æ±‚æœ€åç»“æœä¸­çš„å­—ç¬¦ä¸²ä»»æ„å¶æ•°å‰ç¼€aå’Œbçš„æ•°é‡ç›¸åŒã€‚</p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>åªéœ€è¦ä¿è¯ç¬¬iä¸ªå­—æ¯å’Œç¬¬i+1ä¸ªå­—æ¯ä¸ç›¸åŒå°±è¡Œäº†ï¼Œiæ¯æ¬¡é€’å¢2ã€‚</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">31</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">int</span> n, ans=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt;n &gt;&gt;s;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n<span class="number">-1</span>; i+=<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==s[i+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i]==<span class="string">'a'</span>)</span><br><span class="line">                s[i] = <span class="string">'b'</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                s[i] = <span class="string">'a'</span>;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;ans &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;s &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1216B-Shooting"><a href="#1216B-Shooting" class="headerlink" title="1216B. Shooting"></a>1216B. Shooting</h2><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ç»™ä½ å‡ ä¸ªç½å­ï¼Œæ¯ä¸ªç½å­çš„è€ä¹…åº¦ä¸ºaiï¼Œä½ è¦å°†æ‰€æœ‰ç½å­å‡»ç¢ï¼Œå½“ä½ è¦å‡»ç¢ç¬¬iä¸ªç½å­æ—¶ï¼Œä½ éœ€è¦å°„å‡»(ai*x+1)æ¬¡ï¼Œå…¶ä¸­xä¸ºä½ å·²ç»å‡»ç¢çš„ç½å­ï¼Œå¯è®¤ä¸ºä½ å°†ä¸€ä¸ªç½å­å‡»ç¢æ‰ä¼šå»å°„å‡»ä¸‹ä¸€ä¸ªç½å­ã€‚</p><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>xæ˜¯é‡ç‚¹ï¼Œåªè¦åå‘æ’ä¸€ä¸‹åºå°±è¡Œäº†ï¼Œæœ‰äº›ç±»ä¼¼å“ˆå¤«æ›¼æ ‘ã€‚ä¸€å¼€å§‹ä»¥ä¸ºæœ€åè®©ä¾æ¬¡è¾“å‡ºç¬¬iä¸ªç½å­æ˜¯ç¬¬å‡ æ¬¡è¢«å°„å‡»çš„ï¼Œåæ¥WAäº†ä¸€æ¬¡æ‰å‘ç°æ˜¯è®©ä¾æ¬¡è¾“å‡ºå°„å‡»çš„æ˜¯ç¬¬å‡ ä¸ªç½å­ã€‚ã€‚ã€‚</p><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> ai, index;</span><br><span class="line">&#125;ax[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(A a, A b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.ai&gt;b.ai;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt;ax[i].ai;</span><br><span class="line">        ax[i].index = i+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> x=<span class="number">0</span>, ans=<span class="number">0</span>;</span><br><span class="line">    sort(ax, ax+n, cmp1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ans+=(ax[i].ai*x+<span class="number">1</span>);</span><br><span class="line">        x++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;ans &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;ax[<span class="number">0</span>].index;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt;<span class="string">' '</span> &lt;&lt;ax[i].index;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1216C-White-Sheet"><a href="#1216C-White-Sheet" class="headerlink" title="1216C. White Sheet"></a>1216C. White Sheet</h2><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ç»™ä½ ä¸€ä¸ªç™½çº¸çš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ï¼Œè¿˜æœ‰ä¸¤å¼ é»‘çº¸çš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ï¼Œä¿è¯è¿™ä¸‰å¼ çº¸çš„è¾¹ç¼˜éƒ½å¹³è¡Œäºåæ ‡è½´ï¼Œé—®ä½ é»‘çº¸æ˜¯å¦èƒ½å®Œå…¨è¦†ç›–ä½ç™½çº¸ã€‚</p><h3 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>åæ ‡èŒƒå›´1e6ï¼Œå¯ä»¥ä¾æ¬¡éå†ç™½çº¸è¾¹ç¼˜çš„æ¯ä¸€ä¸ªç‚¹ï¼Œçœ‹ä»–æ˜¯å¦åœ¨é»‘çº¸å†…ï¼Œé€’å¢è¦è®¾æˆ0.5ï¼Œä¸èƒ½è®¾æˆ1ï¼Œæœ€åæ²¡æ—¶é—´äº†ï¼Œä¸çŸ¥é“æ€è·¯å¯¹ä¸å¯¹ï¼Œå›æ¥å†æ¥è¡¥å§ã€‚ï¼ˆè¡¥ï¼šæœç„¶è¿‡äº†ï¼Œå¤ªæ™ºéšœäº†ã€‚ã€‚ã€‚ï¼‰</p><h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x1, y1, x2, y2;</span><br><span class="line">    <span class="keyword">int</span> x3, y3, x4, y4;</span><br><span class="line">    <span class="keyword">int</span> x5, y5, x6, y6;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt;x1 &gt;&gt;y1 &gt;&gt;x2 &gt;&gt;y2;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt;x3 &gt;&gt;y3 &gt;&gt;x4 &gt;&gt;y4;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt;x5 &gt;&gt;y5 &gt;&gt;x6 &gt;&gt;y6;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">double</span> i=x1; i&lt;=x2; i+=<span class="number">0.5</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>((i&lt;=x4&amp;&amp;i&gt;=x3&amp;&amp;y1&lt;=y4&amp;&amp;y1&gt;=y3) || (i&lt;=x6&amp;&amp;i&gt;=x5&amp;&amp;y1&lt;=y6&amp;&amp;y1&gt;=y5))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt;<span class="string">"YES"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">double</span> i=y1; i&lt;=y2; i+=<span class="number">0.5</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>((i&lt;=y4&amp;&amp;i&gt;=y3&amp;&amp;x1&lt;=x4&amp;&amp;x1&gt;=x3) || (i&lt;=y6&amp;&amp;i&gt;=y5&amp;&amp;x1&lt;=x6&amp;&amp;x1&gt;=x5))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt;<span class="string">"YES"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">double</span> i=x2; i&gt;=x1; i-=<span class="number">0.5</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>((i&lt;=x4&amp;&amp;i&gt;=x3&amp;&amp;y2&lt;=y4&amp;&amp;y2&gt;=y3) || (i&lt;=x6&amp;&amp;i&gt;=x5&amp;&amp;y2&lt;=y6&amp;&amp;y2&gt;=y5))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt;<span class="string">"YES"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">double</span> i=y2; i&gt;=y2; i-=<span class="number">0.5</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>((i&lt;=y4&amp;&amp;i&gt;=y3&amp;&amp;x2&lt;=x4&amp;&amp;x2&gt;=x3) || (i&lt;=y6&amp;&amp;i&gt;=y5&amp;&amp;x2&lt;=x6&amp;&amp;x2&gt;=x5))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt;<span class="string">"YES"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;<span class="string">"NO"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1216D-Swords"><a href="#1216D-Swords" class="headerlink" title="1216D. Swords"></a>1216D. Swords</h2><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>åœ°ä¸‹å®¤æœ‰nç§å‰‘ï¼Œæ¯ç§å‰‘æœ‰xä¸ªï¼Œæœ‰yä¸ªäººæ¥åœ°ä¸‹å®¤å·å‰‘ï¼Œæ¯ä¸ªäººåªæ‹¿ä¸€ç§å‰‘ï¼Œæ¯ä¸ªäººæ‹¿äº†zä¸ªå‰‘ã€‚ç°åœ¨å‘ç°åœ°ä¸‹å®¤çš„å‰‘è¢«å·äº†ï¼Œæ¯ç§å‰‘å‰©ä¸‹aiä¸ªï¼Œå…¶ä¸­x, y, zæœªçŸ¥ï¼Œç»™å‡ºnå’Œaiï¼Œè®©ä½ æ±‚å‡ºæœ€å°‘yä¸ªäººæ¥å·å‰‘å’Œæ¯ä¸ªäººå·äº†å¤šå°‘å‰‘zã€‚</p><h3 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ç”¨æœ€å¤§çš„æ•°ä¾æ¬¡å‡å»å…¶ä»–æ‰€æœ‰aiï¼Œæ±‚ä»–ä»¬æ‰€æœ‰çš„æœ€å¤§å…¬å› æ•°ï¼Œç„¶åå†ç”¨å‰é¢ç®—å‡ºæ¥çš„æœ€å¤§æ•°å’Œå…¶ä»–æ•°çš„å·®é™¤ä»¥æœ€å¤§å…¬å› æ•°ï¼Œåˆ™å¯ç®—å‡ºæœ‰å¤šå°‘äººæ¥å·å‰‘äº†ï¼Œæœ€å¤§å…¬å› æ•°å³ä¸ºæ¯ä¸ªäººå·äº†å¤šå°‘å‰‘ã€‚</p><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s, ss;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">    sort(a, a+n, cmp);</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        x = a[<span class="number">0</span>]-a[i];</span><br><span class="line">        <span class="keyword">if</span>(x)</span><br><span class="line">        &#123;</span><br><span class="line">            s.push(x);</span><br><span class="line">            ss.push(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(s.size()&gt;<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        x = s.top();</span><br><span class="line">        s.pop();</span><br><span class="line">        y = s.top();</span><br><span class="line">        s.pop();</span><br><span class="line"></span><br><span class="line">        s.push(__gcd(x, y));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!ss.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        x = ss.top();</span><br><span class="line">        ss.pop();</span><br><span class="line">        ans+=(x/s.top());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld %d\n"</span>, ans, s.top());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1216E1-Numerical-Sequence-easy-version"><a href="#1216E1-Numerical-Sequence-easy-version" class="headerlink" title="1216E1. Numerical Sequence (easy version)"></a>1216E1. Numerical Sequence (easy version)</h2><h3 id="é¢˜æ„-4"><a href="#é¢˜æ„-4" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>11212312341234512345612345671234567812345678912345678910â€¦â€¦ï¼Œç»™ä½ ä¸€ä¸ªè¿™æ ·çš„æ— é™å¾ªç¯æ•°åˆ—ï¼Œ1ã€12ã€123ã€1234ã€12345â€¦â€¦è¿™æ ·å¾ªç¯ï¼Œè¯¢é—®qæ¬¡ï¼Œæ¯æ¬¡è¯¢é—®åœ¨è¿™ä¸ªæ•°åˆ—ä¸­ç¬¬kä½æ˜¯ä»€ä¹ˆæ•°å­—ã€‚æ³¨æ„ï¼š11ç®—ä¸¤ä½æ•°å­—ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•°å­—ã€‚kæœ€å¤§ä¸º1e9ï¼Œqä¸å¤§äº100ã€‚</p><h3 id="é¢˜è§£-4"><a href="#é¢˜è§£-4" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><img src="http://image.zhangzef.com/20200214182222.png" alt="img" style="zoom: 50%;"></p><p>ç”±ç¨‹åºç®—å‡ºå½“kä¸º1e9æ—¶æ€»å…±ä¹Ÿæ‰21837ä¸ªæ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬åªç”¨é¢„å¤„ç†å‡ºå‰1e5ä¸ªæ•°çš„æ’åˆ—ï¼Œé¢„å¤„ç†æ—¶è®°å½•ä¸‹æ¯ä¸ªæ•°çš„æœ€åä¸€ä½æ’åˆ°å“ªé‡Œäº†ï¼Œæœ€åç›´æ¥æŸ¥è¡¨å°±è¡Œäº†ã€‚</p><p>è®¡ç®—ç¨‹åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ll k=<span class="number">0</span>, i=<span class="number">1</span>, x;</span><br><span class="line">    <span class="keyword">while</span>(k&lt;=<span class="number">1000000000</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll j=<span class="number">1</span>; j&lt;=i; j++)&#123;</span><br><span class="line">            x = j;</span><br><span class="line">            <span class="keyword">while</span>(x)&#123;k++;x/=<span class="number">10</span>;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> num[maxn*<span class="number">5</span>], pre[maxn], n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">cal</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!x)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    cal(x/<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    num[++n] = x%<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">100000</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cal(i);</span><br><span class="line">        pre[i] = n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> q;</span><br><span class="line">    ll k;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt;q;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(q--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt;k;</span><br><span class="line">        ll sum=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;<span class="number">100000</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(sum+pre[i]&lt;k)</span><br><span class="line">                sum+=pre[i];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt;num[k-sum] &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://www.cnblogs.com/last-diary/p/11567813.html" target="_blank" rel="noopener">å‡†ç‚¹çš„æ˜Ÿè¾°Codeforces Round #587(Div.3)</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;tipsï¼šå¤§å®¶è¯„è®ºçš„æ—¶å€™å†™ä¸€ä¸‹é‚®ç®±å’Œæ˜µç§°å‘€ï¼Œå¤´åƒæ˜¯æ ¹æ®æ˜µç§°å’Œé‚®ç®±éšæœºç”Ÿæˆçš„ğŸ˜&lt;/p&gt;
&lt;p&gt;æƒ³å¼€å§‹æ‰“ä¸€æ‰“cfï¼Œåˆ·é¢˜åˆ·çš„å¤ªå°‘äº†ï¼Œå¤ªåƒäºäº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;1216A-Prefixes&quot;&gt;&lt;a href=&quot;#1216A-Prefixes&quot; class=&quot;header
      
    
    </summary>
    
      <category term="æ¯”èµ›&amp;è¡¥é¢˜" scheme="zhangzef.com/categories/%E6%AF%94%E8%B5%9B-%E8%A1%A5%E9%A2%98/"/>
    
    
      <category term="ACM" scheme="zhangzef.com/tags/ACM/"/>
    
      <category term="Codeforces" scheme="zhangzef.com/tags/Codeforces/"/>
    
  </entry>
  
  <entry>
    <title>kuangbinä¸“é¢˜ä¸€ç®€å•æœç´¢</title>
    <link href="zhangzef.com/2019/09/19/kuangbin%E4%B8%93%E9%A2%98%E4%B8%80%E7%AE%80%E5%8D%95%E6%90%9C%E7%B4%A2/"/>
    <id>zhangzef.com/2019/09/19/kuangbinä¸“é¢˜ä¸€ç®€å•æœç´¢/</id>
    <published>2019-09-19T14:28:56.000Z</published>
    <updated>2020-02-02T10:13:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>tipsï¼šå¤§å®¶è¯„è®ºçš„æ—¶å€™å†™ä¸€ä¸‹é‚®ç®±å’Œæ˜µç§°å‘€ï¼Œå¤´åƒæ˜¯æ ¹æ®æ˜µç§°å’Œé‚®ç®±éšæœºç”Ÿæˆçš„ğŸ˜</p><p><a href="https://vjudge.net/article/187" target="_blank" rel="noopener">kuangbinä¸“é¢˜åˆé›†</a></p><p><a href="https://www.zhihu.com/question/51727516/answer/127265733" target="_blank" rel="noopener">ACMæ­£ç¡®å…¥é—¨æ–¹å¼â€”â€”æ•°å­¦lover</a></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>2020-01-27æ›´æ–°<br>å¿«è¦è€ƒç ”äº†ï¼Œåœ¨acmé‡Œé¢ä¹Ÿæ²¡ä»€ä¹ˆæˆå°±ï¼Œå”‰<br>ä¸‹å­¦æœŸè¿˜è¦å‚åŠ è“æ¡¥æ¯ï¼Œå°±è¶å¯’å‡åœ¨å®¶å¤ï¼ˆyuï¼‰ä¹ è€ƒç ”è¯¾ç¨‹çš„é—´éš™ç»ƒä¸€ç»ƒé¢˜å§ï¼Œè“æ¡¥æ¯æŠ¥çš„Javaç»„ï¼Œæ°´ä¸€ä¸ªå›½å¥–ç®—äº†ï¼Œå¤§å­¦å››å¹´æœ€åä¸¤ä¸ªæ„¿æœ›äº†ï¼Œè“æ¡¥æ¯æ‹¿ä¸ªå›½å¥–ï¼‹è€ƒç ”é¡ºåˆ©ï¼ŒåŠ æ²¹ï¼ï¼ï¼</p><p>2020-0202æ›´æ–°</p><p>ç»ˆäºæŠŠæš‘å‡æŒ–çš„å‘ç»™å¡«ä¸Šäº†ï¼Œæ¥ä¸‹æ¥è¦å¼€å§‹ä¸“é¢˜å››ï¼Œè¿™å‡ å¤©éƒ½æ²¡æœ‰èƒŒå•è¯çœ‹é«˜æ•°ï¼Œå¾—å¤šçœ‹ä¸€çœ‹äº†ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><h2 id="é¢˜ç›®åˆ—è¡¨"><a href="#é¢˜ç›®åˆ—è¡¨" class="headerlink" title="é¢˜ç›®åˆ—è¡¨"></a>é¢˜ç›®åˆ—è¡¨</h2><ol><li><a href="https://vjudge.net/problem/POJ-1321" target="_blank" rel="noopener"><strong>POJ 1321</strong></a> æ£‹ç›˜é—®é¢˜    <font color="green">AC: 2018-07-17 23:54:31</font></li><li><a href="https://vjudge.net/problem/POJ-2251" target="_blank" rel="noopener"><strong>POJ 2251</strong></a> Dungeon Master    <font color="green">AC: 2019-09-19 18:32:04</font></li><li><a href="https://vjudge.net/problem/POJ-3278" target="_blank" rel="noopener"><strong>POJ 3278</strong></a> Catch That Cow    <font color="green">AC: 2019-09-21 19:37:10</font></li><li><a href="https://vjudge.net/problem/POJ-3279" target="_blank" rel="noopener"><strong>POJ 3279</strong></a> Fliptile    <font color="green">AC: 2019-09-22 16:09:25</font></li><li><a href="https://vjudge.net/problem/POJ-1426" target="_blank" rel="noopener"><strong>POJ 1426</strong></a> Find The Multiple    <font color="green">AC: 2019-09-23 20:09:26</font></li><li><a href="https://vjudge.net/problem/POJ-3126" target="_blank" rel="noopener"><strong>POJ 3126</strong></a> Prime Path    <font color="green">AC: 2019-09-24 22:48:09</font></li><li><a href="https://vjudge.net/problem/POJ-3087" target="_blank" rel="noopener"><strong>POJ 3087</strong></a> Shuffleâ€™m Up    <font color="green">AC: 2020-01-31 18:33:39</font></li><li><a href="https://vjudge.net/problem/POJ-3414" target="_blank" rel="noopener"><strong>POJ 3414</strong></a> Pots    <font color="green">AC: 2020-02-01 18:51:43</font></li><li><a href="https://vjudge.net/problem/FZU-2150" target="_blank" rel="noopener"><strong>FZU 2150</strong></a> Fire Game    <font color="yellow">å¾…å®šï¼ŒojæŒ‚äº†</font></li><li><a href="https://vjudge.net/problem/UVA-11624" target="_blank" rel="noopener"><strong>UVA 11624</strong></a> Fire!    <font color="green">AC: 2020-02-02 16:13:29</font></li><li><a href="https://vjudge.net/problem/POJ-3984" target="_blank" rel="noopener"><strong>POJ 3984</strong></a> è¿·å®«é—®é¢˜    <font color="green">AC: 2020-01-27 22:42:36</font></li><li><a href="https://vjudge.net/problem/HDU-1241" target="_blank" rel="noopener"><strong>HDU 1241</strong></a> Oil Deposits    <font color="green">AC: 2020-02-02 17:05:05</font></li><li><a href="https://vjudge.net/problem/HDU-1495" target="_blank" rel="noopener"><strong>HDU 1495</strong></a> éå¸¸å¯ä¹    <font color="green">AC: 2020-01-31 16:58:53</font></li><li><a href="https://vjudge.net/problem/HDU-2612" target="_blank" rel="noopener"><strong>HDU 2612</strong></a> Find a way    <font color="green">AC: 2020-02-02 17:58:08</font></li></ol><h2 id="POJ1321-æ£‹ç›˜é—®é¢˜"><a href="#POJ1321-æ£‹ç›˜é—®é¢˜" class="headerlink" title="POJ1321    æ£‹ç›˜é—®é¢˜"></a><a href="https://vjudge.net/problem/POJ-1321" target="_blank" rel="noopener">POJ1321    æ£‹ç›˜é—®é¢˜</a></h2><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>å°±æ˜¯åœ¨æ£‹ç›˜ä¸Šæ”¾æ£‹å­ï¼Œæ”¾çš„æ—¶å€™ä¸èƒ½åŒè¡ŒåŒåˆ—ï¼Œå’Œå…«çš‡åé—®é¢˜ç±»ä¼¼ï¼Œåªä¸è¿‡ç©ºç™½çš„åœ°æ–¹ä¸èƒ½æ”¾ã€‚è¿™æ˜¯æˆ‘å»å¹´æš‘å‡acmè®­ç»ƒæ—¶å†™çš„ï¼Œç°åœ¨å·²ç»å¿˜äº†å½“æ—¶å’‹å†™çš„äº†ï¼Œçœ‹ç€è‡ªå·±WAäº†å¥½å¤šå‘ï¼Œå¤ªèœäº†ã€‚ã€‚ã€‚dfsæ—¶è®°å¾—å¤åŸã€‚</p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>dfså§ï¼Œæ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œå…«çš‡åæ¨¡æ¿é¢˜ã€‚å¥½çƒ¦å•Šï¼ŒPOJä¸èƒ½ç”¨ä¸‡èƒ½å¤´æ–‡ä»¶ã€‚ã€‚ã€‚</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">1</span> &lt;&lt; <span class="number">30</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, ans;</span><br><span class="line"><span class="keyword">char</span> pan[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> l)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cnt == m)</span><br><span class="line">    &#123;</span><br><span class="line">        ans++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(l&gt;=n)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="keyword">if</span>(pan[l][i]==<span class="string">'#'</span> &amp;&amp; !vis[i])</span><br><span class="line">            &#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                vis[i]=<span class="number">1</span>;</span><br><span class="line">                dfs(l+<span class="number">1</span>);</span><br><span class="line">                vis[i]=<span class="number">0</span>;</span><br><span class="line">                cnt--;</span><br><span class="line">            &#125;</span><br><span class="line">            dfs(l+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios::sync_with_stdio(0), cin.tie(0);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt;n &gt;&gt;m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">-1</span> &amp;&amp; m==<span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++)</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt;pan[i][j];</span><br><span class="line"></span><br><span class="line">        ans = cnt = <span class="number">0</span>;</span><br><span class="line">        dfs(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt;ans &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="POJ2251-Dungeon-Master"><a href="#POJ2251-Dungeon-Master" class="headerlink" title="POJ2251    Dungeon Master"></a><a href="https://vjudge.net/problem/POJ-2251" target="_blank" rel="noopener">POJ2251    Dungeon Master</a></h2><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ä¸€ä¸ª3Dè¿·å®«ï¼Œæ€»å…±å…­ä¸ªæ–¹å‘ï¼Œä¸Šä¸‹å·¦å³å‰åã€‚æœ‰çš„åœ°æ–¹ä¸èƒ½èµ°æœ‰çš„èƒ½èµ°ï¼Œç»™å‡ºèµ·ç‚¹ç»ˆç‚¹ï¼Œé—®ä½ èƒ½ä¸èƒ½èµ°åˆ°ç»ˆç‚¹ï¼Œå¦‚æœèƒ½çš„è¯åº”è¯¥æ˜¯æ±‚ç”¨æ—¶æœ€çŸ­çš„å§ï¼ˆé¢˜ç›®ä¸­æ²¡è¯´ï¼Œä¸€å¼€å§‹ç”¨dfsWAäº†ï¼Œåæ¥çœ‹åˆ«äººéƒ½ç”¨bfsæ‰å‘ç°æ˜¯ä¸æ˜¯è¦æ±‚æœ€çŸ­è·¯ï¼‰ã€‚æ²¡ç§»åŠ¨ä¸€æ¬¡è¦èŠ±è´¹ä¸€åˆ†é’Ÿã€‚</p><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>bfsï¼Œä¸€å¼€å§‹ç”¨bfsä¸€ç›´å†…å­˜è¶…é™ï¼Œå¿«ç»™æˆ‘éƒé—·æ­»äº†ã€‚ã€‚ã€‚è¦æŠŠèµ°è¿‡çš„ç‚¹ç”¨#å µä¸Šï¼Œé˜²æ­¢å¤šä½™çš„ç»“ç‚¹å…¥é˜Ÿåˆ—ã€‚</p><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">31</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x, y, z, step;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">node <span class="title">make_node</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z, <span class="keyword">int</span> step)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node a;</span><br><span class="line">    a.x = x, a.y = y, a.z = z, a.step=step;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> l, r, c;</span><br><span class="line">    <span class="keyword">char</span> mp[maxn][maxn][maxn];</span><br><span class="line">    <span class="keyword">int</span> dx[<span class="number">6</span>]= &#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> dy[<span class="number">6</span>]= &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> dz[<span class="number">6</span>]= &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt;l &gt;&gt;r &gt;&gt;c &amp;&amp; l+r+c)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> x, y, z;</span><br><span class="line">        <span class="built_in">queue</span>&lt;node&gt; q;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;l; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;r; j++)</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;c; k++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">cin</span> &gt;&gt;mp[i][j][k];</span><br><span class="line">                    <span class="keyword">if</span>(mp[i][j][k]==<span class="string">'S'</span>)</span><br><span class="line">                        q.push(make_node(i, j, k, <span class="number">0</span>));</span><br><span class="line">                    <span class="keyword">if</span>(mp[i][j][k]==<span class="string">'E'</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        x = i;</span><br><span class="line">                        y = j;</span><br><span class="line">                        z = k;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            getchar();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">while</span>(!q.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            node a = q.front();</span><br><span class="line">            q.pop();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(a.x==x &amp;&amp; a.y==y &amp;&amp; a.z==z)</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt;<span class="string">"Escaped in "</span>&lt;&lt;a.step &lt;&lt;<span class="string">" minute(s)."</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(mp[a.x+dx[i]][a.y+dy[i]][a.z+dz[i]]!=<span class="string">'#'</span>)</span><br><span class="line">                    <span class="keyword">if</span>(a.x+dx[i]&gt;=<span class="number">0</span> &amp;&amp; a.x+dx[i]&lt;l &amp;&amp; a.y+dy[i]&gt;=<span class="number">0</span> &amp;&amp; a.y+dy[i]&lt;r &amp;&amp; a.z+dz[i]&gt;=<span class="number">0</span> &amp;&amp; a.z+dz[i]&lt;c)</span><br><span class="line">                    &#123;</span><br><span class="line">                        q.push(make_node(a.x+dx[i], a.y+dy[i], a.z+dz[i], a.step+<span class="number">1</span>));</span><br><span class="line">                        mp[a.x+dx[i]][a.y+dy[i]][a.z+dz[i]] = <span class="string">'#'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt;<span class="string">"Trapped!"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="POJ3287-Catch-That-Cow"><a href="#POJ3287-Catch-That-Cow" class="headerlink" title="POJ3287    Catch That Cow"></a><a href="https://vjudge.net/problem/POJ-3278" target="_blank" rel="noopener">POJ3287    Catch That Cow</a></h2><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ä½ çš„ç‰›è·‘äº†ï¼Œè¦æŠŠå®ƒæŠ“å›æ¥ã€‚ä½ çš„ä½ç½®åœ¨nï¼Œç‰›çš„ä½ç½®åœ¨kï¼Œç‰›ä¸ä¼šè·‘ï¼Œä½ è¦ç”¨æœ€å°‘çš„æ—¶é—´èµ°åˆ°ç‰›çš„ä½ç½®ã€‚ä½ ä»¬çš„ä½ç½®éƒ½åœ¨åŒä¸€ä¸ªæ•°è½´ä¸Šï¼Œåªæœ‰å·¦å³ä¸¤ä¸ªæ–¹å‘ï¼Œä½ æœ‰ä¸‰ç§èµ°æ³•ï¼Œå·¦èµ°ä¸€æ­¥ã€å³èµ°ä¸€æ­¥æˆ–è€…ä¼ é€åˆ°ä½ å½“å‰åæ ‡çš„äºŒå€çš„ä½ç½®ï¼Œè¿™ä¸‰ç§èµ°æ³•éƒ½åªèŠ±è´¹ä¸€åˆ†é’Ÿã€‚nå’Œkéƒ½å°äºç­‰äº100000</p><h3 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>åªæœ‰ä¸‰ç§æ“ä½œï¼Œæ±‚æœ€çŸ­æ—¶é—´ï¼Œå¯ä»¥ç”¨bfsã€‚bfsè¦è®¾ç½®ä¸€ä¸ªvisæ•°ç»„ï¼Œæ³¨æ„ä¸èƒ½æ•°ç»„è¶Šç•Œã€‚è¿˜è¦æ³¨æ„å½“n==kçš„æ—¶å€™ã€‚ä¸€å¼€å§‹ä¸€ç›´è¶…å†…å­˜ï¼Œåæ¥å‘ç°è¦è®¾ä¸€ä¸ªvisæ•°ç»„å‰ªæã€‚</p><h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> p, t;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">node <span class="title">make_node</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node a;</span><br><span class="line">    a.p = p;</span><br><span class="line">    a.t = t;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, k;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt;n &gt;&gt;k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n==k)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt;<span class="number">0</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span> vis);</span><br><span class="line">        <span class="built_in">queue</span>&lt;node&gt; q;</span><br><span class="line">        q.push(make_node(n, <span class="number">0</span>));</span><br><span class="line">        vis[n] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(!q.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            node a = q.front();</span><br><span class="line">            q.pop();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(a.p+<span class="number">1</span>==k || a.p<span class="number">-1</span>==k || a.p*<span class="number">2</span>==k)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt;a.t+<span class="number">1</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(a.p&lt;k)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a.p+<span class="number">1</span>&lt;=<span class="number">100000</span> &amp;&amp; !vis[a.p+<span class="number">1</span>])</span><br><span class="line">                &#123;</span><br><span class="line">                    q.push(make_node(a.p+<span class="number">1</span>, a.t+<span class="number">1</span>));</span><br><span class="line">                    vis[a.p+<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(a.p*<span class="number">2</span>-k&lt;k-a.p &amp;&amp; a.p*<span class="number">2</span>&lt;=<span class="number">100000</span> &amp;&amp; !vis[a.p*<span class="number">2</span>])</span><br><span class="line">                &#123;</span><br><span class="line">                    q.push(make_node(a.p*<span class="number">2</span>, a.t+<span class="number">1</span>));</span><br><span class="line">                    vis[a.p*<span class="number">2</span>] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(a.p<span class="number">-1</span>&gt;=<span class="number">0</span> &amp;&amp; !vis[a.p<span class="number">-1</span>])</span><br><span class="line">                &#123;</span><br><span class="line">                    q.push(make_node(a.p<span class="number">-1</span>, a.t+<span class="number">1</span>));</span><br><span class="line">                    vis[a.p<span class="number">-1</span>] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a.p&gt;k &amp;&amp; a.p<span class="number">-1</span>&gt;=<span class="number">0</span> &amp;&amp; !vis[a.p<span class="number">-1</span>])</span><br><span class="line">            &#123;</span><br><span class="line">                q.push(make_node(a.p<span class="number">-1</span>, a.t+<span class="number">1</span>));</span><br><span class="line">                vis[a.p<span class="number">-1</span>] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="POJ3279-Fliptile"><a href="#POJ3279-Fliptile" class="headerlink" title="POJ3279    Fliptile"></a><a href="https://vjudge.net/problem/POJ-3279" target="_blank" rel="noopener">POJ3279    Fliptile</a></h2><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>æœ‰n*mä¸ªæ–¹æ ¼ï¼Œæ¯ä¸ªæ–¹æ ¼éƒ½æœ‰ä¸€å—ç“·ç –ï¼Œç“·ç –çš„ä¸¤é¢åˆ†åˆ«æ˜¯é»‘è‰²å’Œç™½è‰²ï¼Œå½“ä½ ç¿»è½¬ç“·ç –æ—¶ç“·ç –ä¼šä»ç™½è‰²ç¿»è½¬æˆé»‘è‰²ï¼Œæˆ–è€…ä»é»‘è‰²ç¿»è½¬æˆç™½è‰²ã€‚æ ·ä¾‹è¾“å…¥ä¸ºæ¯ä¸ªæ–¹æ ¼ç“·ç –çš„åˆå§‹é¢œè‰²ï¼Œ0ä»£è¡¨ç™½è‰²ï¼Œ1ä»£è¡¨é»‘è‰²ã€‚ç°åœ¨è®©ä½ çš„å¥¶ç‰›æ¥å°†æ‰€æœ‰æ ¼å­ç¿»æˆç™½è‰²ï¼Œç”±äºå¥¶ç‰›çš„è¹„å­æ¯”è¾ƒå¤§ï¼Œå®ƒæ¯æ¬¡åè½¬çš„æ—¶ä¼šå°†ç›¸é‚»çš„ç“·ç –ä¹Ÿç¿»è½¬è¿‡æ¥ï¼Œå³ä¸Šä¸‹å·¦å³çš„ç“·ç –ã€‚æœ€åè¾“å‡ºæ¯ä¸ªç“·ç –çš„ç¿»è½¬æ¬¡æ•°ï¼Œè¦æ±‚æ€»çš„ç¿»è½¬æ¬¡æ•°æœ€å°‘ï¼Œå¦‚æœç­”æ¡ˆæœ‰å¤šç§ï¼Œåˆ™è¾“å‡ºå­—å…¸åºæœ€å°çš„é‚£ä¸ªç­”æ¡ˆã€‚</p><h3 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>è¿™é¢˜æœ‰ä¸ªæœ€é‡è¦çš„æ€æƒ³ï¼Œå°±æ˜¯ç¬¬iå±‚å¦‚æœæœ‰é»‘è‰²ç“·ç –ï¼Œè¦é€šè¿‡ç¬¬i+1å±‚çš„ç¿»è½¬å°†å…¶ç¿»è½¬æˆç™½è‰²ã€‚è¿™æ ·åªç”¨ä¿è¯å‰ä¸€å±‚æ²¡æœ‰é»‘è‰²å³å¯ï¼Œä¸ç”¨ç®¡å½“å‰å±‚ç¿»è½¬æˆä»€ä¹ˆæ ·ï¼Œä¹Ÿä¸ç”¨ç®¡ä¸‹ä¸€å±‚ã€‚è¿™æ ·çš„è¯åªè¦ç¬¬ä¸€å±‚çš„çŠ¶æ€ç¡®å®šï¼Œåé¢æ‰€æœ‰çš„çŠ¶æ€éƒ½ç¡®å®šäº†ã€‚å› ä¸ºç¬¬äºŒå±‚éœ€è¦å°†ç¬¬ä¸€å±‚çš„é»‘ç“·ç –ç¿»æˆç™½è‰²çš„ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ç¬¬äºŒå±‚å¯èƒ½ä¼šå‡ºç°é»‘ç“·ç –ï¼Œå†ç”¨ç¬¬ä¸‰å±‚å°†ç¬¬äºŒå±‚ç¿»è½¬æˆç™½è‰²çš„ï¼Œå†ç”¨ç¬¬å››å±‚å°†ã€‚ã€‚ã€‚æˆ‘ä»¬å¯ä»¥æšä¸¾ç¬¬ä¸€å±‚æ‰€æœ‰çš„çŠ¶æ€ï¼Œå³æ¯ä¸€å—ç“·ç –ç¿»æˆ–ä¸ç¿»ï¼Œæ€»å…±æœ‰2^mä¸ªï¼Œç„¶åç”¨ç¬¬äºŒå±‚å°†ç¬¬ä¸€å±‚ç¿»æˆç™½è‰²ã€‚ã€‚ã€‚ç”¨æœ€åä¸€å±‚å°†å€’æ•°ç¬¬äºŒå±‚ç¿»æˆç™½è‰²ï¼Œå› ä¸ºåé¢æ²¡æœ‰ç“·ç –æ¥ç¿»è½¬æœ€åä¸€å±‚äº†ï¼Œæ‰€æœ‰æˆ‘ä»¬é€šè¿‡åˆ¤æ–­æœ€åä¸€å±‚æœ‰æ²¡æœ‰é»‘è‰²ç“·ç –ï¼Œå°±å¯ä»¥åˆ¤æ–­è¿™ä¸ªæ–¹æ³•æ˜¯å¦å¯è¡Œã€‚</p><p>è¾“å‡ºæ¬¡æ•°æœ€å°‘çš„é‚£ä¸€ä¸ªå¯ä»¥æ¯æ¬¡ç¿»è½¬è®°å½•ä¸€ä¸‹ï¼Œæœ€åå¯¹æ¯”æ‰€æœ‰å¯èƒ½æ€§çš„ç¿»è½¬æ¬¡æ•°å–æœ€å°å³å¯ã€‚</p><p>å­—å…¸åºæœ€å°ï¼Œå³è¾“å‡ºç­”æ¡ˆæ—¶æ¯è¡Œçš„å­—å…¸åºæœ€å°ï¼Œæ¯è¡Œçš„å­—å…¸åºå³æŠŠæ‰€æœ‰æ•°å­—ä¸²æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè®©ä»–ä»¬å­—å…¸åºæœ€å°ï¼Œå³å°†0 0 0 1 1ä¸²æˆ00011ï¼Œè€Œ00011çš„å­—å…¸åºæ¯”10010å°ã€‚ä¿è¯å­—å…¸åºæœ€å°å¯ä»¥å…ˆä¿è¯ç¬¬ä¸€è¡Œå­—å…¸åºæœ€å°ï¼Œç¬¬ä¸€è¡Œæœ‰2^mç§å¯èƒ½ï¼Œæˆ‘ä»¬æŠŠæ²¡ä¸ªç“·ç –çœ‹æˆäºŒè¿›åˆ¶çš„ä¸€ä½æ•°ï¼Œé‚£ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ“ä½œå°±æ˜¯0~(1&lt;&lt;m-1)ï¼Œæˆ‘ä»¬æšä¸¾çš„æ—¶å€™ç›´æ¥ä»0å¼€å§‹æšä¸¾å°±è¡Œäº†ã€‚</p><p>ä¸€å¼€å§‹å†™çš„æ—¶å€™æ€ä¹ˆæƒ³éƒ½æ²¡æ€è·¯ï¼Œæœ€åçœ‹äº†åˆ«äººçš„é¢˜è§£æ‰å†™å‡ºæ¥ï¼Œè¿˜æ˜¯åšé¢˜å¤ªå°‘äº†ï¼Œå¤ªèœäº†ã€‚ã€‚ã€‚</p><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">1</span> &lt;&lt; <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, turnnum, turnans;</span><br><span class="line"><span class="keyword">int</span> mp[maxn][maxn], a[maxn][maxn], fn[maxn][maxn], ans[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> dx[] = &#123; <span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">turn</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">fn[i][j] = <span class="number">1</span>;</span><br><span class="line">turnnum++;</span><br><span class="line">a[i][j] = !a[i][j];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; k++)</span><br><span class="line">a[i + dx[k]][j + dy[k]] = !a[i + dx[k]][j + dy[k]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt;n &gt;&gt;m)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; mp[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> lp = <span class="number">1</span> &lt;&lt; m;</span><br><span class="line">turnans = INF;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lp; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">memset</span>(fn, <span class="number">0</span>, <span class="keyword">sizeof</span> fn);</span><br><span class="line"><span class="built_in">memcpy</span>(a, mp, <span class="keyword">sizeof</span> mp);</span><br><span class="line">turnnum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> p = i;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (p &amp; <span class="number">1</span>)</span><br><span class="line">turn(<span class="number">1</span>, j);</span><br><span class="line">p &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt;= n; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= m; k++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (a[j - <span class="number">1</span>][k])</span><br><span class="line">turn(j, k);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> j;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (a[n][j])</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (j == m+<span class="number">1</span> &amp;&amp; turnnum &lt; turnans)</span><br><span class="line">&#123;</span><br><span class="line">turnans = turnnum;</span><br><span class="line"><span class="built_in">memcpy</span>(ans, fn, <span class="keyword">sizeof</span> fn);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (turnans == INF)</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"IMPOSSIBLE"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ans[i][j] &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">&#125;<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://blog.csdn.net/c___c18/article/details/82465664" target="_blank" rel="noopener">POJ3279 äºŒè¿›åˆ¶çš„æœç´¢</a></p><h2 id="POJ1426-Find-The-Multiple"><a href="#POJ1426-Find-The-Multiple" class="headerlink" title="POJ1426    Find The Multiple"></a><a href="https://vjudge.net/problem/POJ-1426" target="_blank" rel="noopener">POJ1426    Find The Multiple</a></h2><h3 id="é¢˜æ„-4"><a href="#é¢˜æ„-4" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ç»™ä½ ä¸€ä¸ªä¸è¶…è¿‡200çš„æ•°nï¼Œè®©ä½ æ±‚ä¸€ä¸ªæ•°mï¼Œmä¸è¶…è¿‡100ä½ï¼ŒmåªåŒ…å«0å’Œ1ä¸”ï¼ˆm%nï¼‰== 0ã€‚</p><h3 id="é¢˜è§£-4"><a href="#é¢˜è§£-4" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œç›´æ¥å®šä¹‰longlong + BFSå°±è¿‡äº†ã€‚ã€‚ã€‚ä¸€å¼€å§‹æƒ³æ¨¡æ‹Ÿï¼Œè¿˜è¶…æ—¶äº†ï¼Œèœã€‚ã€‚ã€‚</p><p>åœ¨ç½‘ä¸Šçœ‹åˆ°æœ‰ä¸ªå¤§ä½¬åœ¨ç”¨è¿™é¢˜è®²<a href="https://blog.csdn.net/lyy289065406/article/details/6647917" target="_blank" rel="noopener">åŒä½™æ¨¡å®šç†</a>ï¼ŒæŠ½ç©ºçœ‹ä¸€ä¸‹ã€‚</p><h3 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> ll n, m=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt;n &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(!q.empty())q.pop();</span><br><span class="line">        m = <span class="number">1</span>;</span><br><span class="line">        q.push(m);</span><br><span class="line">        <span class="keyword">if</span>(m%n==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt;m &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!q.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            m = q.front();</span><br><span class="line">            q.pop();</span><br><span class="line">            m *= <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(m%n==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt;m &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            q.push(m);</span><br><span class="line">            m += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(m%n==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt;m &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            q.push(m);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="POJ3126-Prime-Path"><a href="#POJ3126-Prime-Path" class="headerlink" title="POJ3126    Prime Path"></a><a href="https://vjudge.net/problem/POJ-3126" target="_blank" rel="noopener">POJ3126    Prime Path</a></h2><h3 id="é¢˜æ„-5"><a href="#é¢˜æ„-5" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>æµ‹è¯•æ•°æ®ä¸è¶…è¿‡ä¸€ç™¾ç»„ï¼Œæ¯ç»„ç»™å‡ºä¸¤ä¸ªå››ä½ç´ æ•°ï¼Œè¦æ±‚ä½ å°†ç¬¬ä¸€ä¸ªæ•°å­—å˜æ¢æˆç¬¬äºŒä¸ªæ•°å­—ã€‚æ²¡å›åªèƒ½å˜æ¢ä¸€ä½æ•°å­—ï¼Œè€Œä¸”é¦–ä½æ•°å­—ä¸èƒ½å˜æˆ0ï¼Œå˜æ¢è¿‡çš„æ•°å­—ä¹Ÿå¿…é¡»ä¸ºç´ æ•°ã€‚æ¯æ¬¡å˜æ¢éœ€è¦èŠ±1ç£…ï¼Œé—®ä½ ä»ç¬¬ä¸€ä¸ªæ•°å­—å˜æ¢åˆ°ç¬¬äºŒä¸ªæ•°å­—æœ€å°èŠ±è´¹æ˜¯å¤šå°‘ã€‚</p><h3 id="é¢˜è§£-5"><a href="#é¢˜è§£-5" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æœ€å°‘èŠ±è´¹ï¼Œè‚¯å®šBFSäº†ï¼Œå…ˆç”¨çº¿æ€§ç´ æ•°ç­›æ‰“ä¸ªè¡¨ï¼Œæ¯æ¬¡è¿›é˜Ÿçš„æ•°æ®æŸ¥è¡¨æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œç„¶åæ¯ä¸€å±‚å¾ªç¯ï¼Œè¦æŠŠå››ä½æ•°å­—å…¨æ¢ä¸€éï¼Œæ¢ä¸€ä¸ªæ•°å­—è¿›ä¸€æ¬¡é˜Ÿåˆ—ï¼Œç”¨visæ•°ç»„å‰ªæã€‚</p><h3 id="ä»£ç -5"><a href="#ä»£ç -5" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> prime[maxn], pNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">bool</span> p[maxn] = &#123;<span class="literal">false</span>&#125;, vis[maxn]=&#123;<span class="literal">false</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">num</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> a, <span class="built_in">cos</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">num <span class="title">make_num</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> <span class="built_in">cos</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    num x;</span><br><span class="line">    x.a = a;</span><br><span class="line">    x.<span class="built_in">cos</span> = <span class="built_in">cos</span>;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">eulerSieve</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (p[i] == <span class="literal">false</span>)</span><br><span class="line">            prime[pNum++] = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; pNum; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i * prime[j] &gt; n)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            p[i * prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    eulerSieve(<span class="number">100000</span>);</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span> vis);</span><br><span class="line">        <span class="keyword">int</span> a, b;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt;a &gt;&gt;b;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">queue</span>&lt;num&gt; q;</span><br><span class="line">        q.push(make_num(a, <span class="number">0</span>));</span><br><span class="line">        vis[a] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(!q.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            num x = q.front();</span><br><span class="line">            q.pop();</span><br><span class="line">            <span class="keyword">if</span>(x.a==b)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt;x.<span class="built_in">cos</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;<span class="number">10</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> y = x.a;</span><br><span class="line">                <span class="keyword">if</span>(y/<span class="number">1000</span>==i)   <span class="keyword">continue</span>;</span><br><span class="line">                y = i*<span class="number">1000</span>+y%<span class="number">1000</span>;</span><br><span class="line">                <span class="keyword">if</span>(!vis[y] &amp;&amp; !p[y])</span><br><span class="line">                &#123;</span><br><span class="line">                    q.push(make_num(y, x.<span class="built_in">cos</span>+<span class="number">1</span>));</span><br><span class="line">                    vis[y] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> y = x.a;</span><br><span class="line">                <span class="keyword">if</span>(y/<span class="number">100</span>%<span class="number">10</span>==i) <span class="keyword">continue</span>;</span><br><span class="line">                y = (y/<span class="number">1000</span>*<span class="number">10</span>+i)*<span class="number">100</span>+y%<span class="number">100</span>;</span><br><span class="line">                <span class="keyword">if</span>(!vis[y] &amp;&amp; !p[y])</span><br><span class="line">                &#123;</span><br><span class="line">                    q.push(make_num(y, x.<span class="built_in">cos</span>+<span class="number">1</span>));</span><br><span class="line">                    vis[y] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> y = x.a;</span><br><span class="line">                <span class="keyword">if</span>(y%<span class="number">100</span>/<span class="number">10</span>==i) <span class="keyword">continue</span>;</span><br><span class="line">                y = (y/<span class="number">100</span>*<span class="number">10</span>+i)*<span class="number">10</span>+y%<span class="number">10</span>;</span><br><span class="line">                <span class="keyword">if</span>(!vis[y] &amp;&amp; !p[y])</span><br><span class="line">                &#123;</span><br><span class="line">                    q.push(make_num(y, x.<span class="built_in">cos</span>+<span class="number">1</span>));</span><br><span class="line">                    vis[y] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> y = x.a;</span><br><span class="line">                <span class="keyword">if</span>(y%<span class="number">10</span>==i) <span class="keyword">continue</span>;</span><br><span class="line">                y = y/<span class="number">10</span>*<span class="number">10</span>+i;</span><br><span class="line">                <span class="keyword">if</span>(!vis[y] &amp;&amp; !p[y])</span><br><span class="line">                &#123;</span><br><span class="line">                    q.push(make_num(y, x.<span class="built_in">cos</span>+<span class="number">1</span>));</span><br><span class="line">                    vis[y] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="POJ3087-Shuffleâ€™m-Up"><a href="#POJ3087-Shuffleâ€™m-Up" class="headerlink" title="POJ3087    Shuffleâ€™m Up"></a><a href="https://vjudge.net/problem/POJ-3087" target="_blank" rel="noopener">POJ3087    Shuffleâ€™m Up</a></h2><h3 id="é¢˜æ„-6"><a href="#é¢˜æ„-6" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>æ ¹æœ¬ä¸æ˜¯æœç´¢é¢˜ï¼Œå°±æ˜¯ç®€å•çš„æ¨¡æ‹Ÿé¢˜ã€‚ã€‚ã€‚<br>ç»™ä½ ä¸¤ç»„ç‰Œs1,s2ï¼Œæ¯ç»„ç‰Œçš„æ•°é‡ç›¸åŒï¼Œåˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤æ´—ç‰Œå’Œåˆ†ç‰Œã€‚<br><strong>æ´—ç‰Œ</strong>ï¼šåˆ†åˆ«ä»s1å’Œs2åº•éƒ¨æ¯æ¬¡æŠ½ä¸€å¼ ç‰Œæ”¾åˆ°æ¡Œä¸Šï¼Œå…ˆä»s2çš„åº•éƒ¨å¼€å§‹æŠ½ï¼Œç»„æˆä¸€ç»„ç‰Œs12ï¼ˆç±»ä¼¼äºå…¥æ ˆæ“ä½œï¼‰ã€‚<br><strong>åˆ†ç‰Œ</strong>ï¼šå°†ç»„æˆçš„s12å†åˆ†æˆs1å’Œs2ï¼Œå°†s12ä¸‹åŠéƒ¨åˆ†ç»„æˆs1ï¼Œå°†s12çš„ä¸ŠåŠéƒ¨åˆ†ç»„æˆs2ã€‚<br>ç‰Œçš„é¢œè‰²æ€»å…±æœ‰A~Hç§ï¼Œç°åœ¨åˆç»™ä¸€ç»„ç‰Œs3ï¼Œé—®ç»è¿‡å‡ æ¬¡æ´—ç‰Œèƒ½å°†ç‰Œæ´—æˆs3çš„æ ·å­ï¼Œå¦‚æœå¯ä»¥åˆ™è¾“å‡ºæ•°æ®ç»„åºå·å’Œæ´—ç‰Œæ¬¡æ•°ï¼Œä¸èƒ½åˆ™è¾“å‡ºæ•°æ®ç»„åºå·å’Œ-1 ã€‚ï¼ˆåºå·ä»1å¼€å§‹ï¼‰</p><h3 id="é¢˜è§£-6"><a href="#é¢˜è§£-6" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ä¸€å¼€å§‹çœ‹åˆ°é¢˜è¦æ±‚æœ€å°‘çš„æ´—ç‰Œæ¬¡æ•°ï¼Œä»¥ä¸ºè¦ç”¨bfsï¼Œç„¶ååœ¨æƒ³æ€ä¹ˆç”¨bfsçš„æ—¶å€™å‘ç°ä»–æ¯ä¸€æ­¥çš„æ“ä½œéƒ½åªæœ‰å›ºå®šçš„ä¸€ç§ï¼Œæ²¡ä»€ä¹ˆå¯æœç´¢çš„å•Šï¼Œæ‰å‘ç°å°±æ˜¯ä¸ªæš´åŠ›æ¨¡æ‹Ÿé¢˜ã€‚<br>å°±æ˜¯ç”¨é˜Ÿåˆ—æ¨¡æ‹Ÿæ´—ç‰Œå’Œå‘ç‰Œçš„è¿‡ç¨‹ï¼Œå¦‚æœä¸èƒ½æ´—æˆç›®æ ‡ç‰Œç»„çš„è¯ä¼šå‘ç°æ´—ç€æ´—ç€s1å’Œs2åˆå›åˆ°åŸæ¥çš„æ ·å­äº†ï¼Œè¿™ä¸ªæ‰‹ç®—ä¸€ä¸‹æ ·ä¾‹çš„ç¬¬äºŒç»„æ•°æ®å°±çŸ¥é“äº†ã€‚</p><h3 id="ä»£ç -6"><a href="#ä»£ç -6" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> n = cin.nextInt();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = cin.nextInt();</span><br><span class="line">            String s1 = cin.nextLine();</span><br><span class="line">            s1 = cin.nextLine();</span><br><span class="line">            String s2 = cin.nextLine();</span><br><span class="line">            String s3 = cin.nextLine();</span><br><span class="line">            Queue&lt;Character&gt; queue = <span class="keyword">new</span> LinkedList&lt;Character&gt;();</span><br><span class="line">            String s4 = s1, s5 = s2;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">int</span> step = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                step++;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s1.length(); j++) &#123;</span><br><span class="line">                    queue.offer(s5.charAt(j));</span><br><span class="line">                    queue.offer(s4.charAt(j));</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                String ss = <span class="string">""</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span> * x; j++) &#123;</span><br><span class="line">                    ss += queue.peek();</span><br><span class="line">                    queue.offer(queue.peek());</span><br><span class="line">                    queue.poll();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (ss.equals(s3)) &#123;</span><br><span class="line">                    flag = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                s4 = <span class="string">""</span>;</span><br><span class="line">                s5 = <span class="string">""</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; x; j++) &#123;</span><br><span class="line">                    s4+=queue.peek();</span><br><span class="line">                    queue.poll();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; x; j++) &#123;</span><br><span class="line">                    s5+=queue.peek();</span><br><span class="line">                    queue.poll();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (s4.equals(s1) &amp;&amp; s5.equals(s2))&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag)&#123;</span><br><span class="line">                System.out.println(i+<span class="number">1</span> + <span class="string">" "</span> + step);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(i+<span class="number">1</span> + <span class="string">" "</span> + -<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="POJ3414-Pots"><a href="#POJ3414-Pots" class="headerlink" title="POJ3414    Pots"></a><a href="https://vjudge.net/problem/POJ-3414" target="_blank" rel="noopener">POJ3414    Pots</a></h2><h3 id="é¢˜æ„-7"><a href="#é¢˜æ„-7" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>è¿™é¢˜å’ŒHDU1495éå¸¸å¯ä¹å¤ªåƒäº†ï¼Œä¸è¿‡æ¯”é‚£ä¸ªå¤æ‚ä¸€äº›ï¼Œæ“ä½œæ–¹æ³•å˜äº†ä¸€ä¸‹ï¼Œè€Œä¸”éœ€è¦å›æº¯è®°å½•è·¯å¾„ã€‚æ„Ÿè§‰æ˜¯å¯ä¹é—®é¢˜+è¿·å®«é—®é¢˜ã€‚ã€‚ã€‚<br>ä¸€å¼€å§‹æœ‰ä¸¤ä¸ªç©ºç½å­Aå’ŒBï¼Œæ¯ä¸ªç½å­éƒ½æœ‰å›ºå®šå®¹é‡ï¼ˆå€’æ°´é¢˜æƒ¯ä¾‹ï¼‰ï¼Œé—®ä½ ç»è¿‡ä¸€ç³»åˆ—æ“ä½œæ˜¯å¦å¯ä»¥ä½¿å¾—ä»»æ„ä¸€ä¸ªç½å­ä¸­çš„æ°´æœ‰Cå‡ï¼Œå¦‚æœå¯ä»¥åˆ™æ±‚æœ€å°‘æ“ä½œæ¬¡æ•°å’Œæ‰€æœ‰æ“ä½œæ­¥éª¤ï¼Œå¦‚æœä¸å¯ä»¥åˆ™è¾“å‡ºâ€impossibleâ€ã€‚æ“ä½œæœ‰å¦‚ä¸‹å‡ ç§ï¼š</p><ol><li>å°†Aæˆ–BçŒæ»¡æ°´</li><li>å°†Aæˆ–Bçš„æ°´å…¨éƒ¨å€’æ‰</li><li>å°†Açš„æ°´å€’ç»™Bï¼Œæˆ–å°†Bçš„æ°´å€’ç»™A</li></ol><h3 id="é¢˜è§£-7"><a href="#é¢˜è§£-7" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æ±‚æœ€å°‘æ“ä½œæ¬¡æ•°å’Œæ“ä½œæ­¥éª¤ï¼Œç”¨bfs+å›æº¯ï¼Œviså»é‡ã€‚ï¼ˆç”¨javaå†™è¿™ç§é¢˜ä»£ç å¥½é•¿å•Šï¼Œè€Œä¸”æ„Ÿè§‰æˆ‘å†™çš„ä»£ç å¥½ç¬¨é‡ï¼‰</p><h3 id="ä»£ç -7"><a href="#ä»£ç -7" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pot</span> </span>&#123;<span class="comment">//ç”¨äºè®°å½•æ¯ä¸ªçŠ¶æ€</span></span><br><span class="line">    <span class="keyword">int</span> a, b;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pot</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> step)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = a;</span><br><span class="line">        <span class="keyword">this</span>.b = b;</span><br><span class="line">        <span class="keyword">this</span>.step = step;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pot</span><span class="params">(Pot x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = x.a;</span><br><span class="line">        <span class="keyword">this</span>.b = x.b;</span><br><span class="line">        <span class="keyword">this</span>.step = x.step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">View</span> </span>&#123;<span class="comment">//visæ•°ç»„</span></span><br><span class="line">    <span class="keyword">boolean</span> v;</span><br><span class="line">    <span class="keyword">int</span> op;<span class="comment">//æ“ä½œç§ç±»</span></span><br><span class="line">    <span class="keyword">int</span> prex, prey;<span class="comment">//å‰é©±ç»“ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> String[] opt = <span class="keyword">new</span> String[]&#123;<span class="comment">//æ‰€æœ‰æ“ä½œç§ç±»ï¼Œæ–¹ä¾¿è¾“å‡º</span></span><br><span class="line">            <span class="string">"FILL(1)"</span>, <span class="string">"FILL(2)"</span>, <span class="string">"DROP(1)"</span>, <span class="string">"DROP(2)"</span>, <span class="string">"POUR(1,2)"</span>, <span class="string">"POUR(2,1)"</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">static</span> View[][] vis = <span class="keyword">new</span> View[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (vis[x][y].prex != -<span class="number">1</span> &amp;&amp; vis[x][y].prey != -<span class="number">1</span>)</span><br><span class="line">            print(vis[x][y].prex, vis[x][y].prey);</span><br><span class="line">        <span class="keyword">if</span> (vis[x][y].op != -<span class="number">1</span>)</span><br><span class="line">            System.out.println(opt[vis[x][y].op]);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> A = cin.nextInt();</span><br><span class="line">        <span class="keyword">int</span> B = cin.nextInt();</span><br><span class="line">        <span class="keyword">int</span> C = cin.nextInt();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">105</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">105</span>; j++) &#123;</span><br><span class="line">                vis [i][j] = <span class="keyword">new</span> View();</span><br><span class="line">                vis[i][j].v = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        vis[<span class="number">0</span>][<span class="number">0</span>].v = <span class="keyword">true</span>;</span><br><span class="line">        vis[<span class="number">0</span>][<span class="number">0</span>].op = -<span class="number">1</span>;</span><br><span class="line">        vis[<span class="number">0</span>][<span class="number">0</span>].prex = -<span class="number">1</span>;</span><br><span class="line">        vis[<span class="number">0</span>][<span class="number">0</span>].prey = -<span class="number">1</span>;</span><br><span class="line">        Queue&lt;Pot&gt; queue = <span class="keyword">new</span> LinkedList&lt;Pot&gt;();</span><br><span class="line">        Pot now = <span class="keyword">new</span> Pot(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        queue.offer(now);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            now = queue.peek();</span><br><span class="line">            queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (now.a == C || now.b == C) &#123;</span><br><span class="line">                flag = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">                Pot next = <span class="keyword">new</span> Pot(now);</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; next.a != A &amp;&amp; !vis[A][next.b].v) &#123;</span><br><span class="line">                    vis[A][next.b].v = <span class="keyword">true</span>;</span><br><span class="line">                    vis[A][next.b].op = <span class="number">0</span>;</span><br><span class="line">                    vis[A][next.b].prex = now.a;</span><br><span class="line">                    vis[A][next.b].prey = now.b;</span><br><span class="line">                    next.a = A;</span><br><span class="line">                    next.step++;</span><br><span class="line">                    queue.offer(next);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">1</span> &amp;&amp; next.b != B &amp;&amp; !vis[next.a][B].v) &#123;</span><br><span class="line">                    vis[next.a][B].v = <span class="keyword">true</span>;</span><br><span class="line">                    vis[next.a][B].op = <span class="number">1</span>;</span><br><span class="line">                    vis[next.a][B].prex = now.a;</span><br><span class="line">                    vis[next.a][B].prey = now.b;</span><br><span class="line">                    next.b = B;</span><br><span class="line">                    next.step++;</span><br><span class="line">                    queue.offer(next);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">2</span> &amp;&amp; next.a != <span class="number">0</span> &amp;&amp; !vis[<span class="number">0</span>][next.b].v) &#123;</span><br><span class="line">                    vis[<span class="number">0</span>][next.b].v = <span class="keyword">true</span>;</span><br><span class="line">                    vis[<span class="number">0</span>][next.b].op = <span class="number">2</span>;</span><br><span class="line">                    vis[<span class="number">0</span>][next.b].prex = now.a;</span><br><span class="line">                    vis[<span class="number">0</span>][next.b].prey = now.b;</span><br><span class="line">                    next.a = <span class="number">0</span>;</span><br><span class="line">                    next.step++;</span><br><span class="line">                    queue.offer(next);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">3</span> &amp;&amp; next.b != <span class="number">0</span> &amp;&amp; !vis[next.a][<span class="number">0</span>].v) &#123;</span><br><span class="line">                    vis[next.a][<span class="number">0</span>].v = <span class="keyword">true</span>;</span><br><span class="line">                    vis[next.a][<span class="number">0</span>].op = <span class="number">3</span>;</span><br><span class="line">                    vis[next.a][<span class="number">0</span>].prex = now.a;</span><br><span class="line">                    vis[next.a][<span class="number">0</span>].prey = now.b;</span><br><span class="line">                    next.b = <span class="number">0</span>;</span><br><span class="line">                    next.step++;</span><br><span class="line">                    queue.offer(next);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">4</span> &amp;&amp; next.a != <span class="number">0</span> &amp;&amp; next.b != B) &#123;</span><br><span class="line">                    <span class="keyword">int</span> vo = B - next.b;</span><br><span class="line">                    <span class="keyword">if</span> (next.a &gt; vo) &#123;</span><br><span class="line">                        next.a -= vo;</span><br><span class="line">                        next.b = B;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        next.b += next.a;</span><br><span class="line">                        next.a = <span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (!vis[next.a][next.b].v) &#123;</span><br><span class="line">                        vis[next.a][next.b].v = <span class="keyword">true</span>;</span><br><span class="line">                        vis[next.a][next.b].op = <span class="number">4</span>;</span><br><span class="line">                        vis[next.a][next.b].prex = now.a;</span><br><span class="line">                        vis[next.a][next.b].prey = now.b;</span><br><span class="line">                        next.step++;</span><br><span class="line">                        queue.offer(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">5</span> &amp;&amp; next.a != A &amp;&amp; next.b != <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">int</span> vo = A - next.a;</span><br><span class="line">                    <span class="keyword">if</span> (next.b &gt; vo) &#123;</span><br><span class="line">                        next.b -= vo;</span><br><span class="line">                        next.a = A;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        next.a += next.b;</span><br><span class="line">                        next.b = <span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (!vis[next.a][next.b].v) &#123;</span><br><span class="line">                        vis[next.a][next.b].v = <span class="keyword">true</span>;</span><br><span class="line">                        vis[next.a][next.b].op = <span class="number">5</span>;</span><br><span class="line">                        vis[next.a][next.b].prex = now.a;</span><br><span class="line">                        vis[next.a][next.b].prey = now.b;</span><br><span class="line">                        next.step++;</span><br><span class="line">                        queue.offer(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (flag)&#123;</span><br><span class="line">            System.out.println(now.step);</span><br><span class="line">            print(now.a, now.b);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"impossible"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="FZU2150-Fire-Game"><a href="#FZU2150-Fire-Game" class="headerlink" title="FZU2150    Fire Game"></a><a href="https://vjudge.net/problem/FZU-2150" target="_blank" rel="noopener">FZU2150    Fire Game</a></h2><h3 id="é¢˜æ„-8"><a href="#é¢˜æ„-8" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ä¸€ä¸ªnÃ—mçš„åœ°å›¾ï¼Œæœ‰çš„åœ°æ–¹æ˜¯è‰ï¼Œæœ‰çš„åœ°æ–¹æ˜¯ç©ºçš„ï¼Œé€‰ä¸¤ä¸ªç‚¹åŒæ—¶ç‚¹ç«ï¼Œé—®æ˜¯å¦èƒ½å°†åœ°å›¾ä¸Šçš„è‰çƒ§å®Œï¼Œå¦‚æœæ˜¯åˆ™æ±‚å‡ºæœ€çŸ­ç‡ƒçƒ§æ—¶é—´ã€‚ç«çƒ§åˆ°ç›¸é‚»å¸¦æœ‰è‰çš„æ ¼å­æ‰€éœ€è¦çš„æ—¶é—´ä¸º1ï¼Œç›¸é‚»è¡¨ç¤ºä¸Šä¸‹å·¦å³çš„æ ¼å­ï¼ˆå³è¿‡ä¸€ä¸ªæ—¶é—´ï¼Œå…¶ä¸Šæœ‰å·¦å³æœ‰è‰çš„æ ¼å­åŒæ—¶ç€ç«ï¼‰ï¼Œé€‰æ‹©çš„ä¸¤ä¸ªç‚¹å¯ä»¥ç›¸åŒ</p><h3 id="é¢˜è§£-8"><a href="#é¢˜è§£-8" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>åŒèµ·ç‚¹bfsï¼Œæˆ‘çš„æ–¹æ³•æ¯”è¾ƒç¬¨ï¼Œå…ˆç”¨bfsæ±‚å‡ºå›¾ä¸­è‰æœ‰å‡ ä¸ªä¸ç›¸é‚»çš„åˆ†åŒºï¼Œå¦‚æœåˆ†åŒºæ•°å¤§äº2è‚¯å®šä¸èƒ½å®Œæˆï¼Œå› ä¸ºæœ€å¤šåªèƒ½é€‰æ‹©ä¸¤ä¸ªèµ·ç‚¹çƒ§ï¼Œå¦‚æœä¸¤ä¸ªä¸€ä¸‹ï¼Œåˆ™å°†æ¯ä¸ªåˆ†åŒºä¸­çš„æ‰€æœ‰ç‚¹åˆ†åˆ«åŠ å…¥ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¾æ¬¡ä»è¯¥åˆ†åŒºçš„æ¯ä¸ªç‚¹è¿›è¡Œä¸€æ¬¡bfséå†è¯¥åˆ†åŒºï¼Œæ±‚å‡ºå…¶ä¸­ç”¨æ—¶æœ€çŸ­çš„ã€‚ï¼ˆç”±äºojæŒ‚äº†ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰æµ‹è¯•ï¼Œåªè¿‡äº†æ ·ä¾‹ï¼Œä½†æ˜¯è§‰å¾—è¿™é¢˜åº”è¯¥æ²¡ä»€ä¹ˆå‘ï¼Œè€Œä¸”æ•°æ®ä¹ŸæŒºå°çš„ï¼Œæ€»å…±æ‰1e6ï¼Œæ‰€ä»¥å…ˆå†™ç€ï¼Œä»¥åç­‰å¯ä»¥äº¤äº†æˆ‘å†æ”¹ä¸€ä¸‹ï¼‰</p><h3 id="ä»£ç -8"><a href="#ä»£ç -8" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">int</span> index, x, y, step;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[] dx = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[] dy = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reset</span><span class="params">(Point[][] mp)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">15</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">15</span>; j++) &#123;</span><br><span class="line">                mp[i][j].step = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> t = cin.nextInt();</span><br><span class="line">        Point[][] mp = <span class="keyword">new</span> Point[<span class="number">15</span>][<span class="number">15</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">15</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">15</span>; j++) &#123;</span><br><span class="line">                mp[i][j] = <span class="keyword">new</span> Point();</span><br><span class="line">                mp[i][j].x = i;</span><br><span class="line">                mp[i][j].y = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; t; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> n = cin.nextInt(), m = cin.nextInt();</span><br><span class="line">            String s = cin.nextLine();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                s = cin.nextLine();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; s.length(); k++) &#123;</span><br><span class="line">                    mp[j][k].ch = s.charAt(k);</span><br><span class="line">                    mp[j][k].index = -<span class="number">1</span>;</span><br><span class="line">                    mp[j][k].step = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Queue&lt;Point&gt; queue = <span class="keyword">new</span> LinkedList&lt;Point&gt;();</span><br><span class="line">            Queue&lt;Point&gt; q1 = <span class="keyword">new</span> LinkedList&lt;Point&gt;();</span><br><span class="line">            Queue&lt;Point&gt; q2 = <span class="keyword">new</span> LinkedList&lt;Point&gt;();</span><br><span class="line">            <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; m; k++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (mp[j][k].ch == <span class="string">'#'</span> &amp;&amp; mp[j][k].index == -<span class="number">1</span>) &#123;</span><br><span class="line">                        Point now = mp[j][k];</span><br><span class="line">                        now.index = num;</span><br><span class="line">                        <span class="keyword">if</span> (num==<span class="number">0</span>)q1.offer(now);</span><br><span class="line">                        <span class="keyword">else</span> q2.offer(now);</span><br><span class="line">                        queue.offer(now);</span><br><span class="line">                        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">                            now = queue.peek();</span><br><span class="line">                            queue.poll();</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">for</span> (<span class="keyword">int</span> l = <span class="number">0</span>; l &lt; <span class="number">4</span>; l++) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (now.x + dx[l] &gt;= <span class="number">0</span> &amp;&amp; now.x + dx[l] &lt; n &amp;&amp; now.y + dy[l] &gt;= <span class="number">0</span> &amp;&amp; now.y + dy[l] &lt; m &amp;&amp; mp[now.x + dx[l]][now.y + dy[l]].ch == <span class="string">'#'</span> &amp;&amp; mp[now.x + dx[l]][now.y + dy[l]].index==-<span class="number">1</span>) &#123;</span><br><span class="line">                                    mp[now.x + dx[l]][now.y + dy[l]].index = num;</span><br><span class="line">                                    queue.offer(mp[now.x + dx[l]][now.y + dy[l]]);</span><br><span class="line">                                    <span class="keyword">if</span> (num==<span class="number">0</span>)q1.offer(mp[now.x + dx[l]][now.y + dy[l]]);</span><br><span class="line">                                    <span class="keyword">else</span> q2.offer(mp[now.x + dx[l]][now.y + dy[l]]);</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        num++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (num&gt;<span class="number">2</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">"Case "</span> + (i+<span class="number">1</span>) + <span class="string">": "</span> + -<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> t1=<span class="number">10000</span>, t2=<span class="number">10000</span>;</span><br><span class="line">            <span class="keyword">while</span> (!q1.isEmpty())&#123;</span><br><span class="line">                <span class="keyword">char</span>[][] mmp = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">15</span>][<span class="number">15</span>];</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">15</span>; j++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">15</span>; k++) &#123;</span><br><span class="line">                        mmp[j][k] = mp[j][k].ch;</span><br><span class="line">                        mp[j][k].step = <span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (!queue.isEmpty())    queue.poll();</span><br><span class="line">                Point now = q1.peek();</span><br><span class="line">                q1.poll();</span><br><span class="line">                queue.offer(now);</span><br><span class="line">                mmp[now.x][now.y] = <span class="string">'.'</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (!queue.isEmpty())&#123;</span><br><span class="line">                    now = queue.peek();</span><br><span class="line">                    queue.poll();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (now.x + dx[j] &gt;= <span class="number">0</span> &amp;&amp; now.x + dx[j] &lt; n &amp;&amp; now.y + dy[j] &gt;= <span class="number">0</span> &amp;&amp; now.y + dy[j] &lt; m &amp;&amp; mmp[now.x + dx[j]][now.y + dy[j]] == <span class="string">'#'</span>)&#123;</span><br><span class="line">                            mmp[now.x + dx[j]][now.y + dy[j]] = <span class="string">'.'</span>;</span><br><span class="line">                            mp[now.x + dx[j]][now.y + dy[j]].step = now.step+<span class="number">1</span>;</span><br><span class="line">                            queue.offer(mp[now.x + dx[j]][now.y + dy[j]]);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                t1 = Math.min(t1, now.step);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (num==<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">while</span> (!q2.isEmpty())&#123;</span><br><span class="line">                    <span class="keyword">char</span>[][] mmp = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">15</span>][<span class="number">15</span>];</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">15</span>; j++) &#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">15</span>; k++) &#123;</span><br><span class="line">                            mmp[j][k] = mp[j][k].ch;</span><br><span class="line">                            mp[j][k].step = <span class="number">0</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">while</span> (!queue.isEmpty())    queue.poll();</span><br><span class="line">                    Point now = q2.peek();</span><br><span class="line">                    q2.poll();</span><br><span class="line">                    queue.offer(now);</span><br><span class="line">                    mmp[now.x][now.y] = <span class="string">'.'</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">while</span> (!queue.isEmpty())&#123;</span><br><span class="line">                        now = queue.peek();</span><br><span class="line">                        queue.poll();</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (now.x + dx[j] &gt;= <span class="number">0</span> &amp;&amp; now.x + dx[j] &lt; n &amp;&amp; now.y + dy[j] &gt;= <span class="number">0</span> &amp;&amp; now.y + dy[j] &lt; m &amp;&amp; mmp[now.x + dx[j]][now.y + dy[j]] == <span class="string">'#'</span>)&#123;</span><br><span class="line">                                mmp[now.x + dx[j]][now.y + dy[j]] = <span class="string">'.'</span>;</span><br><span class="line">                                mp[now.x + dx[j]][now.y + dy[j]].step = now.step+<span class="number">1</span>;</span><br><span class="line">                                queue.offer(mp[now.x + dx[j]][now.y + dy[j]]);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    t2 = Math.min(t2, now.step);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (t1==<span class="number">10000</span> || t2==<span class="number">10000</span>)</span><br><span class="line">                System.out.println(<span class="string">"Case "</span> + (i+<span class="number">1</span>) + <span class="string">": "</span> + Math.min(t1, t2));</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                System.out.println(<span class="string">"Case "</span> + (i+<span class="number">1</span>) + <span class="string">": "</span> + Math.max(t1, t2));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="UVA11624-Fire"><a href="#UVA11624-Fire" class="headerlink" title="UVA11624    Fire!"></a><a href="https://vjudge.net/problem/UVA-11624" target="_blank" rel="noopener">UVA11624    Fire!</a></h2><h3 id="é¢˜æ„-9"><a href="#é¢˜æ„-9" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ç«çƒ§å±è‚¡ï¼Œèµ¶ç´§çªœã€‚ã€‚ã€‚<br>é€ƒå‡ºè¿·å®«ï¼Œåªè¦æ˜¯æŒ¨ç€è¿·å®«è¾¹ç¼˜çš„ç‚¹éƒ½å¯ä»¥é€ƒå‡ºè¿·å®«ã€‚</p><h3 id="é¢˜è§£-9"><a href="#é¢˜è§£-9" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æ³¨æ„ï¼Œæœ¬é¢˜èµ·å§‹æ—¶é—´<strong>å¯èƒ½æœ‰å¤šä¸ªèµ·å§‹ç«è‹—</strong>ï¼ï¼ï¼ï¼ˆä¸€å¼€å§‹æˆ‘ä¹Ÿæ²¡æ³¨æ„åˆ°ï¼Œå¶ç„¶é—´åœ¨vjçš„è¯„è®ºé‡Œçœ‹åˆ°çš„ä¸ç„¶æˆ‘å¯èƒ½ä¹Ÿè¢«å‘æ­»äº†ï¼‰å…¶å®å°±æ˜¯ä¸ªbfsçš„é¢˜ï¼Œæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œå®¹æ˜“è¶…æ—¶ï¼Œè¦æ³¨æ„ä¸€ç‚¹ã€‚åº”è¯¥è®©<strong>ç«è‹—å…ˆèµ°</strong>äººå†èµ°ï¼Œæˆ‘æ˜¯è®©æ¯ä¸ªäººèµ°è¿‡çš„ç‚¹å’Œè¢«ç«è‹—çƒ§è¿‡çš„ç‚¹éƒ½å˜æˆå¢™ï¼Œè¿™æ ·åæ¥èµ°çš„æ—¶å€™å°±ä¸ä¼šå†èµ°äº†ã€‚<br>æˆ‘æŠŠç«è‹—å’Œäººæ”¾åœ¨äº†ä¸¤ä¸ªé˜Ÿåˆ—é‡Œé¢äº†ï¼Œä¸€å¼€å§‹æƒ³å¤æ‚äº†ï¼Œæ¯ä¸ªç‚¹éƒ½æœ‰ä¸€ä¸ªå±æ€§stepï¼Œç”¨æ¥è®°å½•å½“å‰æ—¶é—´ï¼Œå¦‚æœè¿›å…¥ä¸‹ä¸€ä¸ªæ—¶é—´ç‚¹å°±è®©è¯¥æ—¶é—´ç‚¹çš„ç«è‹—å…¨éƒ¨èµ°ä¸€éï¼Œç„¶åå†è®©äººèµ°ã€‚<br>åæ¥çœ‹åˆ°åˆ«äººè®©ç«è‹—å’Œäººæ”¾åœ¨ä¸€ä¸ªé˜Ÿåˆ—é‡Œé¢äº†ï¼Œåªæœ‰ä¸€å¼€å§‹å¤„ç†ä¸€ä¸‹ï¼Œå…ˆè®©æ‰€æœ‰èµ·å§‹çš„ç«è‹—å…ˆè¿›é˜Ÿåˆ—ï¼Œå†è®©äººçš„èµ·å§‹ç‚¹è¿›å…¥é˜Ÿåˆ—å°±å¯ä»¥äº†ã€‚ï¼ˆä¸è¿‡æˆ‘åæ¥æŠŠæˆ‘çš„ä»£ç æ”¹æˆè¿™æ ·è¶…æ—¶äº†ï¼Œå°±æ‡’å¾—å†æ”¹äº†ï¼Œä¸€å¼€å§‹è°ƒè¯•æ—¶ç”¨çš„è¾“å‡ºä»£ç å¿˜è®°åˆ äº†ï¼Œä»–è¿˜ç»™æˆ‘åˆ¤è¶…æ—¶ï¼Œæˆ‘æ‡µé€¼äº†å¥½ä¸€ä¼šå„¿ã€‚ã€‚ã€‚ï¼‰</p><h3 id="ä»£ç -9"><a href="#ä»£ç -9" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, step;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPoint</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> step)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">        <span class="keyword">this</span>.step = step;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> step)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">        <span class="keyword">this</span>.step = step;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(Point point)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = point.x;</span><br><span class="line">        <span class="keyword">this</span>.y = point.y;</span><br><span class="line">        <span class="keyword">this</span>.step = point.step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[] dx = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[] dy = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">char</span>[][] mp = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> t = cin.nextInt();</span><br><span class="line">        <span class="keyword">while</span> (t-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> r = cin.nextInt(), c = cin.nextInt();</span><br><span class="line">            String s = cin.nextLine();</span><br><span class="line">            Queue&lt;Point&gt; Fire = <span class="keyword">new</span> LinkedList&lt;Point&gt;();</span><br><span class="line">            Queue&lt;Point&gt; queue = <span class="keyword">new</span> LinkedList&lt;Point&gt;();</span><br><span class="line">            Point now = <span class="keyword">new</span> Point();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; i++) &#123;</span><br><span class="line">                s = cin.nextLine();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s.length(); j++) &#123;</span><br><span class="line">                    mp[i][j] = s.charAt(j);</span><br><span class="line">                    <span class="keyword">if</span> (mp[i][j] == <span class="string">'F'</span>) &#123;</span><br><span class="line">                        mp[i][j] = <span class="string">'#'</span>;</span><br><span class="line">                        Fire.offer(<span class="keyword">new</span> Point(i, j, <span class="number">0</span>));</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (mp[i][j] == <span class="string">'J'</span>) &#123;</span><br><span class="line">                        mp[i][j] = <span class="string">'#'</span>;</span><br><span class="line">                        now.setPoint(i, j, <span class="number">0</span>);</span><br><span class="line">                        queue.offer(now);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> CurStep = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">                now = queue.peek();</span><br><span class="line">                queue.poll();</span><br><span class="line">                <span class="keyword">if</span> (now.y == <span class="number">0</span> || now.y == c - <span class="number">1</span> || now.x == <span class="number">0</span> || now.x == r - <span class="number">1</span>) &#123;</span><br><span class="line">                    flag = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (now.step &gt; CurStep) &#123;<span class="comment">//å…ˆçƒ§ç«</span></span><br><span class="line">                    CurStep++;</span><br><span class="line"></span><br><span class="line">                    Point CurFire;</span><br><span class="line">                    <span class="keyword">while</span> (!Fire.isEmpty()) &#123;</span><br><span class="line">                        CurFire = Fire.peek();</span><br><span class="line">                        <span class="keyword">if</span> (CurFire.step != CurStep)</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        Fire.poll();</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">                            Point next = <span class="keyword">new</span> Point(CurFire);</span><br><span class="line">                            next.step++;</span><br><span class="line">                            next.x += dx[i];</span><br><span class="line">                            next.y += dy[i];</span><br><span class="line">                            <span class="keyword">if</span> (next.x &gt;= <span class="number">0</span> &amp;&amp; next.x &lt; r &amp;&amp; next.y &gt;= <span class="number">0</span> &amp;&amp; next.y &lt; c &amp;&amp; mp[next.x][next.y] != <span class="string">'#'</span>) &#123;</span><br><span class="line">                                mp[next.x][next.y] = <span class="string">'#'</span>;</span><br><span class="line">                                Fire.offer(next);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">                    Point next = <span class="keyword">new</span> Point(now);</span><br><span class="line">                    next.step++;</span><br><span class="line">                    next.x += dx[i];</span><br><span class="line">                    next.y += dy[i];</span><br><span class="line">                    <span class="keyword">if</span> (next.x &gt;= <span class="number">0</span> &amp;&amp; next.x &lt; r &amp;&amp; next.y &gt;= <span class="number">0</span> &amp;&amp; next.y &lt; c &amp;&amp; mp[next.x][next.y] != <span class="string">'#'</span>) &#123;</span><br><span class="line">                        mp[next.x][next.y] = <span class="string">'#'</span>;</span><br><span class="line">                        queue.offer(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (flag)   System.out.println(now.step+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span> System.out.println(<span class="string">"IMPOSSIBLE"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="POJ3984-è¿·å®«é—®é¢˜"><a href="#POJ3984-è¿·å®«é—®é¢˜" class="headerlink" title="POJ3984    è¿·å®«é—®é¢˜"></a><a href="https://vjudge.net/problem/POJ-3984" target="_blank" rel="noopener">POJ3984    è¿·å®«é—®é¢˜</a></h2><p>å¤ªä¹…æ²¡å†™é¢˜äº†ï¼Œå…ˆæ‹¿ä¸ªç®€å•çš„ç»ƒç»ƒæ‰‹å§</p><p>Javaåœ¨OJäº¤é¢˜æœ‰å¥½å¤šå‘å•Šï¼Œè¿™æœ‰ä¸€ç¯‡æ¯”è¾ƒä¸é”™çš„åšå®¢è®²çš„æŒºå…¨çš„ï¼š<a href="https://www.cnblogs.com/HardBass/p/11702918.html" target="_blank" rel="noopener">JAVAåœ¨OJä¸Šæäº¤ç¨‹åºçš„æ³¨æ„äº‹é¡¹</a><br>ï¼ˆä¸€å®šè¦å¸¦ä¸ŠåŒ…åï¼Œåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆçŸ¥é“çš„ï¼ˆæ‰‹åŠ¨ç‹—å¤´ï¼‰ã€‚ç”¨Javaå†™é¢˜æ€»æ„Ÿè§‰æ€ªæ€ªçš„ï¼‰</p><h3 id="é¢˜æ„-10"><a href="#é¢˜æ„-10" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ç»™ä¸€ä¸ª5Ã—5çš„è¿·å®«ï¼Œ1æ˜¯å¢™ï¼Œ0æ˜¯è·¯ï¼Œæ±‚å‡ºä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„æœ€çŸ­è·¯å¾„å¹¶è¾“å‡ºè·¯å¾„ä¸Šæ¯ä¸ªç»“ç‚¹çš„åæ ‡ï¼Œåªèƒ½æ¨ªç€èµ°æˆ–ç«–ç€èµ°ï¼Œä¸èƒ½æ–œç€èµ°ã€‚</p><h3 id="é¢˜è§£-10"><a href="#é¢˜è§£-10" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ç”¨bfsæ±‚æœ€çŸ­è·¯å˜›ï¼Œå†å®šä¹‰ä¸€ä¸ªPointç»“æ„ä½“ï¼Œè®°å½•å‰é©±ç»“ç‚¹ï¼Œæœ€åç”¨é€’å½’è¾“å‡ºè·¯å¾„ã€‚æ³¨æ„é€—å·åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</p><p>å…¶å®ä»–è¿™ä¸ªé¢˜çš„æµ‹è¯•æ•°æ®åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯æ ·ä¾‹ã€‚ã€‚ã€‚æˆ‘çœ‹vjä¸Šé¢æœ‰äººè¯´ç›´æ¥æŠŠæ ·ä¾‹è¾“å‡ºå°±è¿‡äº†ã€‚ã€‚ã€‚</p><h3 id="ä»£ç -10"><a href="#ä»£ç -10" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">    <span class="keyword">int</span> prex, prey;</span><br><span class="line">    <span class="keyword">int</span> dis;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] dx = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] dy = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Point[][] p = <span class="keyword">new</span> Point[<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print_point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="number">0</span> &amp;&amp; y==<span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">"("</span> + x + <span class="string">", "</span> + y + <span class="string">")"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        print_point(p[x][y].prex, p[x][y].prey);</span><br><span class="line">        System.out.println(<span class="string">"("</span> + x + <span class="string">", "</span> + y + <span class="string">")"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] mp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        Queue&lt;Point&gt; q = <span class="keyword">new</span> LinkedList&lt;Point&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">                p[i][j] = <span class="keyword">new</span> Point();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">                mp[i][j] = cin.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Point point = <span class="keyword">new</span> Point(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        point.dis = <span class="number">0</span>;</span><br><span class="line">        point.prex = <span class="number">0</span>;</span><br><span class="line">        point.prey = <span class="number">0</span>;</span><br><span class="line">        q.offer(point);</span><br><span class="line">        <span class="keyword">while</span> (!q.isEmpty())&#123;</span><br><span class="line">            Point pp = q.peek();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (pp.x==<span class="number">4</span> &amp;&amp; pp.y==<span class="number">4</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> xx = pp.x + dx[i];</span><br><span class="line">                <span class="keyword">int</span> yy = pp.y + dy[i];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(xx&gt;=<span class="number">0</span> &amp;&amp; xx&lt;<span class="number">5</span> &amp;&amp; yy&gt;=<span class="number">0</span> &amp;&amp; yy&lt;<span class="number">5</span> &amp;&amp; mp[xx][yy]!=<span class="number">1</span>)&#123;</span><br><span class="line">                    mp[xx][yy] = <span class="number">1</span>;</span><br><span class="line">                    p[xx][yy].x = xx;</span><br><span class="line">                    p[xx][yy].y = yy;</span><br><span class="line">                    p[xx][yy].prex = pp.x;</span><br><span class="line">                    p[xx][yy].prey = pp.y;</span><br><span class="line">                    p[xx][yy].dis = pp.dis+<span class="number">1</span>;</span><br><span class="line">                    q.offer(p[xx][yy]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            q.poll();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        print_point(<span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="HDU1241-Oil-Deposits"><a href="#HDU1241-Oil-Deposits" class="headerlink" title="HDU1241    Oil Deposits"></a><a href="https://vjudge.net/problem/HDU-1241" target="_blank" rel="noopener">HDU1241    Oil Deposits</a></h2><h3 id="é¢˜æ„-11"><a href="#é¢˜æ„-11" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>æ±‚åˆ†å—å„¿æ•°ç›®</p><h3 id="é¢˜è§£-11"><a href="#é¢˜è§£-11" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æ³¨æ„ç¬¬äºŒä¸ªæ ·ä¾‹ï¼Œç›¸é‚»çš„æ„æ€æ˜¯ç›¸é‚»çš„å…«ä¸ªæ ¼ä¸æ˜¯å››ä¸ªæ ¼<br>å¥½åƒç”¨dfså’Œbfséƒ½å¯ä»¥ï¼Œä¹ æƒ¯äº†ç”¨bfsæˆ‘å°±å†™äº†bfsã€‚<br>æ¯æ‰¾åˆ°ä¸€ä¸ªæ²¹ç”°ï¼Œå°±ç”¨bfséå†è¿™ä¸ªæ²¹ç”°ï¼Œå°†æ²¹ç”°çš„æ‰€æœ‰â€˜@â€™å˜ä¸ºâ€˜*â€™å°±å¯ä»¥äº†ã€‚</p><h3 id="ä»£ç -11"><a href="#ä»£ç -11" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(Point point)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = point.x;</span><br><span class="line">        <span class="keyword">this</span>.y = point.y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[] dx = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[] dy = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">char</span>[][] mp = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> n = cin.nextInt(), m = cin.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (n==<span class="number">0</span> || m==<span class="number">0</span>)   <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">            String s = cin.nextLine();</span><br><span class="line">            Queue&lt;Point&gt; queue = <span class="keyword">new</span> LinkedList&lt;Point&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                s = cin.nextLine();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s.length(); j++) &#123;</span><br><span class="line">                    mp[i][j] = s.charAt(j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (mp[i][j] == <span class="string">'@'</span>)&#123;</span><br><span class="line">                        ans++;</span><br><span class="line">                        Point now = <span class="keyword">new</span> Point(i, j);</span><br><span class="line">                        queue.offer(now);</span><br><span class="line">                        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">                            now = queue.peek();</span><br><span class="line">                            queue.poll();</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">8</span>; k++) &#123;</span><br><span class="line">                                Point next = <span class="keyword">new</span> Point(now);</span><br><span class="line">                                next.x += dx[k];</span><br><span class="line">                                next.y += dy[k];</span><br><span class="line">                                <span class="keyword">if</span> (next.x &gt;= <span class="number">0</span> &amp;&amp; next.x &lt; n &amp;&amp; next.y &gt;= <span class="number">0</span> &amp;&amp; next.y &lt; m &amp;&amp; mp[next.x][next.y] == <span class="string">'@'</span>) &#123;</span><br><span class="line">                                    mp[next.x][next.y] = <span class="string">'*'</span>;</span><br><span class="line">                                    queue.offer(next);</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            System.out.println(ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="HDU1495-éå¸¸å¯ä¹"><a href="#HDU1495-éå¸¸å¯ä¹" class="headerlink" title="HDU1495    éå¸¸å¯ä¹"></a><a href="https://vjudge.net/problem/HDU-1495" target="_blank" rel="noopener">HDU1495    éå¸¸å¯ä¹</a></h2><h3 id="é¢˜æ„-12"><a href="#é¢˜æ„-12" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>æœ‰ä¸‰ä¸ªæ¯å­ï¼Œs,n,mï¼Œæ¯ä¸ªè¢«å­éƒ½æœ‰è‡ªå·±çš„æœ€å¤§å®¹é‡ï¼Œåˆå§‹æ—¶sè£…ç€æ»¡æ¯å¯ä¹ã€‚é—®æœ€å°‘ç»è¿‡å‡ æ¬¡å€’æ°´çš„æ­¥éª¤ï¼Œèƒ½è®©å…¶ä¸­ä¸¤ä¸ªæ¯å­çš„å¯ä¹ç›¸ç­‰ã€‚ç”±äºæ¯ä¸ªæ¯å­éƒ½æ²¡æœ‰åˆ»åº¦ï¼Œæ‰€ä»¥æ¯æ¬¡å€’æ°´åªèƒ½å°†ä¸€ä¸ªæ¯å­çš„å¯ä¹å…¨éƒ¨å€’è¿›å¦ä¸€ä¸ªæ¯å­ï¼Œæˆ–è€…å°†å¦ä¸€ä¸ªæ¯å­å€’æ»¡ã€‚ï¼ˆæˆ‘ä¸€å¼€å§‹æ²¡ç†è§£è¿™ä¸ªï¼Œè¿æ ·ä¾‹éƒ½æ²¡çœ‹æ‡‚ï¼Œä¸€ç›´åœ¨æƒ³ä»–åˆ°åº•æ€ä¹ˆå€’æ°´çš„ï¼‰</p><h3 id="é¢˜è§£-12"><a href="#é¢˜è§£-12" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>è¿™é¢˜æœ‰ä¸¤ç§è§£æ³•ï¼Œä¸€ç§æ¯”è¾ƒå¥½æƒ³çš„bfsï¼Œå¦ä¸€ç§æ˜¯æ•°è®ºï¼ˆæˆ‘ä¸ä¼šã€‚ã€‚ã€‚ï¼‰ç»™å‡ºç½‘ä¸Šdalaoé“¾æ¥ï¼š<a href="https://blog.csdn.net/V5ZSQ/article/details/52097459" target="_blank" rel="noopener">HDU 1495 éå¸¸å¯ä¹ï¼ˆæ•°è®ºï¼‰</a></p><p>bfsè§£æ³•ï¼š<br>å½“sä¸­çš„åˆå§‹ä¸ºå¥‡æ•°æ—¶è‚¯å®šä¸å¯å¹³åˆ†ã€‚ç”¨ä¸€ä¸ªç±»è®°å½•æ¯ä¸ªå€’æ°´çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬å½“å‰æ¯ä¸ªæ¯å­å¤šå°‘æ°´å’Œç»è¿‡äº†å¤šå°‘æ­¥éª¤ï¼Œæ¯æ¬¡å€’æ°´åªæœ‰å…­ç§å€’æ³•ï¼šs-&gt;nï¼Œs-&gt;mï¼Œn-&gt;sï¼Œm-&gt;sï¼Œn-&gt;mï¼Œm-&gt;nï¼Œæ¯æ¬¡éå†è¿™å…­ç§æ–¹æ³•å°±è¡Œäº†ã€‚ç„¶ååˆ¤æ–­å€’æ°´çš„ç»ˆæ­¢çŠ¶æ€ï¼šä»»æ„ä¸¤ä¸ªæ¯å­é‡ç›¸ç­‰ä¸”å¦ä¸€ä¸ªæ¯å­ä¸ºç©ºæ—¶æ‰æ»¡è¶³æ¡ä»¶ã€‚</p><h3 id="ä»£ç -12"><a href="#ä»£ç -12" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cola</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] cup = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span>[][][] vis = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">105</span>][<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> s, n, m;</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            s = cin.nextInt();</span><br><span class="line">            n = cin.nextInt();</span><br><span class="line">            m = cin.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (s == <span class="number">0</span> &amp;&amp; n == <span class="number">0</span> &amp;&amp; m == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">"NO"</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">105</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">105</span>; j++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">105</span>; k++) &#123;</span><br><span class="line">                        vis[i][j][k] = <span class="keyword">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            vis[s][<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">            cola now = <span class="keyword">new</span> cola();</span><br><span class="line">            now.cup[<span class="number">0</span>] = s;</span><br><span class="line">            now.cup[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">            now.cup[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">            now.step = <span class="number">0</span>;</span><br><span class="line">            Queue&lt;cola&gt; queue = <span class="keyword">new</span> LinkedList&lt;cola&gt;();</span><br><span class="line">            queue.offer(now);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">                now = queue.peek();</span><br><span class="line">                queue.poll();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> ((now.cup[<span class="number">0</span>]==now.cup[<span class="number">1</span>] &amp;&amp; now.cup[<span class="number">2</span>]==<span class="number">0</span>) || (now.cup[<span class="number">0</span>]==now.cup[<span class="number">2</span>] &amp;&amp; now.cup[<span class="number">1</span>]==<span class="number">0</span>) || (now.cup[<span class="number">1</span>]==now.cup[<span class="number">2</span>] &amp;&amp; now.cup[<span class="number">0</span>]==<span class="number">0</span>))&#123;</span><br><span class="line">                    System.out.println(now.step);</span><br><span class="line">                    flag = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (i != j) &#123;</span><br><span class="line">                            cola next = <span class="keyword">new</span> cola();</span><br><span class="line">                            next.step = now.step;</span><br><span class="line">                            System.arraycopy(now.cup, <span class="number">0</span>, next.cup, <span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">int</span> co = <span class="number">0</span>;</span><br><span class="line">                            <span class="keyword">if</span> (j == <span class="number">0</span>) co = s - next.cup[j];</span><br><span class="line">                            <span class="keyword">if</span> (j == <span class="number">1</span>) co = n - next.cup[j];</span><br><span class="line">                            <span class="keyword">if</span> (j == <span class="number">2</span>) co = m - next.cup[j];</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (next.cup[i] &gt; co) &#123;</span><br><span class="line">                                next.cup[i] -= co;</span><br><span class="line">                                next.cup[j] += co;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                next.cup[j] += next.cup[i];</span><br><span class="line">                                next.cup[i] = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            next.step += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (!vis[next.cup[<span class="number">0</span>]][next.cup[<span class="number">1</span>]][next.cup[<span class="number">2</span>]]) &#123;</span><br><span class="line">                                vis[next.cup[<span class="number">0</span>]][next.cup[<span class="number">1</span>]][next.cup[<span class="number">2</span>]] = <span class="keyword">true</span>;</span><br><span class="line">                                queue.offer(next);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!flag)&#123;</span><br><span class="line">                System.out.println(<span class="string">"NO"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="HDU2612-Find-a-way"><a href="#HDU2612-Find-a-way" class="headerlink" title="HDU2612    Find a way"></a><a href="https://vjudge.net/problem/HDU-2612" target="_blank" rel="noopener">HDU2612    Find a way</a></h2><h3 id="é¢˜æ„-13"><a href="#é¢˜æ„-13" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>åœ°å›¾ä¸Šæœ‰å¥½å‡ ä¸ªkfcï¼ˆè¯è¯´æˆ‘ä¹Ÿå¥½ä¹…æ²¡åƒkfcï¼Œå¥½æƒ³åƒkfcçš„è–¯æ¡å•Šï¼Œä¸è˜¸ç•ªèŒ„é…±çš„ã€‚ç–«æƒ…å¤ªä¸¥é‡äº†ï¼Œè¿˜æ˜¯åœ¨å®¶æ•²ä»£ç å¤ä¹ è€ƒç ”è¯¾å§ã€‚ã€‚ã€‚æ²¡äº‹è¿˜èƒ½æ‰“ä¸€æ‰“æ— é™ç«åŠ›ï¼Œå¤ªå¿«ä¹äº†ï¼‰ï¼Œè¦æ±‚å‡ºä¸¤ä¸ªèµ·ç‚¹åˆ°kfcæœ€çŸ­çš„æ—¶é—´ï¼Œç§»åŠ¨åˆ°ä¸Šä¸‹å·¦å³ç›¸é‚»ç»“ç‚¹è¦èŠ±çš„æ—¶é—´æ˜¯11ï¼ˆä¸ºå•¥æ˜¯11ï¼Œæ˜¯ä¸æ˜¯å‡ºé¢˜äººå•èº«å¤ªä¹…äº†ï¼‰ã€‚é¢˜ç›®ä¿è¯ä¸€å®šæœ‰è§£</p><h3 id="é¢˜è§£-13"><a href="#é¢˜è§£-13" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>åˆæ˜¯bfsï¼Œbfsï¼Œbfsã€‚ã€‚ã€‚ä»ä¸¤ä¸ªç‚¹åˆ†åˆ«åšä¸€æ¬¡bfsï¼Œè¦æ³¨æ„ä¸¤ä¸ªäººä¸æ˜¯åŒæ—¶å‡ºå‘çš„ï¼Œåˆ°è¾¾æ—¶é—´æ˜¯ä¸¤ä¸ªäººæ‰€èŠ±æ—¶é—´ä¹‹å’Œã€‚</p><h3 id="ä»£ç -13"><a href="#ä»£ç -13" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, step;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> step)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">        <span class="keyword">this</span>.step = step;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(Point point)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = point.x;</span><br><span class="line">        <span class="keyword">this</span>.y = point.y;</span><br><span class="line">        <span class="keyword">this</span>.step = point.step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[] dx = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[] dy = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">char</span>[][] mp = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">205</span>][<span class="number">205</span>];</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">boolean</span>[][] vis = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">205</span>][<span class="number">205</span>];</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[][] KFC = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">205</span>][<span class="number">205</span>];<span class="comment">//è®°å½•æ¯ä¸ªkfcçš„æ—¶é—´</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (cin.hasNextInt()) &#123;</span><br><span class="line">            <span class="keyword">int</span> n = cin.nextInt(), m = cin.nextInt();</span><br><span class="line">            <span class="keyword">int</span> ans = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">int</span> yx = <span class="number">0</span>, yy = <span class="number">0</span>, mx = <span class="number">0</span>, my = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            String s = cin.nextLine();</span><br><span class="line">            Queue&lt;Point&gt; queue = <span class="keyword">new</span> LinkedList&lt;Point&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                s = cin.nextLine();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s.length(); j++) &#123;</span><br><span class="line">                    mp[i][j] = s.charAt(j);</span><br><span class="line">                    vis[i][j] = <span class="keyword">false</span>;</span><br><span class="line">                    KFC[i][j] = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">if</span> (mp[i][j] == <span class="string">'Y'</span>) &#123;</span><br><span class="line">                        yx = i;</span><br><span class="line">                        yy = j;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (mp[i][j] == <span class="string">'M'</span>) &#123;</span><br><span class="line">                        mx = i;</span><br><span class="line">                        my = j;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Point now = <span class="keyword">new</span> Point(yx, yy, <span class="number">0</span>);</span><br><span class="line">            queue.offer(now);</span><br><span class="line">            vis[yx][yy] = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">                now = queue.peek();</span><br><span class="line">                queue.poll();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (mp[now.x][now.y] == <span class="string">'@'</span>) KFC[now.x][now.y] = now.step * <span class="number">11</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                    Point next = <span class="keyword">new</span> Point(now);</span><br><span class="line">                    next.step++;</span><br><span class="line">                    next.x += dx[k];</span><br><span class="line">                    next.y += dy[k];</span><br><span class="line">                    <span class="keyword">if</span> (next.x &gt;= <span class="number">0</span> &amp;&amp; next.x &lt; n &amp;&amp; next.y &gt;= <span class="number">0</span> &amp;&amp; next.y &lt; m &amp;&amp; mp[next.x][next.y] != <span class="string">'#'</span> &amp;&amp; !vis[next.x][next.y]) &#123;</span><br><span class="line">                        vis[next.x][next.y] = <span class="keyword">true</span>;</span><br><span class="line">                        queue.offer(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">                    vis[i][j] = <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (!queue.isEmpty()) queue.poll();</span><br><span class="line"></span><br><span class="line">            now = <span class="keyword">new</span> Point(mx, my, <span class="number">0</span>);</span><br><span class="line">            queue.offer(now);</span><br><span class="line">            vis[yx][yy] = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">                now = queue.peek();</span><br><span class="line">                queue.poll();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (mp[now.x][now.y] == <span class="string">'@'</span>)&#123;</span><br><span class="line">                    KFC[now.x][now.y] += now.step * <span class="number">11</span>;</span><br><span class="line">                    ans = Math.min(KFC[now.x][now.y], ans);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                    Point next = <span class="keyword">new</span> Point(now);</span><br><span class="line">                    next.step++;</span><br><span class="line">                    next.x += dx[k];</span><br><span class="line">                    next.y += dy[k];</span><br><span class="line">                    <span class="keyword">if</span> (next.x &gt;= <span class="number">0</span> &amp;&amp; next.x &lt; n &amp;&amp; next.y &gt;= <span class="number">0</span> &amp;&amp; next.y &lt; m &amp;&amp; mp[next.x][next.y] != <span class="string">'#'</span> &amp;&amp; !vis[next.x][next.y]) &#123;</span><br><span class="line">                        vis[next.x][next.y] = <span class="keyword">true</span>;</span><br><span class="line">                        queue.offer(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            System.out.println(ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;tipsï¼šå¤§å®¶è¯„è®ºçš„æ—¶å€™å†™ä¸€ä¸‹é‚®ç®±å’Œæ˜µç§°å‘€ï¼Œå¤´åƒæ˜¯æ ¹æ®æ˜µç§°å’Œé‚®ç®±éšæœºç”Ÿæˆçš„ğŸ˜&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://vjudge.net/article/187&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;kuangbinä¸“é¢˜åˆé›†&lt;/a&gt;&lt;/
      
    
    </summary>
    
      <category term="åˆ·é¢˜" scheme="zhangzef.com/categories/%E5%88%B7%E9%A2%98/"/>
    
    
      <category term="ACM" scheme="zhangzef.com/tags/ACM/"/>
    
      <category term="è“æ¡¥æ¯" scheme="zhangzef.com/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/"/>
    
      <category term="æœç´¢" scheme="zhangzef.com/tags/%E6%90%9C%E7%B4%A2/"/>
    
      <category term="bfsè®°å½•æœ€çŸ­è·¯å¾„" scheme="zhangzef.com/tags/bfs%E8%AE%B0%E5%BD%95%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84/"/>
    
      <category term="bfs" scheme="zhangzef.com/tags/bfs/"/>
    
      <category term="dfs" scheme="zhangzef.com/tags/dfs/"/>
    
      <category term="åŒèµ·ç‚¹bfs" scheme="zhangzef.com/tags/%E5%8F%8C%E8%B5%B7%E7%82%B9bfs/"/>
    
      <category term="å›æº¯" scheme="zhangzef.com/tags/%E5%9B%9E%E6%BA%AF/"/>
    
  </entry>
  
  <entry>
    <title>tarjanæ±‚æœ‰å‘å›¾çš„å¼ºè¿é€šåˆ†é‡</title>
    <link href="zhangzef.com/2019/09/02/tarjan%E6%B1%82%E6%9C%89%E5%90%91%E5%9B%BE%E7%9A%84%E5%BC%BA%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F/"/>
    <id>zhangzef.com/2019/09/02/tarjanæ±‚æœ‰å‘å›¾çš„å¼ºè¿é€šåˆ†é‡/</id>
    <published>2019-09-02T11:37:49.000Z</published>
    <updated>2020-02-14T10:55:47.008Z</updated>
    
    <content type="html"><![CDATA[<p>tarjanåˆ°åº•æ˜¯å¿µâ€œå¡”è¿›â€è¿˜æ˜¯â€œå¡”æ‰¬â€ã€‚å¥½åƒå¤§å¤šæ•°äººéƒ½å¿µâ€œå¡”è¿›â€ï¼Œä½†æ˜¯è‹±è¯­å¥½åƒæ˜¯å¿µâ€œå¡”æ‰¬â€ã€‚èƒ¡æ‰¯ç»“æŸã€‚ã€‚ã€‚</p><p>è¿™ä¸ªtarjanç®—æ³•æ±‚çš„æ˜¯æœ‰å‘å›¾ä¸­çš„å¼ºè¿é€šåˆ†é‡ï¼Œå¹¶å°†ä»–ä»¬åˆå¹¶ã€‚</p><h2 id="å¼ºè¿é€šåˆ†é‡"><a href="#å¼ºè¿é€šåˆ†é‡" class="headerlink" title="å¼ºè¿é€šåˆ†é‡"></a>å¼ºè¿é€šåˆ†é‡</h2><p><strong>ï¼ˆå¦‚æœä¼šå¯ä»¥ç›´æ¥çœ‹tarjanéƒ¨åˆ†ï¼‰</strong>é‚£ä»€ä¹ˆæ˜¯å¼ºè¿é€šåˆ†é‡å‘¢ï¼Ÿå¼ºè¿é€šå˜›ï¼Œå°±æ˜¯<strong>å›¾ä¸­ä»»æ„ä¸¤ç‚¹èƒ½ç›¸äº’åˆ°è¾¾</strong>ã€‚é‚£å¼ºè¿é€šåˆ†é‡å°±æ˜¯ä¸€ä¸ªå›¾ä¸­çš„å¼ºè¿é€šå­å›¾ã€‚</p><p>ç¯æ˜¯æœ€ç®€å•çš„å¼ºè¿é€šåˆ†é‡ï¼š</p><p><img src="http://image.zhangzef.com/20200214184723.png" alt="img" style="zoom:50%;"></p><p>é‚£ä½ å¦‚æœä»1å‡ºå‘ï¼Œåªè¦è½¬ä¸€åœˆå°±èƒ½ç»è¿‡æ‰€æœ‰ç‚¹ã€‚</p><p>å¼ºè¿é€šåˆ†é‡ä¸ç­‰äºç¯ï¼Œè¿˜æœ‰ä¸€äº›å¤æ‚çš„å¼ºè¿é€šåˆ†é‡ï¼Œä¾‹å¦‚å®Œå…¨å›¾ï¼š</p><p><img src="http://image.zhangzef.com/20200214184724.png" alt="img" style="zoom:50%;"></p><p>å¾ˆæ˜æ˜¾èƒ½çœ‹å‡ºä»å›¾ä¸­ä¸€ç‚¹å‡ºå‘ï¼Œå¯åˆ°è¾¾å…¶ä»–ä»»æ„ä¸€ä¸ªç‚¹ã€‚</p><h2 id="tarjanç®—æ³•"><a href="#tarjanç®—æ³•" class="headerlink" title="tarjanç®—æ³•"></a>tarjanç®—æ³•</h2><p>å…ˆä¸Šæ—¶é—´å¤æ‚åº¦ï¼šO(N+M)    ï¼ˆå…¶ä¸­Nå’ŒMåˆ†åˆ«ä¸ºç‚¹æ•°å’Œè¾¹æ•°ï¼‰</p><p>tarjanç®—æ³•æ˜¯é€šè¿‡å¯¹å›¾çš„dfsæ¥æ‰¾å‡ºå…¶ä¸­çš„å¼ºè¿é€šåˆ†é‡ï¼Œå¹¶åˆ†ç±»ã€‚<strong>ï¼ˆéœ€æŒæ¡dfsçš„æ€æƒ³å¹¶ä¸”èƒ½ç†Ÿç»ƒè¿ç”¨ï¼‰</strong></p><h3 id="dfnæ•°ç»„å’Œlowæ•°ç»„è®²è§£"><a href="#dfnæ•°ç»„å’Œlowæ•°ç»„è®²è§£" class="headerlink" title="dfnæ•°ç»„å’Œlowæ•°ç»„è®²è§£"></a>dfnæ•°ç»„å’Œlowæ•°ç»„è®²è§£</h3><p>è¿™é‡Œç»™å‡ºtarjanç®—æ³•ä¸­ä¸¤ä¸ªé‡è¦æ•°ç»„çš„å®šä¹‰ï¼š</p><p>â€‹    dfn[u]ï¼šè¡¨ç¤ºå½“å‰ç»“ç‚¹iåœ¨dfsç®—æ³•ä¸­ç¬¬å‡ ä¸ªè¢«è®¿é—®çš„çš„ç‚¹ã€‚</p><p>â€‹    low[u]ï¼šè¡¨ç¤ºå½“å‰ç»“ç‚¹ièƒ½å›æº¯åˆ°çš„æœ€å°dfsåºç»“ç‚¹ï¼Œ<strong>dfsåºå³dfn[u]çš„å€¼</strong>ã€‚</p><p><img src="http://image.zhangzef.com/20200214184716.png" alt="img" style="zoom:50%;"></p><p>ï¼ˆ6-&gt;1çš„ç®­å¤´ç”»åäº†ï¼Œåº”è¯¥æ—¶1-&gt;6ï¼‰</p><p>å½“ä»ç»“ç‚¹1å¼€å§‹dfsæ—¶ï¼Œå‡è®¾ä¼˜å…ˆå‘ä¸‹è®¿é—®ï¼šdfn[1] = 1;    dfn[6] = 2;å› ä¸ºç¬¬ä¸€ä¸ªè®¿é—®çš„æ—¶ç»“ç‚¹1ï¼Œæ‰€ä»¥å®ƒçš„dfsåºæ˜¯1ï¼Œç¬¬äºŒä¸ªè®¿é—®çš„æ˜¯ç»“ç‚¹6ï¼Œæ‰€ä»¥å®ƒçš„dfsåºæ—¶2ã€‚è®¿é—®å®Œç»“ç‚¹6å‘ç°æ²¡æœ‰è·¯äº†ï¼Œåˆ™å¼€å§‹è®¿é—®ç»“ç‚¹1çš„ä¸‹ä¸€æ¡å‡ºè¾¹ã€‚</p><p>å¼€å§‹è®¿é—®ç»“ç‚¹2ï¼Œåˆšåˆšè®¿é—®çš„ç»“ç‚¹6æ˜¯ç¬¬äºŒä¸ªè®¿é—®çš„ç»“ç‚¹ï¼Œæ‰€ä»¥ç»“ç‚¹2æ˜¯ç¬¬ä¸‰ä¸ªè®¿é—®çš„ç»“ç‚¹ï¼Œå³å®ƒçš„dfsåºä¸º3ï¼šdfn[2] = 3;    dfn[5] = 4;    dfn[4] = 5;    dfn[3] = 6;æˆ‘ä»¬é¡ºç€ç»“ç‚¹2ä¾æ¬¡è®¿é—®ä¸‹å»ï¼Œå‘ç°åªæœ‰ä¸€æ¡è·¯ï¼Œç•…é€šæ— é˜»ã€‚</p><p>å½“è®¿é—®åˆ°ç»“ç‚¹ä¸‰çš„æ—¶å€™æˆ‘ä»¬å‘ç°<strong>ç»“ç‚¹3æœ‰ä¸€æ¡é€šå‘ç»“ç‚¹2çš„è·¯</strong>ï¼Œåˆ™æ­¤æ—¶æˆ‘ä»¬ç§°<strong>ç»“ç‚¹3å›æº¯åˆ°ç»“ç‚¹2</strong>ã€‚æˆ‘ä»¬è¿˜å‘ç°dfn[2]&lt;dfn[3]ï¼Œå³ç»“ç‚¹2åœ¨dfsä¸­æ¯”ç»“ç‚¹3å…ˆè¢«è®¿é—®ã€‚æ­¤æ—¶æˆ‘ä»¬åœ¨dfså›æº¯çš„è¿‡ç¨‹ä¸­ä»¤ï¼šlow[3] = dfn[2];    low[4] = dfn[2];    low[5] = dfn[2];å³ä»¤å›æº¯è·¯ä¸Šçš„æ‰€æœ‰ç‚¹çš„lowæ•°ç»„éƒ½èµ‹å€¼ä¸ºç»“ç‚¹2çš„dfsåºã€‚</p><p>ç”±æ­¤æˆ‘ä»¬ç»å†äº†ä¸€étarjançš„ç®€åŒ–æ­¥éª¤ï¼Œæˆ‘ä»¬èƒ½å‘ç°lowæ•°ç»„çš„å–å€¼ä¸ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">low[u] = min(</span><br><span class="line">    dfn[u],<span class="comment">//1.</span></span><br><span class="line">    dfn[v],<span class="comment">//2.</span></span><br><span class="line">    low[v]<span class="comment">//3.</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><ol><li>lowæ•°ç»„åˆå§‹åŒ–æ—¶ä¸ºå½“å‰ç»“ç‚¹çš„dfsåºï¼Œå³low[u] = dfn[u];</li><li>è¿™é‡Œçš„væ˜¯è¾¹ï¼ˆu, vï¼‰ä¸­çš„vï¼Œå’Œä¸Šå›¾ä¸­è¾¹ï¼ˆ3, 2ï¼‰ç±»ä¼¼ã€‚å½“å‘ç°èƒ½å›æº¯åˆ°çš„ç»“ç‚¹dfsåºå°äºè‡ªèº«dfsåºæ—¶æ›´æ–°lowçš„å€¼</li><li>è¿™é‡Œçš„ï¼ˆu, vï¼‰å’Œä¸Šå›¾ä¸­çš„ï¼ˆ4, 3ï¼‰ç±»ä¼¼ã€‚dfså›æº¯è¿‡ç¨‹ä¸­æ—¶å‘ç°å‰é¢ç»“ç‚¹çš„lowå€¼å°äºè‡ªèº«çš„lowå€¼æ—¶ï¼Œæ›´æ–°è‡ªèº«lowå€¼</li></ol><p>ä»å›¾ä¸­å¯çœ‹å‡º2ï¼Œ 5ï¼Œ 4ï¼Œ 3å››ä¸ªç»“ç‚¹ä¸ºä¸€ä¸ªç¯ï¼Œç¯æ˜¯æœ€ç®€å•çš„å¼ºè¿é€šåˆ†é‡ï¼Œæ‰€ä»¥2ï¼Œ 5ï¼Œ 4ï¼Œ 3ä¸ºä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ã€‚è€Œå•ç‹¬ä¸€ä¸ªç»“ç‚¹æˆ‘ä»¬ä¹Ÿå°†ä»–çœ‹æˆä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ï¼Œå› æ­¤å›¾ä¸­æœ‰ä¸‰ä¸ªå¼ºè¿é€šåˆ†é‡ï¼šï¼ˆ1ï¼‰ï¼ˆ6ï¼‰ï¼ˆ2ï¼Œ4ï¼Œ5ï¼Œ3ï¼‰</p><p>ä»ä¸­æˆ‘ä»¬è§‚å¯Ÿå‡º1ï¼Œ 6ï¼Œ 2çš„dfnå€¼å’Œlowå€¼ç›¸åŒï¼Œæ‰€ä»¥å½“dfn[u]==low[u]æ—¶ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå¼ºè¿é€šåˆ†é‡åœ¨dfsæ ‘ä¸­çš„èµ·å§‹èŠ‚ç‚¹</p><h3 id="tarjanç®—æ³•ä¼ªä»£ç è®²è§£"><a href="#tarjanç®—æ³•ä¼ªä»£ç è®²è§£" class="headerlink" title="tarjanç®—æ³•ä¼ªä»£ç è®²è§£"></a>tarjanç®—æ³•ä¼ªä»£ç è®²è§£</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">tarjan(u)</span><br><span class="line">&#123;</span><br><span class="line">    DFN[u]=Low[u]=++Index<span class="comment">//1.</span></span><br><span class="line">    Stack.push(u)<span class="comment">//2.</span></span><br><span class="line">    <span class="keyword">for</span> each (u, v) in E<span class="comment">//3.</span></span><br><span class="line">        <span class="keyword">if</span> (v is <span class="keyword">not</span> visted)<span class="comment">//4.</span></span><br><span class="line">            tarjan(v)<span class="comment">//dfs</span></span><br><span class="line">            Low[u] = min(Low[u], Low[v])</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (v in S)<span class="comment">//5.</span></span><br><span class="line">            Low[u] = min(Low[u], DFN[v])</span><br><span class="line">    <span class="keyword">if</span> (DFN[u] == Low[u])<span class="comment">//6.</span></span><br><span class="line">        repeat</span><br><span class="line">            v = S.pop<span class="comment">//7.</span></span><br><span class="line">            print v</span><br><span class="line">        until (u== v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>ä¸ºç»“ç‚¹uåˆå§‹åŒ–dfnå’Œlowçš„å€¼ä¸ºdfsæ—¶çš„è®¿é—®é¡ºåºï¼Œindexä¸ºå…¨å±€å˜é‡</li><li>å°†ç»“ç‚¹uå‹å…¥æ ˆä¸­</li><li>éå†ç»“ç‚¹uçš„æ¯ä¸€æ¡è¾¹</li><li>å¦‚æœæ²¡è®¿é—®è¿‡</li><li>å¦‚æœvåœ¨æ ˆä¸­</li><li>ä¸Šé¢è®²è¿‡ï¼Œå½“dfn[u]==low[u]æ—¶ï¼Œè¯¥èŠ‚ç‚¹ä¸ºå¼ºè¿é€šåˆ†é‡æ ¹ç»“ç‚¹</li><li>å°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆï¼Œç›´åˆ°æ ˆé¡¶å…ƒç´ ä¸ºuæ—¶ï¼Œuå‡ºæ ˆï¼Œåˆ™æ­¤æ¬¡å‡ºæ ˆçš„ä¸€ç³»åˆ—å…ƒç´ ä¸ºä¸€ä¸ªå¼ºè¿é€šåˆ†é‡</li></ol><p><img src="http://image.zhangzef.com/20200214184716.png" alt="img" style="zoom:50%;"></p><p>ï¼ˆ6-&gt;1çš„ç®­å¤´ç”»åäº†ï¼Œåº”è¯¥æ—¶1-&gt;6ï¼‰</p><ol><li>ä»ç»“ç‚¹1å¼€å§‹ï¼šdfn[1] = low[1] = 1; ç»“ç‚¹1è¿›æ ˆ<img src="http://image.zhangzef.com/20200214184717.png" alt="img" style="zoom:50%;"></li><li>1-&gt;6ï¼šdfn[6] = low[6] = 2; ç»“ç‚¹6è¿›æ ˆ<img src="http://image.zhangzef.com/20200214184720.png" alt="img" style="zoom:50%;">ç»“ç‚¹6æ²¡æœ‰å‡ºè¾¹ï¼Œæ— æ³•dfsï¼Œå‘ç°dfn[6]==low[6]ï¼Œæ ˆé¡¶å…ƒç´ å‡ºæ ˆï¼Œæ ˆé¡¶å…ƒç´ æ­£å¥½æ—¶ç»“ç‚¹6ï¼Œæ— éœ€ç»§ç»­å‡ºæ ˆï¼Œåˆ™ç»“ç‚¹6è‡ªå·±ä¸ºä¸€ä¸ªå•ç‹¬çš„å¼ºè”é€šåˆ†é‡ã€‚</li><li>1-&gt;2ï¼šdfn[2] = low[2] = 3ï¼›ç»“ç‚¹2è¿›æ ˆ<img src="http://image.zhangzef.com/20200214184718.png" alt="img" style="zoom:50%;">ç»“ç‚¹2æœ‰å‡ºè¾¹ä¸”ä¸ºè®¿é—®ï¼Œå¼€å§‹dfsã€‚</li><li>2-&gt;5ï¼šdfn[5] = low[5] = 4ï¼›ç»“ç‚¹5è¿›æ ˆ<img src="http://image.zhangzef.com/20200214184719.png" alt="img" style="zoom:50%;">ç»“ç‚¹5æœ‰å‡ºè¾¹ä¸”æœªè®¿é—®ï¼Œç»§ç»­dfs</li><li>5-&gt;4ï¼šdfn[4] = low[4] = 5ï¼›ç»“ç‚¹4è¿›æ ˆ<img src="http://image.zhangzef.com/20200214184721.png" alt="img" style="zoom:50%;">ç»“ç‚¹4æœ‰æœªè®¿é—®çš„å‡ºè¾¹ï¼Œç»§ç»­dfs</li><li>4-&gt;3ï¼šdfn[3] = low[3] = 6ï¼›ç»“ç‚¹3è¿›æ ˆ<img src="http://image.zhangzef.com/20200214184722.png" alt="img" style="zoom:50%;">ç»“ç‚¹3æœ‰å‡ºè¾¹ï¼Œä½†ç»“ç‚¹2å·²ç»è®¿é—®è¿‡äº†ï¼Œä¸”ç»“ç‚¹2åœ¨æ ˆé‡Œé¢ï¼Œæ‰€ä»¥3å¯ä»¥å›æº¯åˆ°ç»“ç‚¹2ï¼Œå¯çŸ¥dfn[2]=3, low[3]=6;  æ‰€ä»¥low[3] = dfn[2] = 3;</li><li>æ­¤æ—¶dfn[3]!=low[3]ï¼Œæ‰€ä»¥ä¸å‡ºæ ˆã€‚</li><li>å½“dfså›æº¯åˆ°5-&gt;4çš„æ—¶å€™ï¼Œå‘ç°(low[4]=5) &gt; (low[3]=3)ï¼Œæ‰€ä»¥low[4] = 3;    ä¾æ­¤ç±»æ¨low[5]=3;ä¸”ç›´åˆ°dfså›æº¯åˆ°ç»“ç‚¹2çš„æ—¶å€™æ‰ä¼šè¿›è¡Œå‡ºæ ˆæ“ä½œï¼Œå› ä¸º2æ—¶å¼ºè¿é€šåˆ†é‡çš„æ ¹èŠ‚ç‚¹ã€‚</li><li>ä¸éš¾çœ‹å‡ºï¼Œä¾æ¬¡å‡ºæ ˆçš„æ—¶3ã€4ã€5ã€2ï¼Œè¿™å››ä¸ªç»“ç‚¹ä¸ºä¸€ä¸ªå¼ºè¿é€šåˆ†é‡</li><li>æœ€ådfså›æº¯åˆ°æœ€å¼€å§‹çš„å…¥å£ï¼Œç»“ç‚¹1å‡ºæ ˆ</li><li>ç”±æ­¤çš„å¼ºè¿é€šåˆ†é‡æœ‰3ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼šï¼ˆ1ï¼‰ã€ï¼ˆ6ï¼‰ã€ï¼ˆ3ï¼Œ4ï¼Œ5ï¼Œ2ï¼‰</li></ol><h2 id="tarjanç®—æ³•æ¨¡æ¿"><a href="#tarjanç®—æ³•æ¨¡æ¿" class="headerlink" title="tarjanç®—æ³•æ¨¡æ¿"></a>tarjanç®—æ³•æ¨¡æ¿</h2><h3 id="é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿"><a href="#é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿" class="headerlink" title="é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿"></a>é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">     <span class="keyword">int</span> net;</span><br><span class="line">     <span class="keyword">int</span> to;</span><br><span class="line">     <span class="keyword">int</span> w;</span><br><span class="line">&#125;edge[maxn];</span><br><span class="line"><span class="keyword">int</span> head[maxn], cnt=<span class="number">0</span>;<span class="comment">//1.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_dege</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt].to = v;</span><br><span class="line">    edge[cnt].net = head[u];</span><br><span class="line">    edge[cnt].w = w;</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dfn[maxn], low[maxn], belong[maxn];<span class="comment">//2.</span></span><br><span class="line"><span class="keyword">int</span> index=<span class="number">0</span>, Bcnt;<span class="comment">//3.</span></span><br><span class="line"><span class="keyword">bool</span> instack[maxn];</span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dfn[u] = low[u] = ++index;</span><br><span class="line">    s.push(u);instack[u] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=head[u]; i!=<span class="number">-1</span>; i=edge[i].net)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> v = edge[i].to;</span><br><span class="line">        <span class="keyword">if</span>(!dfn[v])</span><br><span class="line">        &#123;</span><br><span class="line">            tarjan(v);</span><br><span class="line">            low[u] = min(low[v], low[u]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(instack[v] &amp;&amp; dfn[v]&lt;low[u])</span><br><span class="line">            low[u] = dfn[v];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(dfn[u]==low[u])</span><br><span class="line">    &#123;</span><br><span class="line">        Bcnt++;<span class="keyword">int</span> v;</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">        &#123;</span><br><span class="line">            v = s.top();</span><br><span class="line">            s.pop();</span><br><span class="line">            belong[v] = Bcnt;</span><br><span class="line">            instack[v] = <span class="literal">false</span>;</span><br><span class="line">        &#125;<span class="keyword">while</span>(v!=u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bcnt = index = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(dfn, <span class="number">0</span>, <span class="keyword">sizeof</span> dfn);</span><br><span class="line">    <span class="keyword">while</span>(!s.empty())s.pop();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//4.</span></span><br><span class="line">        <span class="keyword">if</span>(!dfn[i])<span class="comment">//5.</span></span><br><span class="line">            tarjan(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>head[u]è®°å¾—åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–ä¸º-1ã€‚</li><li>belongæ•°ç»„å€¼ç›¸åŒçš„ç»“ç‚¹å±äºåŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ã€‚</li><li>Bcntç”¨äºåˆ’åˆ†å¼ºè¿é€šåˆ†é‡</li><li>è¦ä»æ¯ä¸ªç»“ç‚¹éƒ½è¿›è¡Œä¸€æ¬¡tarjanï¼Œå¦åˆ™æœ‰äº›ä¸å¯è¾¾ç»“ç‚¹å°±æ— æ³•åˆ’åˆ†å¼ºè”é€šåˆ†é‡ï¼Œnä¸ºç»“ç‚¹æ•°</li><li>dfnæ•°ç»„åˆå§‹åŒ–ä¸º0ï¼Œå½“dfn[u]çš„å€¼ä¸ä¸º0çš„æ—¶å€™åˆ™è¯´æ˜è¢«è®¿é—®è¿‡äº†</li></ol><h3 id="é‚»æ¥çŸ©é˜µæ¨¡æ¿"><a href="#é‚»æ¥çŸ©é˜µæ¨¡æ¿" class="headerlink" title="é‚»æ¥çŸ©é˜µæ¨¡æ¿"></a>é‚»æ¥çŸ©é˜µæ¨¡æ¿</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> mp[maxn][maxn];<span class="comment">//1.</span></span><br><span class="line"><span class="keyword">int</span> dfn[maxn], low[maxn], belong[maxn];</span><br><span class="line"><span class="keyword">int</span> index=<span class="number">0</span>, Bcnt;</span><br><span class="line"><span class="keyword">bool</span> instack[maxn];</span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dfn[u] = low[u] = ++index;</span><br><span class="line">    s.push(u);instack[u] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> v=<span class="number">0</span>; v&lt;n; v++)<span class="comment">//2.</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(mp[u][v]==<span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!dfn[v])</span><br><span class="line">        &#123;</span><br><span class="line">            tarjan(v);</span><br><span class="line">            low[u] = min(low[v], low[u]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(instack[v] &amp;&amp; dfn[v]&lt;low[u])</span><br><span class="line">            low[u] = dfn[v];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(dfn[u]==low[u])</span><br><span class="line">    &#123;</span><br><span class="line">        Bcnt++;</span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">        &#123;</span><br><span class="line">            v = s.top();</span><br><span class="line">            s.pop();</span><br><span class="line">            belong[v] = Bcnt;</span><br><span class="line">            instack[v] = <span class="literal">false</span>;</span><br><span class="line">        &#125;<span class="keyword">while</span>(v!=u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bcnt = index = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(dfn, <span class="number">0</span>, <span class="keyword">sizeof</span> dfn);</span><br><span class="line">    <span class="keyword">while</span>(!s.empty())s.pop();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">if</span>(!dfn[i])</span><br><span class="line">            tarjan(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>é‚»æ¥çŸ©é˜µï¼Œå½“å€¼ä¸º-1æ—¶è¡¨ç¤ºä¸è¿é€š</li><li>nä¸ºç»“ç‚¹æ•°</li></ol><h3 id="é‚»æ¥è¡¨æ¨¡æ¿"><a href="#é‚»æ¥è¡¨æ¨¡æ¿" class="headerlink" title="é‚»æ¥è¡¨æ¨¡æ¿"></a>é‚»æ¥è¡¨æ¨¡æ¿</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; G[maxn];<span class="comment">//1.</span></span><br><span class="line"><span class="keyword">int</span> dfn[maxn], low[maxn], belong[maxn];</span><br><span class="line"><span class="keyword">int</span> index=<span class="number">0</span>, Bcnt;</span><br><span class="line"><span class="keyword">bool</span> instack[maxn];</span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_eage</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    G[u].push_back(make_pair(w, v));</span><br><span class="line">    <span class="comment">//G[v].push_back(make_pair(w, u));</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dfn[u] = low[u] = ++index;</span><br><span class="line">    s.push(u);instack[u] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;G[u].size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> v = G[u][i].second;</span><br><span class="line">        <span class="keyword">if</span>(!dfn[v])</span><br><span class="line">        &#123;</span><br><span class="line">            tarjan(v);</span><br><span class="line">            low[u] = min(low[v], low[u]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(instack[v] &amp;&amp; dfn[v]&lt;low[u])</span><br><span class="line">            low[u] = dfn[v];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(dfn[u]==low[u])</span><br><span class="line">    &#123;</span><br><span class="line">        Bcnt++;</span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">        &#123;</span><br><span class="line">            v = s.top();</span><br><span class="line">            s.pop();</span><br><span class="line">            belong[v] = Bcnt;</span><br><span class="line">            instack[v] = <span class="literal">false</span>;</span><br><span class="line">        &#125;<span class="keyword">while</span>(v!=u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//2.</span></span><br><span class="line">        G[i].clear();</span><br><span class="line">    Bcnt = index = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(dfn, <span class="number">0</span>, <span class="keyword">sizeof</span> dfn);</span><br><span class="line">    <span class="keyword">while</span>(!s.empty())s.pop();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">if</span>(!dfn[i])</span><br><span class="line">            tarjan(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>ç”¨vectorå’Œpairå®ç°é‚»æ¥è¡¨ï¼Œpairçš„firstä¸ºè·¯å¾„æƒé‡ï¼Œpairçš„secondä¸ºå¦ä¸€ç«¯ç»“ç‚¹</li><li>åˆå§‹åŒ–é‚»æ¥è¡¨</li></ol><h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><h3 id="HDU1269"><a href="#HDU1269" class="headerlink" title="HDU1269"></a><a href="https://vjudge.net/problem/HDU-1269" target="_blank" rel="noopener">HDU1269</a></h3><p>é¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªå›¾ï¼Œè®©ä½ åˆ¤æ–­è¿™ä¸ªå›¾æ˜¯ä¸æ˜¯ä¸€æ•´ä¸ªå¼ºè¿é€šåˆ†é‡</p><p>é¢˜è§£ï¼šæ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œtarjanæ¨¡æ¿é¢˜ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æœ‰çš„èƒ½ç»™çš„å›¾åªæœ‰ç‚¹æ²¡æœ‰è¾¹ï¼Œæ‰€ä»¥ç»“æŸæ¡ä»¶éœ€è¦æ—¶må’ŒnåŒæ—¶ä¸º0æ—¶æ‰è¡Œã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to, net;</span><br><span class="line">&#125;edge[maxn];</span><br><span class="line"><span class="keyword">int</span> head[maxn], cnt=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> dfn[maxn], low[maxn], index, Bcnt, n, m, belong[maxn];</span><br><span class="line"><span class="keyword">bool</span> instack[maxn];</span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt].to = v;</span><br><span class="line">    edge[cnt].net = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt = index = Bcnt = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(dfn, <span class="number">0</span>, <span class="keyword">sizeof</span> dfn);</span><br><span class="line">    <span class="built_in">memset</span>(low, <span class="number">0</span>, <span class="keyword">sizeof</span> low);</span><br><span class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span> head);</span><br><span class="line">    <span class="built_in">memset</span>(instack, <span class="number">0</span>, <span class="keyword">sizeof</span> instack);</span><br><span class="line">    <span class="built_in">memset</span>(belong, <span class="number">0</span>, <span class="keyword">sizeof</span> belong);</span><br><span class="line">    <span class="keyword">while</span>(!s.empty())s.pop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dfn[u] = low[u] = ++index;</span><br><span class="line">    instack[u] = <span class="literal">true</span>;</span><br><span class="line">    s.push(u);</span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; i!=<span class="number">-1</span>; i=edge[i].net)</span><br><span class="line">    &#123;</span><br><span class="line">        v = edge[i].to;</span><br><span class="line">        <span class="keyword">if</span>(!dfn[v])</span><br><span class="line">        &#123;</span><br><span class="line">            tarjan(v);</span><br><span class="line">            <span class="keyword">if</span>(low[v]&lt;low[u])   low[u] = low[v];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(instack[v] &amp;&amp; dfn[v]&lt;low[u])</span><br><span class="line">            low[u] = dfn[v];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(dfn[u]==low[u])</span><br><span class="line">    &#123;</span><br><span class="line">        Bcnt++;</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">        &#123;</span><br><span class="line">            v = s.top();</span><br><span class="line">            s.pop();</span><br><span class="line">            belong[v] = Bcnt;</span><br><span class="line">            instack[v] = <span class="literal">false</span>;</span><br><span class="line">        &#125;<span class="keyword">while</span>(u!=v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt;n &gt;&gt;m &amp;&amp; n+m)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> u, v;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt;u &gt;&gt;v;</span><br><span class="line">            addedge(u, v);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">            <span class="keyword">if</span>(!dfn[i])</span><br><span class="line">                tarjan(i);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> flag = belong[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">bool</span> f = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">            <span class="keyword">if</span>(belong[i]!=flag)</span><br><span class="line">                f = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!f) <span class="built_in">cout</span> &lt;&lt;<span class="string">"No"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt;<span class="string">"Yes"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="HDU1827"><a href="#HDU1827" class="headerlink" title="HDU1827"></a><a href="https://vjudge.net/problem/HDU-1827" target="_blank" rel="noopener">HDU1827</a></h3><p>é¢˜æ„ï¼šç»™ä½ ä¸€äº›äººçš„è”ç³»æ–¹å¼ï¼Œä½†æ˜¯è¿™ç§è”ç³»æ–¹å¼æ—¶æœ‰å‘çš„ï¼Œå³xå¯ä»¥è”ç³»yä¸ä»£è¡¨yå¯ä»¥è”ç³»åˆ°xï¼Œå…¶å®å°±æ˜¯æœ‰å‘å›¾ã€‚ä¹Ÿç»™å‡ºä½ è”ç³»æ¯ä¸ªäººçš„èŠ±è´¹ï¼Œå¦‚æœå¯ä»¥è®©åˆ«äººå¸®å¿™è”ç³»ï¼Œå°±å¯ä»¥ä¸éœ€è¦èŠ±è´¹è¯è´¹ã€‚æ±‚æœ€å°‘éœ€è¦è”ç³»å¤šå°‘äººå’ŒèŠ±è´¹å¤šå°‘è¯è´¹ã€‚</p><p>é¢˜è§£ï¼šè¿™é“é¢˜æ²¡æœ‰é‚£ä¹ˆç›´æ¥ï¼Œä½†æ˜¯ä¹Ÿèƒ½çœ‹å‡ºå’Œå¼ºè¿é€šåˆ†é‡æœ‰å…³ã€‚è¿™é“é¢˜è¦æ±‚çš„æ˜¯<strong>æ²¡æœ‰å…¥è¾¹çš„å¼ºè¿é€šåˆ†é‡çš„ä¸ªæ•°</strong>ï¼Œå¹¶ä¸”æ±‚å‡ºè¿™äº›æ²¡æœ‰å…¥è¾¹çš„å¼ºè”é€šåˆ†é‡ä¸­èŠ±è´¹æœ€å°çš„äººã€‚ä¸ºä»€ä¹ˆæ˜¯æ²¡æœ‰å…¥è¾¹çš„å¼ºè¿é€šåˆ†é‡è€Œä¸æ˜¯å¼ºè¿é€šåˆ†é‡ï¼Œå› ä¸ºæœ‰å¦‚å…¥è¾¹çš„å¼ºè”é€šåˆ†é‡å¯ä»¥è¢«å…¶ä»–äººé€šçŸ¥åˆ°ï¼Œå°±ä¸éœ€è¦ä½ å†äº²è‡ªé€šçŸ¥äº†ã€‚ï¼ˆä¸€å¼€å§‹æˆ‘ç†è§£æˆå¼ºè¿é€šåˆ†é‡çš„ä¸ªæ•°äº†(&gt;_&lt;) ï¼‰è¿™é¢˜è¦ç”¨scnafå’Œprintfï¼Œä¸èƒ½ç”¨cinå’Œcoutï¼Œæ•°æ®é‡å¤§ï¼Œä¼šè¶…æ—¶ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e4</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">1</span>&lt;&lt;<span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to, net;</span><br><span class="line">&#125; edge[maxn];</span><br><span class="line"><span class="keyword">int</span> head[maxn], cnt=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> dfn[maxn], low[maxn], index, Bcnt, n, m, belong[maxn], fee[maxn], cost[maxn], ans;</span><br><span class="line"><span class="keyword">bool</span> instack[maxn], in[maxn];<span class="comment">//1.</span></span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt].to = v;</span><br><span class="line">    edge[cnt].net = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt = index = ans = Bcnt = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(dfn, <span class="number">0</span>, <span class="keyword">sizeof</span> dfn);</span><br><span class="line">    <span class="built_in">memset</span>(low, <span class="number">0</span>, <span class="keyword">sizeof</span> low);</span><br><span class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span> head);</span><br><span class="line">    <span class="built_in">memset</span>(instack, <span class="number">0</span>, <span class="keyword">sizeof</span> instack);</span><br><span class="line">    <span class="built_in">memset</span>(belong, <span class="number">0</span>, <span class="keyword">sizeof</span> belong);</span><br><span class="line">    <span class="built_in">memset</span>(in, <span class="number">0</span>, <span class="keyword">sizeof</span> in);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;maxn; i++)</span><br><span class="line">        cost[i]=INF;</span><br><span class="line">    <span class="built_in">memset</span>(fee, <span class="number">0</span>, <span class="keyword">sizeof</span> fee);</span><br><span class="line">    <span class="keyword">while</span>(!s.empty())</span><br><span class="line">        s.pop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dfn[u] = low[u] = ++index;</span><br><span class="line">    instack[u] = <span class="literal">true</span>;</span><br><span class="line">    s.push(u);</span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; i!=<span class="number">-1</span>; i=edge[i].net)</span><br><span class="line">    &#123;</span><br><span class="line">        v = edge[i].to;</span><br><span class="line">        <span class="keyword">if</span>(!dfn[v])</span><br><span class="line">        &#123;</span><br><span class="line">            tarjan(v);</span><br><span class="line">            <span class="keyword">if</span>(low[v]&lt;low[u])</span><br><span class="line">                low[u] = low[v];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(instack[v] &amp;&amp; dfn[v]&lt;low[u])</span><br><span class="line">            low[u] = dfn[v];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(dfn[u]==low[u])</span><br><span class="line">    &#123;</span><br><span class="line">        Bcnt++;</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">        &#123;</span><br><span class="line">            v = s.top();</span><br><span class="line">            s.pop();</span><br><span class="line">            belong[v] = Bcnt;</span><br><span class="line">            instack[v] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(u!=v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;fee[i]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> u, v;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">            addedge(u, v);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">            <span class="keyword">if</span>(!dfn[i])</span><br><span class="line">                tarjan(i);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> cnt=Bcnt;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)<span class="comment">//2.</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=head[i]; j!=<span class="number">-1</span>; j=edge[j].net)</span><br><span class="line">                <span class="keyword">if</span>(belong[i]!=belong[edge[j].to] &amp;&amp; !in[belong[edge[j].to]])</span><br><span class="line">                &#123;</span><br><span class="line">                    in[belong[edge[j].to]] = <span class="literal">true</span>;</span><br><span class="line">                    cnt--;</span><br><span class="line">                &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)<span class="comment">//3.</span></span><br><span class="line">            <span class="keyword">if</span>(!in[belong[i]])</span><br><span class="line">                cost[belong[i]] = min(cost[belong[i]], fee[i]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=Bcnt; i++)</span><br><span class="line">            <span class="keyword">if</span>(!in[i])</span><br><span class="line">                ans+=cost[i];</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, cnt, ans);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>inæ•°ç»„è¡¨ç¤ºè¯¥å¼ºè¿é€šåˆ†é‡æ˜¯å¦æœ‰å…¥è¾¹ï¼Œä¸ºtrueåˆ™æœ‰ï¼Œfalseåˆ™æ²¡æœ‰ã€‚</li><li>è¿™ä¸ªforå¾ªç¯æ±‚å‡ºæœ‰å…¥è¾¹çš„å¼ºè¿é€šåˆ†é‡ï¼Œå³çœ‹çœ‹æ¯ä¸ªç‚¹çš„å…¥è¾¹æ˜¯å¦å’Œè‡ªå·±åœ¨åŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ä¸­å³å¯ã€‚cntä¸ºæ²¡æœ‰å…¥è¾¹çš„ä¸ªæ•°ã€‚</li><li>æ±‚å‡ºæ²¡æœ‰å…¥è¾¹çš„å¼ºè¿é€šåˆ†é‡ä¸­çš„æœ€å°èŠ±è´¹ï¼Œcost[i]ä»£è¡¨ç¬¬iä¸ªå¼ºè¿é€šåˆ†é‡çš„èŠ±è´¹</li></ol><h2 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h2><ol><li><a href="https://www.byvoid.com/zhs/blog/scc-tarjan" target="_blank" rel="noopener">BYVoidæœ‰å‘å›¾å¼ºè¿é€šåˆ†é‡çš„tarjanç®—æ³•</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;tarjanåˆ°åº•æ˜¯å¿µâ€œå¡”è¿›â€è¿˜æ˜¯â€œå¡”æ‰¬â€ã€‚å¥½åƒå¤§å¤šæ•°äººéƒ½å¿µâ€œå¡”è¿›â€ï¼Œä½†æ˜¯è‹±è¯­å¥½åƒæ˜¯å¿µâ€œå¡”æ‰¬â€ã€‚èƒ¡æ‰¯ç»“æŸã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªtarjanç®—æ³•æ±‚çš„æ˜¯æœ‰å‘å›¾ä¸­çš„å¼ºè¿é€šåˆ†é‡ï¼Œå¹¶å°†ä»–ä»¬åˆå¹¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¼ºè¿é€šåˆ†é‡&quot;&gt;&lt;a href=&quot;#å¼ºè¿é€šåˆ†é‡&quot; class=&quot;
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="zhangzef.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ACM" scheme="zhangzef.com/tags/ACM/"/>
    
      <category term="å›¾è®º" scheme="zhangzef.com/tags/%E5%9B%BE%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>å·®åˆ†çº¦æŸ</title>
    <link href="zhangzef.com/2019/08/01/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/"/>
    <id>zhangzef.com/2019/08/01/å·®åˆ†çº¦æŸ/</id>
    <published>2019-08-01T06:53:59.000Z</published>
    <updated>2020-02-14T10:53:52.480Z</updated>
    
    <content type="html"><![CDATA[<p><strong>å·®åˆ†çº¦æŸç³»ç»Ÿ</strong>æ˜¯æ±‚è§£ä¸€ç»„ç‰¹æ®Šçš„ä¸ç­‰å¼ç»„çš„æ–¹æ³•ã€‚</p><h2 id="å·®åˆ†çº¦æŸä¸¾ä¾‹"><a href="#å·®åˆ†çº¦æŸä¸¾ä¾‹" class="headerlink" title="å·®åˆ†çº¦æŸä¸¾ä¾‹"></a>å·®åˆ†çº¦æŸä¸¾ä¾‹</h2><p>å·®åˆ†çº¦æŸæ˜¯æœ‰nä¸ªå˜é‡å’Œmä¸ªä¸ç­‰å¼ç»„æˆçš„ã€‚å…¶ä¸­æ¯ä¸ªä¸ç­‰å¼éƒ½æ˜¯å½¢å¦‚ï¼š$x_i-x_j \leq b_k(i,j\in[1,n], k\in[1,m])$  æˆ– $x_i-x_j \geq b_k(i,j\in[1,n], k\in[1,m])$ ã€‚</p><p>å…¶ä¸­xä¸ºnä¸ªå˜é‡ï¼Œbä¸ºmä¸ªä¸ç­‰å¼å³è¾¹çš„å€¼ï¼Œç”¨bçš„å€¼æ¥çº¦æŸxçš„å·®ç§°ä¸ºå·®åˆ†çº¦æŸã€‚æ±‚ä¸€ç»„è§£ï¼š$x_1=a_1,\quad x_2=a_2,\cdots x_n=a_n$ä½¿å¾—æ‰€æœ‰çº¦æŸæ¡ä»¶(å³mä¸ªä¸ç­‰å¼)å‡æˆç«‹ï¼Œåˆ™ç§°å·®åˆ†çº¦æŸæœ‰è§£ï¼Œå¦åˆ™æ— è§£ã€‚</p><p>ä¾‹å¦‚ï¼š<br>$$<br>(1)x_1-x_3 \leq 5;\quad<br>(2)x_3-x_5 \leq 4;\quad<br>$$<br>$$<br>(3)x_3-x_2 \leq 1;\quad<br>(4)x_1-x_5 \leq 10;\quad<br>(5)x_2-x_5 \leq 2;\quad<br>$$</p><p>è§‚å¯Ÿ$ x_1-x_5 $çš„å…³ç³»ï¼Œæœ‰å¦‚ä¸‹ä¸‰ç§å…³ç³»ï¼š</p><ol><li>(4)                $x_1-x_5 \leq 10$</li><li>(1)+(2)         $x_1-x_5 \leq 9$</li><li>(1)+(3)+(5)   $x_1-x_5 \leq 8 $</li></ol><p>å› ä¸ºè¦æ»¡è¶³æ‰€æœ‰ç­‰å¼çš„å…³ç³»ï¼Œæ‰€ä»¥å–å…¶ä¸­æœ€å¤§çš„3.$x_1-x_5 \leq 8$  å› ä¸º8ä¸€å®šå°äº9å’Œ10å˜›ï¼Œå¦‚æœ$x_1-x_5$å°äºç­‰äº8äº†ï¼Œé‚£ä»–ä»¬ä¸€å®šå°äºç­‰äº9å’Œ10ã€‚</p><h2 id="æœ€çŸ­è·¯é—®é¢˜"><a href="#æœ€çŸ­è·¯é—®é¢˜" class="headerlink" title="æœ€çŸ­è·¯é—®é¢˜"></a>æœ€çŸ­è·¯é—®é¢˜</h2><p>è§‚å¯Ÿå¯å‘ç° $x_i-x_j \leq b_k$ å¯è½¬æ¢ä¸ºï¼š$x_i \leq b_k+x_j$ ã€‚ä¸æ±‚æœ€çŸ­è·¯å…¬å¼ä¸­çš„dis[j]&lt;dis[i]+w[i, j]éå¸¸ç›¸ä¼¼ï¼Œé‚£å·®åˆ†çº¦æŸé—®é¢˜æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥è½¬åŒ–æˆæœ€çŸ­è·¯é—®é¢˜æ¥æ±‚è§£å‘¢ï¼Ÿè‚¯å®šæ˜¯å¯ä»¥çš„ï¼å…ˆæ¥çœ‹ä¸ªä¾‹å­ï¼š</p><p><img src="http://image.zhangzef.com/20200214185016.png" alt="img" style="zoom:50%;"></p><p>ä»”ç»†è§‚å¯Ÿå›¾ä¸­å¯å‘ç°æ€»å…±æœ‰ä¸‰æ¡è·¯å¾„ï¼š</p><ol><li>5 -&gt; 1                      é•¿åº¦ä¸º10</li><li>5 -&gt; 3 -&gt; 1               é•¿åº¦ä¸º9</li><li>5 -&gt; 2 -&gt; 3 -&gt; 1        é•¿åº¦ä¸º8</li></ol><p>å¾ˆå®¹æ˜“å‘ç°ä»5åˆ°1çš„æœ€çŸ­è·¯å¾„æ˜¯8ã€‚é‚£ä¸ºä»€ä¹ˆæ±‚å·®åˆ†çº¦æŸé—®é¢˜èƒ½å’Œæœ€çŸ­è·¯é—®é¢˜è”ç³»åˆ°ä¸€èµ·å‘¢ï¼Ÿæ­¤å¤„è¦å…ˆäº†è§£æœ€çŸ­è·¯çŸ¥è¯†ï¼Œä¸æ‡‚çš„å¯ä»¥çœ‹ä¸€çœ‹æˆ‘å‰é¢å†™çš„åšå®¢ï¼š1.<a href="https://zhangzef.com/2019/07/25/%E6%9C%80%E7%9F%AD%E8%B7%AF--Dijkstra/">dijkstra</a>    2.<a href="https://zhangzef.com/2019/07/26/%E6%9C%80%E7%9F%AD%E8%B7%AF-SPFA/">SPFA</a>    3.<a href="https://zhangzef.com/2019/07/30/%E6%9C%80%E7%9F%AD%E8%B7%AF-Floyd/">Floyd</a></p><h2 id="å·®åˆ†çº¦æŸå’Œæœ€çŸ­è·¯é—®é¢˜"><a href="#å·®åˆ†çº¦æŸå’Œæœ€çŸ­è·¯é—®é¢˜" class="headerlink" title="å·®åˆ†çº¦æŸå’Œæœ€çŸ­è·¯é—®é¢˜"></a>å·®åˆ†çº¦æŸå’Œæœ€çŸ­è·¯é—®é¢˜</h2><p>å¯¹äºæ¯ä¸ªä¸ç­‰å¼$x_i-x_j \leq b_k$ï¼Œæˆ‘ä»¬éƒ½ä»ç»“ç‚¹jå‘ç»“ç‚¹iè¿ä¸€æ¡é•¿åº¦ä¸º$b_k$çš„æœ‰å‘è¾¹ã€‚æ­¤æ—¶å†çœ‹ä¸Šé¢ç»™å‡ºçš„é‚£äº›ä¸ç­‰å¼æ‰€è½¬åŒ–æˆçš„å›¾ï¼Œæ˜¯å¦å’Œç»™å‡ºçš„å›¾ä¸€æ ·å‘¢ï¼Œæœ€åæ±‚è§£çš„ç­”æ¡ˆä¹Ÿä¸€æ ·ã€‚é‚£ä¹ˆæˆ‘ä»¬å°†å·®åˆ†çº¦æŸé—®é¢˜è½¬åŒ–æˆæœ€çŸ­è·¯é—®é¢˜ï¼Œç”±æœ€çŸ­è·¯çŸ¥è¯†å¯çŸ¥ï¼Œå½“å›¾ä¸­å­˜åœ¨å¯è¾¾åˆ°çš„è´Ÿç¯æ—¶ï¼Œæœ€çŸ­è·¯ä¸€å®šæ— è§£ã€‚æ‰€ä»¥å¯ä»¥ç”¨SPFAæ¥åˆ¤æ–­è¯¥å·®åˆ†çº¦æŸé—®é¢˜æ˜¯å¦æœ‰è§£ã€‚</p><p>è¿™æ—¶å€™å°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œåœ¨æœ€çŸ­è·¯ä¸­æœ‰äº›ç‚¹æ˜¯ä¸å¯è¾¾çš„ï¼Œå½“é‡åˆ°ä¸å¯è¾¾çš„è´Ÿç¯ç”¨SPFAä¸€å®šåˆ¤æ–­ä¸å‡ºæ¥ï¼Œä½†æ­¤æ—¶å·®åˆ†çº¦æŸå´æ˜¯æ— è§£çš„ã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿæœ‰ä¸¤ç§æ–¹æ³•ï¼Œå…¶å®æœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ï¼š</p><ol><li>æˆ‘ä»¬æ–°å®šä¹‰ä¸€ä¸ªç»“ç‚¹ï¼Œå¯ä»¥æ˜¯$x_0$ï¼Œè®©å®ƒå‘æ‰€æœ‰å…¶å®ƒç»“ç‚¹è¿ä¸€æ¡è¾¹ï¼Œè®©è¿™äº›è¾¹çš„æƒå€¼ä¸º0ã€‚å› ä¸ºSPFAæ˜¯ä¸€ä¸ªbfsçš„è¿‡ç¨‹(æœ‰äº›é¢˜ç›®éœ€è¦æŠŠspfaæ”¹æˆdfsçš„å½¢å¼ï¼Œä½†æ˜¯å¹¶ä¸å½±å“å®ƒè®¿é—®çš„ç»“ç‚¹ä¸ªæ•°ï¼Œåªæ˜¯è®¿é—®é¡ºåºä¸ä¸€æ ·)ï¼Œæ‰€ä»¥ä»è¿™ä¸ªç»“ç‚¹å‡ºå‘ä¸€å®šèƒ½åˆ°è¾¾æ‰€æœ‰ç»“ç‚¹ï¼Œè€Œä¸”ä¸ä¼šå½±å“ç»“æœçš„æ­£ç¡®æ€§ã€‚</li><li>ç¬¬äºŒç§æ–¹æ³•å°±æ¯”è¾ƒæš´åŠ›äº†ï¼Œç°åœ¨é—®é¢˜æ˜¯æœ‰çš„ç»“ç‚¹è®¿é—®ä¸åˆ°æ€ä¹ˆåŠï¼Œspfaåˆæ˜¯æ±‚å•æºæœ€çŸ­è·¯ï¼Œé‚£æˆ‘ä»¬ç›´æ¥ä¸€ä¸ªforå¾ªç¯ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½å½“ä¸€æ¬¡æºç‚¹ï¼Œæ±‚næ¬¡å•æºæœ€çŸ­è·¯ï¼Œè¿™æ ·å°±èƒ½è®¿é—®åˆ°æ‰€æœ‰ç»“ç‚¹äº†ã€‚</li></ol><p>ä¸¤ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æˆ‘ä¸å¤ªä¼šåˆ†æï¼Œä½†æ˜¯æ„Ÿè§‰å¥½åƒå·®ä¸å¤šä¸€æ ·çš„ã€‚</p><h2 id="å˜åŒ–æŠ€å·§"><a href="#å˜åŒ–æŠ€å·§" class="headerlink" title="å˜åŒ–æŠ€å·§"></a>å˜åŒ–æŠ€å·§</h2><h3 id="ä¸ç­‰å¼è½¬åŒ–"><a href="#ä¸ç­‰å¼è½¬åŒ–" class="headerlink" title="ä¸ç­‰å¼è½¬åŒ–"></a>ä¸ç­‰å¼è½¬åŒ–</h3><p>æœ‰æ—¶å€™é¢˜ä¸­ä¼šç»™å‡ºä¸‰ç§ä¸ç­‰å¼ï¼Œä½†æ˜¯æ±‚æœ€çŸ­è·¯åªèƒ½æœ‰ä¸€ç§ä¸ç­‰å¼ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥æŠŠå…¶ä»–ä¸ç­‰å¼å˜åŒ–æˆä¸€æ ·çš„ä¸ç­‰å¼ï¼Œè¿›è€Œè½¬åŒ–æˆå›¾ã€‚</p><table><thead><tr><th style="text-align:center">é¢˜æ„</th><th style="text-align:center">è½¬åŒ–</th><th style="text-align:center">è¿è¾¹</th></tr></thead><tbody><tr><td style="text-align:center">$x_i-x_j \leq b_k$</td><td style="text-align:center">$x_i-x_j \leq b_k$</td><td style="text-align:center">add(j, i, $b_k$)</td></tr><tr><td style="text-align:center">$x_i-x_j \geq b_k $</td><td style="text-align:center">$x_j-x_i \leq -b_k$</td><td style="text-align:center">add(i, j, -$b_k$)</td></tr><tr><td style="text-align:center">$x_i=x_j$</td><td style="text-align:center">$x_i-x_j \leq 0$, $x_j-x_i \leq 0$</td><td style="text-align:center">add(i, j, 0), add(j, i, 0)</td></tr></tbody></table><h3 id="æœ€çŸ­è·¯ä¸æœ€é•¿è·¯å’Œå·®åˆ†çº¦æŸçš„å…³ç³»"><a href="#æœ€çŸ­è·¯ä¸æœ€é•¿è·¯å’Œå·®åˆ†çº¦æŸçš„å…³ç³»" class="headerlink" title="æœ€çŸ­è·¯ä¸æœ€é•¿è·¯å’Œå·®åˆ†çº¦æŸçš„å…³ç³»"></a>æœ€çŸ­è·¯ä¸æœ€é•¿è·¯å’Œå·®åˆ†çº¦æŸçš„å…³ç³»</h3><p>æœ‰æœ€çŸ­è·¯äº†ä¸€å®šä¹Ÿæœ‰æœ€é•¿è·¯ï¼Œé‚£ä»–ä»¬å’Œå·®åˆ†çº¦æŸæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p><p>å½“æˆ‘ä»¬è¦æ±‚å·®åˆ†çº¦æŸçš„æœ€å°å€¼æ—¶ï¼Œä¸€å®šå¸Œæœ›æ‰€æœ‰ä¸ç­‰å¼éƒ½æ˜¯å¤§äºç­‰äºå·ï¼Œè¿™æ ·æ±‚å‡ºæ¥çš„ä¸€å®šæ˜¯æœ€å°å€¼ã€‚ä½†æ˜¯å½“æˆ‘ä»¬æœ‰mä¸ªçº¦æŸæ¡ä»¶ï¼ˆå³ä¸ç­‰å¼ï¼‰ï¼Œæˆ‘ä»¬æƒ³è¦æ»¡è¶³æ‰€æœ‰å¤§äºç­‰äºçš„ä¸ç­‰å¼ï¼Œæˆ‘ä»¬ä¸€å®šå¾—æ‰¾åˆ°æ‰€æœ‰$ b_k $ä¸­æœ€å¤§çš„é‚£ä¸€ä¸ªï¼Œè¿™æ ·å¦‚æœæ»¡è¶³äº†æœ€å¤§çš„é‚£ä¸ª$ b_k $ä¸ç­‰å¼ï¼Œå…¶ä»–çš„å¤§äºç­‰äºä¸ç­‰å¼ä¹Ÿä¸€å®šéƒ½æ»¡è¶³äº†ã€‚æ‰€ä»¥æ±‚$x_i-x_j$çš„æœ€å°å€¼ï¼Œå°±æ˜¯æ±‚å›¾ä¸­çš„æœ€é•¿è·¯ã€‚æ‰€ä»¥ï¼Œ<strong>æ±‚æœ€é•¿è·¯å°±æ˜¯æ±‚å·®åˆ†çº¦æŸä¸­çš„æœ€å°å€¼</strong>ã€‚æ±‚æœ€é•¿è·¯çš„æ—¶å€™æœ‰æ­£ç¯åˆ™æ— è§£ã€‚</p><p>åŒç†<strong>æ±‚æœ€çŸ­è·¯å°±æ˜¯æ±‚å·®åˆ†çº¦æŸçš„æœ€å¤§å€¼</strong>ã€‚æ±‚æœ€çŸ­è·¯çš„æ—¶å€™æœ‰è´Ÿç¯åˆ™æ— è§£ã€‚</p><p>ä»€ä¹ˆï¼Ÿä½ é—®æˆ‘æœ€é•¿è·¯æ€ä¹ˆæ±‚ï¼ŸæŠŠæœ€çŸ­è·¯ç®—æ³•ä¸­çš„å°äºå·æ”¹æˆå¤§äºå·ä¸å°±è¡Œäº†ã€‚</p><h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><p><a href="https://www.luogu.org/problem/P1993" target="_blank" rel="noopener">æ´›è°·P1993</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://blog.csdn.net/WhereIsHeroFrom/article/details/78922648" target="_blank" rel="noopener">å¤œæ·±äººé™å†™ç®—æ³•ï¼ˆå››ï¼‰- æœ€çŸ­è·¯å’Œå·®åˆ†çº¦æŸ</a></li><li><a href="https://oi-wiki.org" target="_blank" rel="noopener">OI-WiKiï¼ˆä¸€ä¸ªç®—æ³•ç«èµ›çš„ç™¾ç§‘ï¼‰</a></li><li><a href="https://zh.wikipedia.org/wiki/å·®åˆ†çº¦æŸç³»ç»Ÿ" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘ï¼šå·®åˆ†çº¦æŸç³»ç»Ÿ</a></li><li><a href="https://www.luogu.org/blog/user33173/solution-p1993" target="_blank" rel="noopener">P1993å°Kçš„å†œåœº é¢˜è§£</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;å·®åˆ†çº¦æŸç³»ç»Ÿ&lt;/strong&gt;æ˜¯æ±‚è§£ä¸€ç»„ç‰¹æ®Šçš„ä¸ç­‰å¼ç»„çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å·®åˆ†çº¦æŸä¸¾ä¾‹&quot;&gt;&lt;a href=&quot;#å·®åˆ†çº¦æŸä¸¾ä¾‹&quot; class=&quot;headerlink&quot; title=&quot;å·®åˆ†çº¦æŸä¸¾ä¾‹&quot;&gt;&lt;/a&gt;å·®åˆ†çº¦æŸä¸¾ä¾‹&lt;/h2&gt;&lt;p&gt;å·®åˆ†çº¦æŸæ˜¯æœ‰n
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="zhangzef.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ACM" scheme="zhangzef.com/tags/ACM/"/>
    
      <category term="å›¾è®º" scheme="zhangzef.com/tags/%E5%9B%BE%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>å›¾çš„è¾¹å­˜å‚¨--é“¾å¼å‰å‘æ˜Ÿ</title>
    <link href="zhangzef.com/2019/07/31/%E5%9B%BE%E7%9A%84%E8%BE%B9%E5%AD%98%E5%82%A8-%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F/"/>
    <id>zhangzef.com/2019/07/31/å›¾çš„è¾¹å­˜å‚¨-é“¾å¼å‰å‘æ˜Ÿ/</id>
    <published>2019-07-31T11:01:36.000Z</published>
    <updated>2020-02-14T10:54:08.494Z</updated>
    
    <content type="html"><![CDATA[<p>é“¾å¼å‰å‘æ˜Ÿæ˜¯åœ¨çœ‹å·®åˆ†çº¦æŸçš„é¢˜çš„æ—¶å€™å¶ç„¶é—´çœ‹åˆ°çš„ï¼Œä¸€å¼€å§‹æ²¡å¤ªé‡è§†å®ƒï¼Œæ„Ÿè§‰å¥½åƒæ²¡æ€ä¹ˆå¬è¯´è¿‡ã€‚è¿˜è¦å®šä¹‰ç»“æ„ä½“ï¼Œè€Œä¸”éœ€è¦è¾…åŠ©æ•°ç»„ï¼Œæ„Ÿè§‰æŒºéº»çƒ¦çš„ã€‚è¿˜ä¸å¦‚ç›´æ¥ç”¨STLçš„vector+pairå®šä¹‰çš„é‚»æ¥è¡¨å¥½ç”¨ã€‚ä½†æ˜¯åæ¥å‘ç°å¤§å®¶å†™SPFAçš„æ—¶å€™éƒ½ç”¨çš„é“¾å¼å‰å‘æ˜Ÿï¼Œæ„Ÿè§‰è¿˜æ˜¯å†™ä¸ªåšå®¢å­¦ä¹ ä¸€ä¸‹å§ï¼Œä»¥å‰éƒ½æ²¡å¬è¯´è¿‡ï¼Œå¤ªèœäº†ã€‚ã€‚ã€‚</p><p>è¾¹å­˜å‚¨ç»“æ„å­˜çš„éƒ½æ˜¯æœ‰å‘è¾¹ï¼ï¼ï¼</p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>é€‚ç”¨èŒƒå›´å¹¿ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰å›¾è®ºçš„é¢˜éƒ½èƒ½ç”¨é“¾å¼å‰å‘æ˜Ÿæ¥å­˜å‚¨ã€‚</li><li>å­˜å‚¨æ•ˆç‡é«˜ï¼Œåƒé‚»æ¥è¡¨ä¸€æ ·ä¸ä¼šå­˜å‚¨ä¸å­˜åœ¨çš„è¾¹</li><li>å¯ä»¥ç”¨æ¥æ›¿ä»£é‚»æ¥è¡¨ï¼Œç”¨vectorå®ç°é‚»æ¥è¡¨å¥½åƒå®¹æ˜“çˆ†å†…å­˜(çœ‹åˆ«äººè¯´çš„)å¥½åƒä¹Ÿç¡®å®ï¼Œvectoråœ¨å®¹é‡ä¸å¤Ÿæ—¶ä¼šé‡æ–°å¼€è¾Ÿä¸€ä¸ªä¸¤å€äºåŸæ¥å¤§å°çš„æ•°ç»„ã€‚</li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>é‚»æ¥è¡¨çš„ç¼ºç‚¹å®ƒéƒ½æœ‰ï¼Œ<ul><li>æ— æ³•åˆ¤æ–­é‡è¾¹(å¿…é¡»éå†æŸ¥æ‰¾)</li><li>æ— æ³•æ“ä½œæŸä¸ªç‰¹å®šçš„è¾¹(å¿…é¡»éå†æŸ¥æ‰¾)</li></ul></li><li>ç›¸å¯¹äºé‚»æ¥çŸ©é˜µæ¥è¯´ä¸å®¹æ˜“å®ç°å’Œç†è§£</li></ul><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">     <span class="keyword">int</span> net;<span class="comment">//1.</span></span><br><span class="line">     <span class="keyword">int</span> to;</span><br><span class="line">     <span class="keyword">int</span> w;</span><br><span class="line">&#125;edge[maxn];</span><br><span class="line"><span class="keyword">int</span> head[maxn], cnt=<span class="number">0</span>;<span class="comment">//2.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_dege</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt].to = v;</span><br><span class="line">    edge[cnt].net = head[u];<span class="comment">//3.</span></span><br><span class="line">    edge[cnt].w = w;</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=head[u]; i!=<span class="number">-1</span>; i=edge[i].net)<span class="comment">//4.</span></span><br></pre></td></tr></table></figure><p>æ³¨é‡Šï¼š</p><ol><li>netæ˜¯nextï¼Œæœ‰æ—¶å€™å®šä¹‰nextå¯èƒ½ä¼šå’Œç³»ç»Ÿå…³é”®å­—é‡å¤ï¼Œæ‰€ä»¥å®šä¹‰ä¸ºnetã€‚netæŒ‡å‘å½“å‰è¾¹çš„å‡ºå‘ç»“ç‚¹çš„ä¸‹ä¸€æ¡è¾¹åœ¨edgeæ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚SPFAæ˜¯ä¸€ä¸ªbfsçš„è¿‡ç¨‹ï¼Œè¿›è¡Œå¹¿æœæ—¶ä¼šå…ˆéå†æŸä¸ªé¡¶ç‚¹çš„æ‰€æœ‰å‡ºè¾¹ï¼Œnetå³æŒ‡å‘å½“å‰ç»“ç‚¹çš„ä¸‹ä¸€æ¡å‡ºè¾¹ã€‚toå³å½“å‰è¾¹çš„å°¾ç»“ç‚¹ã€‚wå³æƒé‡ã€‚</li><li>head[u]å³å­˜å‚¨uç»“ç‚¹çš„ç¬¬ä¸€ä¸ªå‡ºè¾¹åœ¨edgeæ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚cntå³è®°å½•å½“å‰å­˜å‚¨åˆ°edgeæ•°ç»„çš„ç¬¬å‡ ä½äº†ï¼Œç”¨æ¥è®¾ç½®æ•°ç»„ä¸‹æ ‡ã€‚</li><li>é“¾å¼å‰å‘æ˜Ÿæ˜¯åç€å­˜å‚¨çš„ï¼Œå³å…ˆè¾“å…¥çš„è¾¹å­˜åœ¨åé¢ï¼Œæœ‰äº›ç±»ä¼¼äºæ ˆï¼Œåè¿›å…ˆå‡ºã€‚å½“açš„ç¬¬ä¸€æ¡å‡ºè¾¹å­˜å…¥edgeæ•°ç»„ä¸­ï¼Œnetç­‰äºhead[u]ï¼Œå³-1ã€‚(æ‰€æœ‰headåˆå§‹åŒ–ä¸º-1ï¼Œ-1è¡¨ç¤ºæ²¡æœ‰è¾¹å­˜å…¥)ä¹‹åhead[u]è¢«èµ‹å€¼ä¸ºcntï¼Œå³åˆšè¾“å…¥çš„é‚£æ¡è¾¹åœ¨edgeæ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚å½“açš„ç¬¬äºŒæ¡è¾¹å­˜å…¥edgeæ•°ç»„æ—¶ï¼Œnetç­‰äºhead[u]ï¼Œæ­¤æ—¶head[u]å­˜çš„æ˜¯ä¸Šä¸€æ¬¡å­˜å‚¨ä»¥uä¸ºå‡ºè¾¹çš„è¾¹åœ¨edgeæ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚æ¯æ¬¡head[u]å­˜å‚¨çš„éƒ½æ˜¯ä¸Šä¸€ä¸ªuçš„è¾¹ï¼Œæ‰€ä»¥éå†çš„æ—¶å€™æ˜¯å…ˆéå†æœ€åè¾“å…¥uçš„è¾¹ã€‚</li><li>é“¾å¼å‰å‘æ˜Ÿéå†ç»“ç‚¹uæ‰€æœ‰å‡ºè¾¹çš„æ–¹æ³•ï¼Œå½“ç­‰äº-1æ—¶è¡¨ç¤ºæ²¡æœ‰ä¸‹ä¸€æ¡è¾¹äº†ï¼Œéå†ç»“æŸã€‚</li></ol><h2 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h2><p><img src="http://image.zhangzef.com/20200214185127.png" alt="img" style="zoom:50%;"></p><p>è¾“å…¥é¡ºåºä¸ºï¼š</p><table><thead><tr><th style="text-align:left">u = 0</th><th style="text-align:left">v = 1</th></tr></thead><tbody><tr><td style="text-align:left">u = 1</td><td style="text-align:left">v = 3</td></tr><tr><td style="text-align:left">u = 0</td><td style="text-align:left">v = 2</td></tr><tr><td style="text-align:left">u = 2</td><td style="text-align:left">v = 3</td></tr><tr><td style="text-align:left">u = 1</td><td style="text-align:left">v = 2</td></tr><tr><td style="text-align:left">u = 3</td><td style="text-align:left">v = 4</td></tr><tr><td style="text-align:left">u = 4</td><td style="text-align:left">v = 2</td></tr></tbody></table><p>æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹</p><table><thead><tr><th>edge[0].to = 1</th><th>edge[0].net = -1</th><th>head[0] = 0</th><th>cnt = 0</th></tr></thead><tbody><tr><td>edge[1].to = 3</td><td>edge[1].net = -1</td><td>head[1] = 0</td><td>cnt = 1</td></tr><tr><td>edge[2].to = 2</td><td>edge[2].net = 0</td><td>head[0] = 2</td><td>cnt = 2</td></tr><tr><td>edge[3].to = 3</td><td>edge[3].net = -1</td><td>head[2] = 0</td><td>cnt = 3</td></tr><tr><td>edge[4].to = 2</td><td>edge[4].net = 0</td><td>head[1] = 4</td><td>cnt = 4</td></tr><tr><td>edge[5].to = 4</td><td>edge[5].net = -1</td><td>head[3] = 5</td><td>cnt = 5</td></tr><tr><td>edge[6].to = 2</td><td>edge[6].net = -1</td><td>head[4] = 6</td><td>cnt = 6</td></tr></tbody></table><p>ä¸Šå›¾ä¸­0çš„å‡ºè¾¹æœ‰ä¸¤æ¡ï¼Œåœ¨edgeæ•°ç»„ä¸­çš„å­˜å‚¨ä½ç½®åˆ†åˆ«ä¸º0ã€2ï¼Œæœ€åhead[0] = 2ï¼›å½“éå†ä»¥0ä¸ºèµ·ç‚¹çš„è¾¹æ—¶ï¼Œå…ˆä»edge[2]å¼€å§‹éå†ï¼Œå¯å‘ç°edge[2].net = 0;å³ä»¥0ä¸ºèµ·ç‚¹çš„æœ€åä¸€æ¡è¾¹ã€‚å¯çœ‹å‡ºï¼Œéå†å’Œè¾“å…¥é¡ºåºæ˜¯ç›¸åçš„ï¼Œä½†æ˜¯å¹¶ä¸å½±å“ç»“æœã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://blog.csdn.net/acdreamers/article/details/16902023(" target="_blank" rel="noopener">ä¸çŸ¥é“ä¸ºä»€ä¹ˆ404äº†</a></li><li><a href="https://jzqt.github.io/2015/07/21/ACM%E5%9B%BE%E8%AE%BA%E4%B9%8B%E5%AD%98%E5%9B%BE%E6%96%B9%E5%BC%8F/#%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F" target="_blank" rel="noopener">ACMå›¾è®ºä¹‹å­˜å›¾æ–¹å¼</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é“¾å¼å‰å‘æ˜Ÿæ˜¯åœ¨çœ‹å·®åˆ†çº¦æŸçš„é¢˜çš„æ—¶å€™å¶ç„¶é—´çœ‹åˆ°çš„ï¼Œä¸€å¼€å§‹æ²¡å¤ªé‡è§†å®ƒï¼Œæ„Ÿè§‰å¥½åƒæ²¡æ€ä¹ˆå¬è¯´è¿‡ã€‚è¿˜è¦å®šä¹‰ç»“æ„ä½“ï¼Œè€Œä¸”éœ€è¦è¾…åŠ©æ•°ç»„ï¼Œæ„Ÿè§‰æŒºéº»çƒ¦çš„ã€‚è¿˜ä¸å¦‚ç›´æ¥ç”¨STLçš„vector+pairå®šä¹‰çš„é‚»æ¥è¡¨å¥½ç”¨ã€‚ä½†æ˜¯åæ¥å‘ç°å¤§å®¶å†™SPFAçš„æ—¶å€™éƒ½ç”¨çš„é“¾å¼å‰å‘æ˜Ÿï¼Œæ„Ÿè§‰è¿˜æ˜¯å†™ä¸ªåšå®¢å­¦ä¹ ä¸€ä¸‹å§ï¼Œ
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="zhangzef.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ACM" scheme="zhangzef.com/tags/ACM/"/>
    
      <category term="å›¾è®º" scheme="zhangzef.com/tags/%E5%9B%BE%E8%AE%BA/"/>
    
      <category term="å›¾çš„å­˜å‚¨" scheme="zhangzef.com/tags/%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8/"/>
    
  </entry>
  
</feed>
